---
title: "{monochromeR}：可以私人定制调色盘啦！"
date: 2022-11-25T01:24:00Z
draft: ["false"]
tags: [
  "fetched",
  "R语言和统计"
]
categories: ["Acdemic"]
---
{monochromeR}：可以私人定制调色盘啦！ by R语言和统计
------
<div><p data-mpa-powered-by="yiban.io"><span>今天小编分享一个有意思的R包，能自己做出“私人定制”版调色盘。<br></span></p><section><span>首先，安装并载入需要的R包：</span><br mpa-from-tpl="t"></section><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" mpa-preserve="t" mpa-from-tpl="t"><pre><code><span>install.packages(<span>"monochromeR"</span>)<br mpa-from-tpl="t">install.packages(<span>"ggbeeswarm"</span>)<br mpa-from-tpl="t"><br mpa-from-tpl="t"></span><span>library</span><span>(monochromeR)<br mpa-from-tpl="t"></span><span>library</span><span>(ggbeeswarm)</span></code></pre></section><p><span>接下来，只需要使用R包</span><span>{monochromeR}</span><span>的函数</span><span>generate_palette()</span><span>，</span><span>即可自定义想要的调色盘</span><span>[1]</span><span>。</span></p><p><span><br></span></p><p><span>假设只想要一个颜色的渐变色调色盘，可以这么做：<br></span></p><p><span><br mpa-from-tpl="t"></span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" mpa-preserve="t" mpa-from-tpl="t"><pre><code><span>generate_palette(<span>"firebrick"</span>, <br mpa-from-tpl="t">                 modification = <span>"go_both_ways"</span>, <span># 还可以选"go_lighter", "go_darker"</span><br mpa-from-tpl="t">                 n_colours = <span>5</span>, <br mpa-from-tpl="t">                 view_palette = </span><span>TRUE</span><span>)</span></code></pre></section><p><img data-galleryid="" data-ratio="0.7625313283208021" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/pCu8RzQCByRvx3opDnDSEFp0u6TMUKv3vJsP3fbOXibor7fd7b02icibs63eNeqjibxt2wGecDiaww0Eq7jCYtt6ZaA/640?wx_fmt=png" data-type="png" data-w="1596" src="https://mmbiz.qpic.cn/mmbiz_png/pCu8RzQCByRvx3opDnDSEFp0u6TMUKv3vJsP3fbOXibor7fd7b02icibs63eNeqjibxt2wGecDiaww0Eq7jCYtt6ZaA/640?wx_fmt=png"></p><section><span>上述代码中</span><span>modification="go_both_ways"</span><span>，指的是让颜色的两端分别变深和变浅。</span></section><section><span><br></span></section><section><span>如果想让调色盘颜色更丰富，可以选择两个颜色混合的调色盘：</span></section><section><span><br mpa-from-tpl="t"></span></section><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" mpa-preserve="t" mpa-from-tpl="t"><pre><code>my_palette &lt;- generate_palette(<span>"darkblue"</span>, <br mpa-from-tpl="t">                 blend_colour = <span>"orange"</span>, <br mpa-from-tpl="t">                 n_colours = <span>8</span>, <br mpa-from-tpl="t">                 view_palette = <span>TRUE</span>, <br mpa-from-tpl="t">                 view_labels = <span>FALSE</span>)</code></pre></section><p><img data-galleryid="" data-ratio="0.6633522727272727" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/pCu8RzQCByRvx3opDnDSEFp0u6TMUKv3Ib6ttbniavtV7lrJohyeibmrsZtPzOKLpPDQpMS3RoluMMf6YSNfoyJw/640?wx_fmt=png" data-type="png" data-w="1408" src="https://mmbiz.qpic.cn/mmbiz_png/pCu8RzQCByRvx3opDnDSEFp0u6TMUKv3Ib6ttbniavtV7lrJohyeibmrsZtPzOKLpPDQpMS3RoluMMf6YSNfoyJw/640?wx_fmt=png"></p><section><span>上述调色盘被存入my_palette中，顾名思义就是小编私人的调色盘啦<img data-ratio="1" data-src="https://mmbiz.qpic.cn/mmbiz_png/pCu8RzQCByRvx3opDnDSEFp0u6TMUKv3SYcAjuyxkicbqH0JWx6waWibhADjVsamKtgl3GgSUNgbK5TCQeKAYapw/640?wx_fmt=png" data-type="png" data-w="20" src="https://mmbiz.qpic.cn/mmbiz_png/pCu8RzQCByRvx3opDnDSEFp0u6TMUKv3SYcAjuyxkicbqH0JWx6waWibhADjVsamKtgl3GgSUNgbK5TCQeKAYapw/640?wx_fmt=png">~</span></section><section><span><br></span></section><section><span>下面再来做个蜂群图，试试私人调色盘<span>到底成功没</span>。</span></section><section><span><br mpa-from-tpl="t"></span></section><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" mpa-preserve="t" mpa-from-tpl="t"><pre><code><span>ggplot(mpg, aes(drv, hwy, fill = <span><span>class</span>, <span>size</span> = <span>class</span>)) + <br mpa-from-tpl="t">  <span>geom_beeswarm</span><span>(shape = <span>21</span>, alpha = <span>0.4</span>)</span> + <br mpa-from-tpl="t">  <span>theme_classic</span><span>()</span> + <br mpa-from-tpl="t">  <span>scale_fill_manual</span><span>(values = my_palette)</span> + </span></span><span># 使用自己的调色盘来改变组间颜色</span><span> <br mpa-from-tpl="t">  <span>guides</span><span>(size = <span>"none"</span>)</span> + <br mpa-from-tpl="t">  <span>theme</span><span>(plot.title = element_text<span>(colour = my_palette[<span>6</span>], size = <span>15</span>)</span>)</span> + </span><span># 标题颜色也选用自己的调色盘</span><span><br mpa-from-tpl="t">  <span>labs</span><span>(title = <span>"My Palette"</span>,<br mpa-from-tpl="t">     caption = <span>"Data from 'mpg'"</span>,<br mpa-from-tpl="t">     x = <span>"The type of drive train"</span>,<br mpa-from-tpl="t">     y = <span>"Highway miles per gallon"</span>, <br mpa-from-tpl="t">     fill = <span>"Type of cars"</span>)</span></span></code></pre></section><p><img data-galleryid="" data-ratio="0.6636005256241787" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/pCu8RzQCByRvx3opDnDSEFp0u6TMUKv3U2Wx849tf5npqicHt4zTficMKqOVeB6WdtWJluFXpJJv0y4rcZlLSHXA/640?wx_fmt=png" data-type="png" data-w="1522" src="https://mmbiz.qpic.cn/mmbiz_png/pCu8RzQCByRvx3opDnDSEFp0u6TMUKv3U2Wx849tf5npqicHt4zTficMKqOVeB6WdtWJluFXpJJv0y4rcZlLSHXA/640?wx_fmt=png"></p><section><span>需要稍微留意的是，所创建的调色盘中所包含的颜色个数，要大于或等于作图所需要的。例如上述my_palette中有八个颜色，变量class有七个水平，所以可以成功作图。反之，会报错哦。</span></section><p><br></p><p><span><span>好啦，今天的内容就到这里。</span><span>如果有帮助，记得分享给需要的人</span></span><img data-ratio="1" data-src="https://res.wx.qq.com/t/wx_fed/we-emoji/res/v1.3.10/assets/Expression/Expression_67@2x.png" data-w="20" src="https://res.wx.qq.com/t/wx_fed/we-emoji/res/v1.3.10/assets/Expression/Expression_67@2x.png"><span>！</span></p><p><br></p><p><span>参考文献</span></p><p><br mpa-from-tpl="t"></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" mpa-preserve="t" mpa-from-tpl="t"><pre><code><span>[1].https://github.com/cararthompson/monochromeR</span></code></pre></section><p><br></p><section data-mpa-template="t" mpa-from-tpl="t"><section><span>▌本文由</span><span><strong mpa-from-tpl="t"><span>R语言和统计</span></strong></span><span>首发</span></section><section><span>▌课程相关咨询可添加R师妹微信: kefu_rstats</span></section><section><span>▌编辑：June</span></section><section><span>▌邮箱：contact@rstats.cn</span></section><section><span>▌网站：www.rstats.cn</span></section><section><span>▌<strong>我们致力于</strong><strong>让R语言和统计变得简单！</strong></span></section><section><span><strong></strong><br></span></section><section mpa-from-tpl="t"><section label="Powered by 135editor.com" data-role="outer" mpa-from-tpl="t"><section data-role="paragraph" mpa-from-tpl="t"><section data-mpa-template="t" mpa-from-tpl="t"><section mpa-from-tpl="t"><section label="Powered by 135editor.com" data-role="outer" mpa-from-tpl="t"><section data-role="paragraph" mpa-from-tpl="t"><section mpa-from-tpl="t"><section mpa-from-tpl="t"><section label="Powered by 135editor.com" data-role="outer" mpa-from-tpl="t"><section data-role="paragraph" mpa-from-tpl="t"><hr><section><br></section></section></section></section></section></section></section></section></section></section></section></section></section><p><br></p><p><mp-style-type data-value="3"></mp-style-type></p></div>  
<hr>
<a href="https://mp.weixin.qq.com/s/DjhjZyNzDL5pt1-M-GboSA",target="_blank" rel="noopener noreferrer">原文链接</a>
