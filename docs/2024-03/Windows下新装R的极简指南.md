---
title: "Windows下新装R的极简指南"
date: 2024-03-05T06:22:33Z
draft: ["false"]
tags: [
  "fetched",
  "YuLabSMU"
]
categories: ["Acdemic"]
---
Windows下新装R的极简指南 by YuLabSMU
------
<div><section data-tool="mdnice编辑器" data-website="https://www.mdnice.com" data-mpa-powered-by="yiban.io"><p data-tool="mdnice编辑器">刚刚新鲜装的<code>R</code>，顺道记录一下。</p><h2 data-tool="mdnice编辑器"><span></span>安装scoop</h2><p data-tool="mdnice编辑器">首先是在<code>Powershell</code>里跑以下两行代码，安装<code>scoop</code>。</p><pre data-tool="mdnice编辑器"><span></span><code>&gt; Set-ExecutionPolicy RemoteSigned -Scope CurrentUser # Optional: Needed to run a remote script the first time<br>&gt; irm get.scoop.sh | iex<br></code></pre><h2 data-tool="mdnice编辑器"><span></span>安装GNU核心工具</h2><p data-tool="mdnice编辑器">接下来，就可以用<code>scoop</code>来安装各种软件了，又是两行代码，这次安装的是GNU的核心工具，包括bash, make, gawk and grep等等。</p><pre data-tool="mdnice编辑器"><span></span><code>scoop bucket add main<br>scoop install coreutils<br></code></pre><h2 data-tool="mdnice编辑器"><span></span>使用bash</h2><p data-tool="mdnice编辑器">那么Windows的终端，配置一下，主要是选个bash的命令。那么就可以开始愉快地使用bash了。</p><p data-tool="mdnice编辑器"><img data-galleryid="" data-ratio="0.5462962962962963" data-s="300,640" data-type="png" data-w="1080" data-src="https://mmbiz.qpic.cn/mmbiz_png/MPBFtnFrw4lleibvuUq7icumRAh1ibEo4NymyIepwzclibFK9EJgv7zGtOTxAENM90jtOAUgVsRcrKDpS9Tib1KH1JA/640?wx_fmt=png" src="https://mmbiz.qpic.cn/mmbiz_png/MPBFtnFrw4lleibvuUq7icumRAh1ibEo4NymyIepwzclibFK9EJgv7zGtOTxAENM90jtOAUgVsRcrKDpS9Tib1KH1JA/640?wx_fmt=png"></p><p data-tool="mdnice编辑器">使用bash主要是熟悉，而Powershell太不熟了。然后各种指令就可以在bash下执行了。</p><p data-tool="mdnice编辑器"><img data-galleryid="" data-ratio="0.5462962962962963" data-s="300,640" data-type="png" data-w="1080" data-src="https://mmbiz.qpic.cn/mmbiz_png/MPBFtnFrw4lleibvuUq7icumRAh1ibEo4NyIDyCicc7hIx7Av1VFKEUmsC7ysJRuqDyonOpXDibafOGfkGbjvic1jk5w/640?wx_fmt=png" src="https://mmbiz.qpic.cn/mmbiz_png/MPBFtnFrw4lleibvuUq7icumRAh1ibEo4NyIDyCicc7hIx7Av1VFKEUmsC7ysJRuqDyonOpXDibafOGfkGbjvic1jk5w/640?wx_fmt=png"></p><h2 data-tool="mdnice编辑器"><span></span>安装R</h2><p data-tool="mdnice编辑器">一条指令搞定：</p><pre data-tool="mdnice编辑器"><span></span><code>scoop install r<br></code></pre><h2 data-tool="mdnice编辑器"><span></span></h2><p><img data-galleryid="" data-ratio="0.5462962962962963" data-s="300,640" data-type="png" data-w="1080" data-src="https://mmbiz.qpic.cn/mmbiz_png/MPBFtnFrw4lleibvuUq7icumRAh1ibEo4NyQW6h9dDPC3qdOhsZ0lLKB2FVjF45XeAcYicxQRRWYXnYiclYrjE6dicMw/640?wx_fmt=png" src="https://mmbiz.qpic.cn/mmbiz_png/MPBFtnFrw4lleibvuUq7icumRAh1ibEo4NyQW6h9dDPC3qdOhsZ0lLKB2FVjF45XeAcYicxQRRWYXnYiclYrjE6dicMw/640?wx_fmt=png"></p><h2 data-tool="mdnice编辑器">安装vs-code</h2><p data-tool="mdnice编辑器">也是两条指令：</p><pre data-tool="mdnice编辑器"><span></span><code>scoop bucket add extras<br>scoop install vscode       <br></code></pre><h2 data-tool="mdnice编辑器"><span></span>配置vscode中使用R</h2><p data-tool="mdnice编辑器">安装R包，"languageserver"和"httpgd"就可以了。然后就是vscode端的操作，安装REditorSupport。最后在<code>.Rprofile</code>文件里加入：</p><pre data-tool="mdnice编辑器"><span></span><code><br><span>if</span> (interactive() &amp;&amp; Sys.getenv(<span>"TERM_PROGRAM"</span>) == <span>"vscode"</span>) {<br>  <span>if</span> (<span>"httpgd"</span> %<span>in</span>% .packages(all.available = TRUE)) {<br>    options(vsc.plot = FALSE)<br>    options(device = <span>function</span>(...) {<br>      httpgd::hgd(silent = TRUE)<br>      .vsc.browser(httpgd::hgd_url(<span>history</span> = FALSE), viewer = <span>"Beside"</span>)<br>    })<br>  }<br>}<br></code></pre><p data-tool="mdnice编辑器">这样子，出图是svg，窗口拉动，图能缩放。</p></section><p><img data-galleryid="" data-ratio="0.6361111111111111" data-s="300,640" data-type="png" data-w="1080" data-src="https://mmbiz.qpic.cn/mmbiz_png/MPBFtnFrw4lleibvuUq7icumRAh1ibEo4Ny125ruvlc3xCUQiaGJwXu6nPKZJjF6047TAV4ic1hJiajHtW1cibfxl4IGQ/640?wx_fmt=png" src="https://mmbiz.qpic.cn/mmbiz_png/MPBFtnFrw4lleibvuUq7icumRAh1ibEo4Ny125ruvlc3xCUQiaGJwXu6nPKZJjF6047TAV4ic1hJiajHtW1cibfxl4IGQ/640?wx_fmt=png"></p><section data-tool="mdnice编辑器" data-website="https://www.mdnice.com"><p data-tool="mdnice编辑器">以前一直在Emacs里用R，现在转向vs-code了。Rstudio一直是路人。如果你想装Rstudio的话，也是两行代码，scoop bucket add extras这句之后，再来一句scoop install rstudio。用scoop的好处就是bash下的命令行小程序很多可以安装，在不需要WSL的前提下，你可以愉快地用bash。对于装各种软件来说，不用去下载，不用傻瓜地点下一步。一句scoop install，就搞定了，下次要升级，也是直接一句话的事。</p><h1 data-tool="mdnice编辑器"><span></span><span>做为R开发者，你还需要点啥 (Optional)</span><span></span></h1><p data-tool="mdnice编辑器">这是可选项，因为R语言很多人只是用户。而做为开发者的话，我们还需要有rtools，和pandoc。</p><p data-tool="mdnice编辑器">用以下指令安装就行：</p><pre data-tool="mdnice编辑器"><span></span><code>scoop install rtools<br><br>scoop install pandoc<br>scoop install pandoc-crossref<br></code></pre><p data-tool="mdnice编辑器">安装<code>pandoc</code>是编译vignettes时需要。而你编译R包的话，是需要<code>rtools</code>的。</p><p><img data-galleryid="" data-ratio="0.32037037037037036" data-s="300,640" data-type="png" data-w="1080" data-src="https://mmbiz.qpic.cn/mmbiz_png/MPBFtnFrw4nmLqZ1gdsgCBfsNdUHk3WpQUkrLkRfSia5KgvEMcibQgva7tGNMAjRiapF8CXn2eHaROeyIYK00YXWg/640?wx_fmt=png" src="https://mmbiz.qpic.cn/mmbiz_png/MPBFtnFrw4nmLqZ1gdsgCBfsNdUHk3WpQUkrLkRfSia5KgvEMcibQgva7tGNMAjRiapF8CXn2eHaROeyIYK00YXWg/640?wx_fmt=png"></p></section><p><mp-style-type data-value="3"></mp-style-type></p></div>  
<hr>
<a href="https://mp.weixin.qq.com/s/rnk85VX9MZdmv-ITjEnh2w",target="_blank" rel="noopener noreferrer">原文链接</a>
