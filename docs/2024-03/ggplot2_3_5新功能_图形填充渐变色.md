---
title: "ggplot2 3.5新功能-图形填充渐变色"
date: 2024-03-08T15:58:13Z
draft: ["false"]
tags: [
  "fetched",
  "R语言数据分析指南"
]
categories: ["Acdemic"]
---
ggplot2 3.5新功能-图形填充渐变色 by R语言数据分析指南
------
<div><section data-tool="mdnice编辑器" data-website="https://www.mdnice.com"><h3 data-tool="mdnice编辑器"><span></span><span><span></span>欢迎关注R语言数据分析指南</span><span></span></h3><blockquote data-tool="mdnice编辑器"><span>❝</span><p>2月底ggplot2更新了最新版3.5，本节来介绍一下ggplot2 3.5版更新的内容之<strong>「填充渐变色」</strong>，更新最新版即可实现此操作，更多详细内容请参考作者官方文档。</p><span>❞</span></blockquote><h3 data-tool="mdnice编辑器"><span></span><span><span></span>官方文档</span><span></span></h3><pre data-tool="mdnice编辑器"><span></span><code>https://www.tidyverse.org/blog/<span>2024</span>/<span>02</span>/ggplot2-<span>3</span>-<span>5</span>-<span>0</span>/<br></code></pre><p data-tool="mdnice编辑器"><strong>「Windows系统需要额外进行设置」</strong><img data-imgfileid="100026319" data-ratio="0.43148148148148147" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAbj6Hc2mIYe2wqh9jVU7Z5jWYgMOJFsib9gLUicvuX4CqQcQf5L2atJYt816LXbuIcsy4X6kK1icHKkw/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAbj6Hc2mIYe2wqh9jVU7Z5jWYgMOJFsib9gLUicvuX4CqQcQf5L2atJYt816LXbuIcsy4X6kK1icHKkw/640?wx_fmt=png&amp;from=appmsg"></p><h3 data-tool="mdnice编辑器"><span></span><span><span></span>加载R包</span><span></span></h3><pre data-tool="mdnice编辑器"><span></span><code><span>library</span>(grid)<br>install.packages(<span>"ggplot2"</span>)<br><span>library</span>(ggplot2)<br><span>library</span>(tidyverse)<br><span>library</span>(scales)<br></code></pre><h3 data-tool="mdnice编辑器"><span></span><span><span></span>定义渐变颜色</span><span></span></h3><blockquote data-tool="mdnice编辑器"><span>❝</span><p>有linearGradient()、radialGradient()、pattern()三种方式来生成渐变色</p><span>❞</span></blockquote><pre data-tool="mdnice编辑器"><span></span><code>colours &lt;- scales::viridis_pal()(<span>10</span>)<br>grad_ungroup &lt;- linearGradient(colours, group = <span>FALSE</span>)<br>grad_grouped &lt;- linearGradient(colours, group = <span>TRUE</span>)<br><br>ungroup &lt;- ggplot(mpg, aes(factor(cyl))) +<br>  geom_bar(fill = grad_ungroup) +<br>  labs(title = <span>"Ungrouped gradient"</span>)<br><br>grouped &lt;- ggplot(mpg, aes(factor(cyl))) +<br>  geom_bar(fill = grad_grouped) +<br>  labs(title = <span>"Grouped gradient"</span>)<br><br>ungroup | grouped<br></code></pre><figure data-tool="mdnice编辑器"><img data-imgfileid="100026320" data-ratio="0.5814814814814815" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAbj6Hc2mIYe2wqh9jVU7Z5jVP9ITnbFf5sbSGUg92sYVDSmncCFZry9vqEeibR0WwMB9pKf7lkib4OA/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAbj6Hc2mIYe2wqh9jVU7Z5jVP9ITnbFf5sbSGUg92sYVDSmncCFZry9vqEeibR0WwMB9pKf7lkib4OA/640?wx_fmt=png&amp;from=appmsg"></figure><h3 data-tool="mdnice编辑器"><span></span><span><span></span>添加渐变图案</span><span></span></h3><pre data-tool="mdnice编辑器"><span></span><code>patterns &lt;- list(<br>  linearGradient(colours, group = <span>FALSE</span>),<br>  <span>"limegreen"</span>,<br>  radialGradient(colours, group = <span>FALSE</span>),<br>  pattern(<br>    rectGrob(x = c(<span>0.25</span>, <span>0.75</span>), y = c(<span>0.25</span>, <span>0.75</span>), width = <span>0.5</span>, height = <span>0.5</span>),<br>    width = unit(<span>5</span>, <span>"mm"</span>), height = unit(<span>5</span>, <span>"mm"</span>), extend = <span>"repeat"</span>,<br>    gp = gpar(fill = <span>"limegreen"</span>)<br>  )<br>)<br><br>ggplot(mpg, aes(factor(cyl), fill = factor(cyl))) +<br>  geom_bar() +<br>  scale_fill_manual(values = patterns)<br></code></pre><figure data-tool="mdnice编辑器"><img data-imgfileid="100026318" data-ratio="0.5814814814814815" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAbj6Hc2mIYe2wqh9jVU7Z5j04UN5zxPicOhibXp3U4CJM1NyEL909CkgiaNEIpGCf9HuYvPNicFfRZROg/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAbj6Hc2mIYe2wqh9jVU7Z5j04UN5zxPicOhibXp3U4CJM1NyEL909CkgiaNEIpGCf9HuYvPNicFfRZROg/640?wx_fmt=png&amp;from=appmsg"></figure><blockquote data-tool="mdnice编辑器"><span>❝</span><p>可以看到更新后ggplot2的功能更加强大了，真是非常的方便。本节介绍到此结束，有需要学习数据可视化的朋友欢迎加入小编的VIP会员群，购买小编VIP会员文档的读者，<strong>「将自动获得2024年及以后更新的绘图文档代码，无需额外付费」</strong>。目前会员文档(2023+2024)<strong>「已经更新上传了140+案例文档」</strong>，每个案例都附有相应的数据和代码，并配有对应的注释文档，方便大家学习和参考。<strong>「有需要者可加小编微信进行咨询，无需求请勿扰」</strong></p><span>❞</span></blockquote><p data-tool="mdnice编辑器"><strong>「2024更新的绘图内容同时包含数据+代码+markdown注释文档+文档清单」</strong><img data-imgfileid="100026321" data-ratio="0.6175925925925926" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAbj6Hc2mIYe2wqh9jVU7Z5jMUR9bUPvcTInia6mFoJia9llcHGBSNshKuh8EKCI6z5MQ6ewBajFIkkA/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAbj6Hc2mIYe2wqh9jVU7Z5jMUR9bUPvcTInia6mFoJia9llcHGBSNshKuh8EKCI6z5MQ6ewBajFIkkA/640?wx_fmt=png&amp;from=appmsg"></p><h3 data-tool="mdnice编辑器"><span></span><span><span></span>小编微信</span><span></span></h3><p><img data-galleryid="" data-imgfileid="100023796" data-ratio="0.9526748971193416" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAYuzCAcZM19cfgtvK2OTbyBgHpNpicHiaCicicyRCFnsYAJIcVP7gRHGcWDsdsucrgMLgEymSx5QxyoDA/640?wx_fmt=png" data-type="png" data-w="972" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAYuzCAcZM19cfgtvK2OTbyBgHpNpicHiaCicicyRCFnsYAJIcVP7gRHGcWDsdsucrgMLgEymSx5QxyoDA/640?wx_fmt=png"></p><h3 data-tool="mdnice编辑器"><span></span><span><span></span>关注下方公众号下回更新不迷路</span><span></span></h3><section><mp-common-profile data-pluginname="mpprofile" data-id="Mzg3MzQzNTYzMw==" data-headimg="http://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAZF0rpeZII9Ltl26VbVagriczTria1fib3XgjwwHEHFjPzkmGpqWDVVHBSzhENictUM2iavAKiaM5lc9USw/0?wx_fmt=png" data-nickname="R语言数据分析指南" data-alias="YanJANtwo" data-signature="R语言重症爱好者，喜欢绘制各种精美的图表，喜欢的小伙伴可以关注我，跟我一起学习" data-from="0" data-is_biz_ban="0"></mp-common-profile></section></section><p><mp-style-type data-value="3"></mp-style-type></p></div>  
<hr>
<a href="https://mp.weixin.qq.com/s/hfgSGijgmDkYc_KeDwbB-w",target="_blank" rel="noopener noreferrer">原文链接</a>
