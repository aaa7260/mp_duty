---
title: "生信小课堂(1) 自动化下载fastq数据"
date: 2023-10-03T16:51:59Z
draft: ["false"]
tags: [
  "fetched",
  "R语言数据分析指南"
]
categories: ["Acdemic"]
---
生信小课堂(1) 自动化下载fastq数据 by R语言数据分析指南
------
<div><section data-tool="mdnice编辑器" data-website="https://www.mdnice.com"><h3 data-tool="mdnice编辑器"><span></span><span><span></span>欢迎关注R语言数据分析指南</span><span></span></h3><blockquote data-tool="mdnice编辑器"><span>❝</span><p>本节主要介绍如何使用python中的selenium模块自动化获取含有fastq数据的shell脚本，使用ascp来高速下载。脚本小编会在2023的会员交流群内分享，有需要的可以参看文末加群方式。<strong>「难点在于环境的配置,整个过程基于ubuntu 20.04系统」</strong>同时也对网速有一定的要求。</p><span>❞</span></blockquote><h3 data-tool="mdnice编辑器"><span></span><span><span></span>系统配置</span><span></span></h3><ol data-tool="mdnice编辑器"><li><section>安装python3</section></li><li><section>配置ascp (这里不作介绍网上很多教程)</section></li><li><section>安装需要使用的python模块</section></li></ol><pre data-tool="mdnice编辑器"><span></span><code>pip3 install selenium beautifulsoup4 <br></code></pre><ol start="4" data-tool="mdnice编辑器"><li><section>安装chrome及ChromeDriver</section></li></ol><pre data-tool="mdnice编辑器"><span></span><code>google-chrome --version  # 检查chrome版本<br><span><br>#</span><span> 下载对应版本的chromedriver</span><br>https://chromedriver.chromium.org/downloads<br><br>unzip chromedriver_linux64.zip # 解压缩<br><span><br>#</span><span> 移动到bin下给权限</span><br>sudo mv chromedriver /usr/bin/chromedriver <br>sudo chown root:root /usr/bin/chromedriver <br>sudo chmod +x /usr/bin/chromedriver <br></code></pre><h3 data-tool="mdnice编辑器"><span></span><span><span></span>代码原理</span><span></span></h3><blockquote data-tool="mdnice编辑器"><span>❝</span><p>主要通过https://sra-explorer.info/网站检索SRA号获取原始数据的下载链接，网站会将内容整合给出一个sh脚本将其下载到本地执行即可。那么前面的几步均要通过点击鼠标来执行，如果通过脚本自动化执行大概能少点约7次鼠标。</p><span>❞</span></blockquote><p data-tool="mdnice编辑器"><img data-ratio="0.9685185185185186" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAboUHwbXYxvQ5ONLneoLl17xBicPzLZw0vrangV3SJZ7nGzoFEVRLv8YoecbeBTErziabThDcLcDYgQ/640?wx_fmt=png" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAboUHwbXYxvQ5ONLneoLl17xBicPzLZw0vrangV3SJZ7nGzoFEVRLv8YoecbeBTErziabThDcLcDYgQ/640?wx_fmt=png"><img data-ratio="0.9148148148148149" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAboUHwbXYxvQ5ONLneoLl17zHyiaKWV8Eg25lLRDibyUFIAC7Nx2YaRQERGibu8xmLffFLzvwckUXhnw/640?wx_fmt=png" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAboUHwbXYxvQ5ONLneoLl17zHyiaKWV8Eg25lLRDibyUFIAC7Nx2YaRQERGibu8xmLffFLzvwckUXhnw/640?wx_fmt=png"></p><h3 data-tool="mdnice编辑器"><span></span><span><span></span>代码执行</span><span></span></h3><pre data-tool="mdnice编辑器"><span></span><code>python3 SRA_download.py SRP350862 SRP350862_download<br></code></pre><p data-tool="mdnice编辑器">执行上述脚本会通过<strong>「selenium」</strong>自动打开网页检索数据最终生成一个<strong>「SRP350862_download.sh」</strong>的脚本,之后在终端直接执行即可，当然也可以在脚本里面添加自动执行模块。如果使用中遇到报错大概是模块缺少，不建议继续耗费时间解决报错。</p><h3 data-tool="mdnice编辑器"><span></span><span><span></span>并行下载数据</span><span></span></h3><pre data-tool="mdnice编辑器"><span></span><code><span># 设置6个并行</span><br>cat SRP350862_download.sh|parallel -j <span>6</span>--will-cite<br></code></pre><blockquote data-tool="mdnice编辑器"><span>❝</span><p>本节内容介绍到此结束过程仅供参考，脚本小编会在2023会员交流群内分享；同时有需要学习个性化数据可视化的朋友，欢迎到小编的<strong>「淘宝店铺」</strong> <strong>「R语言数据分析指南」</strong>购买<strong>「2023年度会员文档」</strong>同步更新中<strong>「售价149元」</strong>，内容主要包括各种<strong>「高分论文的图表分析复现以及一些个性化图表的绘制」</strong>均包含数据+代码；按照往年数据小编年产出约在150+以上</p><span>❞</span></blockquote><p data-tool="mdnice编辑器">购买后微信发小编订单截图即邀请进新的会员交流群，小编的文档为按年售卖，只包含当年度的<strong>「除系列课程外」</strong>的文档，有需要往年文档的朋友也可下单购买，需要了解更多信息的朋友欢迎交流咨询。<strong>「添加小编微信时麻烦备注来意方便及时沟通」</strong></p><h3 data-tool="mdnice编辑器"><span></span><span><span></span>小编微信</span><span></span></h3><p><img data-galleryid="" data-ratio="1" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/EibnicgwScTAaNu6sU2UCYkxFq9ibq75wuaO0lqFoYz1icUo4jh3N2icAWECmibgPvqyReur0FCp7JNKO0icnRAsbO9ug/640?wx_fmt=jpeg" data-type="jpeg" data-w="430" src="https://mmbiz.qpic.cn/mmbiz_jpg/EibnicgwScTAaNu6sU2UCYkxFq9ibq75wuaO0lqFoYz1icUo4jh3N2icAWECmibgPvqyReur0FCp7JNKO0icnRAsbO9ug/640?wx_fmt=jpeg"></p><h3 data-tool="mdnice编辑器"><span></span><span><span></span>2023会员群案例展示</span><span></span></h3><p data-tool="mdnice编辑器"><img data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAboUHwbXYxvQ5ONLneoLl17shTqeYC5zfLLyuqNDboEVX6E7TL9fl0W5YlpJYb5LVmFnQP7iaYgDjA/640?wx_fmt=png" data-type="png" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAboUHwbXYxvQ5ONLneoLl17shTqeYC5zfLLyuqNDboEVX6E7TL9fl0W5YlpJYb5LVmFnQP7iaYgDjA/640?wx_fmt=png"><img data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAboUHwbXYxvQ5ONLneoLl17XfyUyvyWuR5syNU8Eyr7bicticgtbLjNb8HvTPFBqPCoNQvHgFAsWpaA/640?wx_fmt=png" data-type="png" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAboUHwbXYxvQ5ONLneoLl17XfyUyvyWuR5syNU8Eyr7bicticgtbLjNb8HvTPFBqPCoNQvHgFAsWpaA/640?wx_fmt=png"><img data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAboUHwbXYxvQ5ONLneoLl17KunoflnDUrkQtGHf2jn47KkXIzuBKhic5bEgY7HibkameZQQuaxphCQg/640?wx_fmt=png" data-type="png" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAboUHwbXYxvQ5ONLneoLl17KunoflnDUrkQtGHf2jn47KkXIzuBKhic5bEgY7HibkameZQQuaxphCQg/640?wx_fmt=png"><img data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAboUHwbXYxvQ5ONLneoLl171JzFpI7nG9OAEiauC9MLI8ic2GEe26bKiaEhibY80xs70e4MBSSziabfDLw/640?wx_fmt=png" data-type="png" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAboUHwbXYxvQ5ONLneoLl171JzFpI7nG9OAEiauC9MLI8ic2GEe26bKiaEhibY80xs70e4MBSSziabfDLw/640?wx_fmt=png"><img data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAboUHwbXYxvQ5ONLneoLl17YjzuZXqtqYaRo3nOJiaicEXHibBf4EjicibyL3PKYq0eshjr5dq9OqRqXvA/640?wx_fmt=png" data-type="png" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAboUHwbXYxvQ5ONLneoLl17YjzuZXqtqYaRo3nOJiaicEXHibBf4EjicibyL3PKYq0eshjr5dq9OqRqXvA/640?wx_fmt=png"><img data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAboUHwbXYxvQ5ONLneoLl176X3fPib2biaSqMoPuvVcAUFISgMFLTfmMxiaibIvvjRVnB9UR2ENXUKmEg/640?wx_fmt=png" data-type="png" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAboUHwbXYxvQ5ONLneoLl176X3fPib2biaSqMoPuvVcAUFISgMFLTfmMxiaibIvvjRVnB9UR2ENXUKmEg/640?wx_fmt=png"><img data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAboUHwbXYxvQ5ONLneoLl17oQrCnpMtLU3JAc8gnenoPiarUc9ZvVbRuG4YYMPay1r4fj9m5UcqjGw/640?wx_fmt=png" data-type="png" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAboUHwbXYxvQ5ONLneoLl17oQrCnpMtLU3JAc8gnenoPiarUc9ZvVbRuG4YYMPay1r4fj9m5UcqjGw/640?wx_fmt=png"><img data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAboUHwbXYxvQ5ONLneoLl17kx8ziaQuMJocLKHkGNN2RzIGnXxVW812licx1AJR3HmspXTW62VhFVXA/640?wx_fmt=png" data-type="png" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAboUHwbXYxvQ5ONLneoLl17kx8ziaQuMJocLKHkGNN2RzIGnXxVW812licx1AJR3HmspXTW62VhFVXA/640?wx_fmt=png"><img data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAboUHwbXYxvQ5ONLneoLl17noicpFHQJKx7ZzzdAVOaZyEY6k8ZKzahwzv0ricUtdAJdoGeLiaUPwAtw/640?wx_fmt=png" data-type="png" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAboUHwbXYxvQ5ONLneoLl17noicpFHQJKx7ZzzdAVOaZyEY6k8ZKzahwzv0ricUtdAJdoGeLiaUPwAtw/640?wx_fmt=png"></p></section><section><mp-common-profile data-pluginname="mpprofile" data-id="Mzg3MzQzNTYzMw==" data-headimg="http://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAZF0rpeZII9Ltl26VbVagriczTria1fib3XgjwwHEHFjPzkmGpqWDVVHBSzhENictUM2iavAKiaM5lc9USw/0?wx_fmt=png" data-nickname="R语言数据分析指南" data-alias="YanJANtwo" data-signature="R语言重症爱好者，喜欢绘制各种精美的图表，喜欢的小伙伴可以关注我，跟我一起学习" data-from="0" data-is_biz_ban="0"></mp-common-profile></section><p><br></p><p><mp-style-type data-value="3"></mp-style-type></p></div>  
<hr>
<a href="https://mp.weixin.qq.com/s/ZECmmWm85ejI6vTmXvRKTg",target="_blank" rel="noopener noreferrer">原文链接</a>
