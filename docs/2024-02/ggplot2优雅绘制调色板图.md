---
title: "ggplot2优雅绘制调色板图"
date: 2024-02-06T15:18:41Z
draft: ["false"]
tags: [
  "fetched",
  "R语言数据分析指南"
]
categories: ["Acdemic"]
---
ggplot2优雅绘制调色板图 by R语言数据分析指南
------
<div><section data-tool="mdnice编辑器" data-website="https://www.mdnice.com"><h3 data-tool="mdnice编辑器"><span></span><span><span></span>欢迎关注R语言数据分析指南</span><span></span></h3><blockquote data-tool="mdnice编辑器"><span>❝</span><p>本节来介绍如何通过R代码绘制调色板图，大家可根据自己喜爱整理常用的调色板方便后期使用，整个过程仅参考。希望对各位观众老爷能有所帮助。<strong>「数据代码已经整合上传到会员交流群」</strong>，购买过小编VIP的朋友可在所加的会员群内获取下载，有需要的朋友可关注文末介绍加入VIP交流群。</p><span>❞</span></blockquote><h3 data-tool="mdnice编辑器"><span></span><span><span></span>关于永久群内容的说明</span><span></span></h3><blockquote data-tool="mdnice编辑器"><span>❝</span><p>给予长期支持我们的忠实读者们一个特别待遇：凡是购买过小编2022年或2023年VIP会员文档的朋友们，<strong>「将自动获得2024年及以后更新的绘图文档代码，无需额外付费。」</strong>目前这两年的会员文档已累记卖出1500+，质量方面各位无需担忧。简要概括就是只要购买任意1年的会员内容，2024及后期公众号所更新的绘图文档均会在已经加入的会员群内分享。</p><span>❞</span></blockquote><h3 data-tool="mdnice编辑器"><span></span><span><span></span>加载R包</span><span></span></h3><pre data-tool="mdnice编辑器"><span></span><code><span>library</span>(tidyverse)<br><span>library</span>(gridExtra)<br><span>library</span>(scales)<br><span>library</span>(ggsci)<br></code></pre><h3 data-tool="mdnice编辑器"><span></span><span><span></span>导入数据</span><span></span></h3><pre data-tool="mdnice编辑器"><span></span><code>hex_df &lt;- read_tsv(<span>"col.xls"</span>)<br>rgb_df &lt;- col2rgb(hex_df$color_hex) <br>lab_df &lt;- convertColor(t(rgb_df), <span>'sRGB'</span>, <span>'Lab'</span>)<br></code></pre><h3 data-tool="mdnice编辑器"><span></span><span><span></span>绘制单个调色板</span><span></span></h3><pre data-tool="mdnice编辑器"><span></span><code>df &lt;- data.frame(color = hex_df<span>$color_hex</span>[order(lab_df[, <span>'L'</span>])])<br><br>df %&gt;% <br>  ggplot(aes(x = color, y = 1, fill = color)) +<br>  geom_tile() +<br>  scale_fill_identity() + <br>  theme_void() +<br>  theme(axis.title.x = element_text(size = 10,face=<span>"bold"</span>,color = <span>"#000000"</span>),<br>        plot.margin = unit(c(1.75, 1.75, 1.75, 1.75), <span>"cm"</span>),<br>        plot.background = element_rect(color = NA, fill = <span>"#F2F2F2"</span>))<br></code></pre><figure data-tool="mdnice编辑器"><img data-imgfileid="100025802" data-ratio="0.5435185185185185" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAZJ8WjqkpE2CsVf1kjEYZTQRpBCG232Gia2M78ibhguCmicA5vyJlVjqJUEx46SJJaj6syfZ5lQ4DicJQ/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAZJ8WjqkpE2CsVf1kjEYZTQRpBCG232Gia2M78ibhguCmicA5vyJlVjqJUEx46SJJaj6syfZ5lQ4DicJQ/640?wx_fmt=png&amp;from=appmsg"></figure><h3 data-tool="mdnice编辑器"><span></span><span><span></span>绘制多个调色板</span><span></span></h3><pre data-tool="mdnice编辑器"><span></span><code>sci_palettes &lt;- list(aaas=pal_aaas()(<span>10</span>),<br>                     npg=pal_npg()(<span>10</span>),<br>                     nejm=pal_nejm()(<span>8</span>),<br>                     lancet=pal_lancet()(<span>9</span>),<br>                     jama=pal_jama()(<span>7</span>),<br>                     jco=pal_jco()(<span>10</span>),<br>                     d3=pal_d3()(<span>10</span>),<br>                     locuszoom=pal_locuszoom()(<span>7</span>),<br>                     uchicago=pal_uchicago()(<span>9</span>),<br>                     startek=pal_startrek()(<span>7</span>),<br>                     tron=pal_tron()(<span>7</span>),<br>                     futurama=pal_futurama()(<span>12</span>),<br>                     simpsons=pal_simpsons()(<span>16</span>),<br>                     cosmic=pal_cosmic(<span>"hallmarks_light"</span>)(<span>10</span>),<br>                     rickandmorty=pal_rickandmorty(<span>"schwifty"</span>)(<span>12</span>),<br>                     flatui=pal_flatui(<span>"default"</span>)(<span>10</span>),<br>                     frontiers=pal_frontiers(<span>"default"</span>)(<span>10</span>),<br>                     gsea=pal_gsea(<span>"default"</span>)(<span>12</span>))<br></code></pre><h4 data-tool="mdnice编辑器"><span></span><span><span></span>为每个调色板创建颜色条</span><span></span></h4><pre data-tool="mdnice编辑器"><span></span><code>plot_palette &lt;- <span>function</span>(palette_name, colors) {<br>  df &lt;- data.frame(colors = colors, x = <span>1</span>:length(colors))<br>  <br>  p &lt;- ggplot(df, aes(x = x, y = <span>1</span>, fill = colors)) +<br>    geom_tile() + <br>    scale_fill_identity() +<br>    labs(x=<span>NULL</span>,y=<span>NULL</span>)+<br>    theme_void()+<br>    theme(plot.title = element_text(size = <span>10</span>,color=<span>"black"</span>,vjust=<span>1</span>,hjust=<span>0.5</span>))+<br>    ggtitle(palette_name)<br>  <br>  <span>return</span>(p)<br>}<br></code></pre><figure data-tool="mdnice编辑器"><img data-imgfileid="100025801" data-ratio="0.5435185185185185" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAZJ8WjqkpE2CsVf1kjEYZTQn7ZGMCC2TJhDQW67KiaWdTk7Y3ZdNspIsUPxG7E2A3RRRvEAM735E6Q/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAZJ8WjqkpE2CsVf1kjEYZTQn7ZGMCC2TJhDQW67KiaWdTk7Y3ZdNspIsUPxG7E2A3RRRvEAM735E6Q/640?wx_fmt=png&amp;from=appmsg"></figure><blockquote data-tool="mdnice编辑器"><span>❝</span><p>可以将日常比较喜欢的颜色整理成相应格式，使用上方代码整合成调色版图进而还可制作成R包方便后期使用，本节介绍到此结束，有需要学习数据可视化的朋友，欢迎到小编的<strong>「淘宝店铺」</strong> <strong>「R语言数据分析指南」</strong>下单购买，内容主要包括各种<strong>「高分论文的图表分析复现以及一些个性化图表的绘制」</strong>均包含数据+代码。购买2023年会员文档后微信发小编订单号即邀请进新的会员交流群</p><span>❞</span></blockquote><h3 data-tool="mdnice编辑器"><span></span><span><span></span>淘宝店铺(有需要欢迎关注)</span><span></span></h3><p><img data-galleryid="" data-imgfileid="100019415" data-ratio="1.0210420841683367" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/EibnicgwScTAbvhPDLGT8NaialEsht92PTYNJWpmVLfoYGic1uha5FyBrDCibibZCLjiazgvpT1XcdwibfVywD2el0VAgg/640?wx_fmt=jpeg" data-type="jpeg" data-w="998" src="https://mmbiz.qpic.cn/mmbiz_jpg/EibnicgwScTAbvhPDLGT8NaialEsht92PTYNJWpmVLfoYGic1uha5FyBrDCibibZCLjiazgvpT1XcdwibfVywD2el0VAgg/640?wx_fmt=jpeg"></p><h3 data-tool="mdnice编辑器"><span></span><span><span></span>关注下方公众号下回更新不迷路</span><span></span></h3><section><mp-common-profile data-pluginname="mpprofile" data-id="Mzg3MzQzNTYzMw==" data-headimg="http://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAZF0rpeZII9Ltl26VbVagriczTria1fib3XgjwwHEHFjPzkmGpqWDVVHBSzhENictUM2iavAKiaM5lc9USw/0?wx_fmt=png" data-nickname="R语言数据分析指南" data-alias="YanJANtwo" data-signature="R语言重症爱好者，喜欢绘制各种精美的图表，喜欢的小伙伴可以关注我，跟我一起学习" data-from="0" data-is_biz_ban="0"></mp-common-profile></section></section><p><mp-style-type data-value="3"></mp-style-type></p></div>  
<hr>
<a href="https://mp.weixin.qq.com/s/syIZxkHLOPscSvPUMcvJJg",target="_blank" rel="noopener noreferrer">原文链接</a>
