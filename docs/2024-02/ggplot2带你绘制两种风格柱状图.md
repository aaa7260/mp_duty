---
title: "ggplot2带你绘制两种风格柱状图"
date: 2024-02-05T22:23:47Z
draft: ["false"]
tags: [
  "fetched",
  "R语言数据分析指南"
]
categories: ["Acdemic"]
---
ggplot2带你绘制两种风格柱状图 by R语言数据分析指南
------
<div><section data-tool="mdnice编辑器" data-website="https://www.mdnice.com"><h3 data-tool="mdnice编辑器"><span></span><span><span></span>欢迎关注R语言数据分析指南</span><span></span></h3><blockquote data-tool="mdnice编辑器"><span>❝</span><p>本节来介绍一个基础图形柱状图的两种绘图方法，可绘制细节稍微不同的两种风格图，整个过程仅参考。希望对各位观众老爷能有所帮助。<strong>「数据代码已经整合上传到会员交流群」</strong>，购买过小编VIP的朋友可在所加的会员群内获取下载，有需要的朋友可关注文末介绍加入VIP交流群。</p><span>❞</span></blockquote><h3 data-tool="mdnice编辑器"><span></span><span><span></span>关于永久群内容的说明</span><span></span></h3><blockquote data-tool="mdnice编辑器"><span>❝</span><p>给予长期支持我们的忠实读者们一个特别待遇：凡是购买过小编2022年或2023年VIP会员文档的朋友们，<strong>「将自动获得2024年及以后更新的绘图文档代码，无需额外付费。」</strong>目前这两年的会员文档已累记卖出1500+，质量方面各位无需担忧。简要概括就是只要购买任意1年的会员内容，2024及后期公众号所更新的绘图文档均会在已经加入的会员群内分享。</p><span>❞</span></blockquote><h3 data-tool="mdnice编辑器"><span></span><span><span></span>加载R包</span><span></span></h3><pre data-tool="mdnice编辑器"><span></span><code><span>library</span>(tidyverse)<br><span>library</span>(ggtext)<br><span>library</span>(wesanderson)<br></code></pre><h3 data-tool="mdnice编辑器"><span></span><span><span></span>导入数据</span><span></span></h3><pre data-tool="mdnice编辑器"><span></span><code>df &lt;- read_tsv(<span>"data.tsv"</span>)<br></code></pre><h3 data-tool="mdnice编辑器"><span></span><span><span></span>案例1</span><span></span></h3><pre data-tool="mdnice编辑器"><span></span><code>df %&gt;%<br>  ggplot(aes(x = percent, y = fct_reorder(language, total_tweets,.desc = <span>FALSE</span>),fill = label))+<br>  geom_bar(stat = <span>"identity"</span>, position = <span>"stack"</span>)+<br>  geom_text(aes(label = if_else(percent &gt; <span>0.05</span>, paste0(scales::percent(percent,accuracy = <span>0.1</span>)), <span>NA</span>)), <br>            position = position_fill(vjust = <span>0.5</span>),size = <span>3</span>, color = <span>"#000000"</span>)+<br>  labs(x=<span>NULL</span>,y=<span>NULL</span>)+<br>  scale_x_continuous(expand = c(<span>0</span>,<span>0</span>))+<br>  scale_fill_manual(values=wes_palette(<span>"GrandBudapest2"</span>,type=<span>"discrete"</span>))+<br>  theme(legend.position = <span>"none"</span>,<br>        plot.margin = unit(c(<span>0.2</span>,<span>0.2</span>,<span>0.2</span>,<span>0.2</span>), <span>"cm"</span>),<br>        plot.background = element_rect(color = <span>NA</span>, fill = <span>"#F2F2F2"</span>))<br></code></pre><figure data-tool="mdnice编辑器"><img data-imgfileid="100025784" data-ratio="0.637962962962963" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAZhglXufzyZfoanRYzVxC6cteaibRklmwug1QFnXavpUJdusAeGlmvbZYZEqyXtlr2FEU6afuwOqFQ/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAZhglXufzyZfoanRYzVxC6cteaibRklmwug1QFnXavpUJdusAeGlmvbZYZEqyXtlr2FEU6afuwOqFQ/640?wx_fmt=png&amp;from=appmsg"></figure><h3 data-tool="mdnice编辑器"><span></span><span><span></span>案例二</span><span></span></h3><pre data-tool="mdnice编辑器"><span></span><code>df %&gt;%<br>  ggplot(aes(x = percent, y = fct_reorder(language, total_tweets,.desc = <span>FALSE</span>),fill = label))+<br>  geom_bar(stat = <span>"identity"</span>, position = <span>"stack"</span>,width=<span>0.5</span>)+<br>  geom_text(aes(label = paste(language), x = <span>0.5</span>),nudge_y = <span>0.5</span>,size = <span>3</span>,color = <span>"#000000"</span>) +<br>  geom_text(aes(label = if_else(percent &gt; <span>0.05</span>, paste0(scales::percent(percent, accuracy = <span>0.1</span>)), <span>NA</span>)), <br>            position = position_fill(vjust = <span>0.5</span>),<br>            size = <span>3</span>, color = <span>"#000000"</span>)+<br>  scale_fill_manual(values=wes_palette(<span>"GrandBudapest2"</span>,type=<span>"discrete"</span>))+<br>  theme_void() +<br>  theme(legend.position = <span>"none"</span>,<br>        plot.margin = unit(c(<span>0.2</span>,<span>0.2</span>,<span>0.2</span>,<span>0.2</span>), <span>"cm"</span>),<br>        plot.background = element_rect(color = <span>NA</span>, fill = <span>"#F2F2F2"</span>))<br></code></pre><figure data-tool="mdnice编辑器"><img data-imgfileid="100025783" data-ratio="0.7805555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAZhglXufzyZfoanRYzVxC6c2wmxibTxKrASB5zYzk7wpj4pGXUODgETTxEm7lDfriaibsOIOUicuA4gmg/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAZhglXufzyZfoanRYzVxC6c2wmxibTxKrASB5zYzk7wpj4pGXUODgETTxEm7lDfriaibsOIOUicuA4gmg/640?wx_fmt=png&amp;from=appmsg"></figure><blockquote data-tool="mdnice编辑器"><span>❝</span><p>通过细微的代码调整使两张图的展示风格略有不同，可在绘制同类图时添加一些区分度；本节介绍到此结束，有需要学习数据可视化的朋友，欢迎到小编的<strong>「淘宝店铺」</strong> <strong>「R语言数据分析指南」</strong>下单购买，内容主要包括各种<strong>「高分论文的图表分析复现以及一些个性化图表的绘制」</strong>均包含数据+代码。购买2023年会员文档后微信发小编订单号即邀请进新的会员交流群</p><span>❞</span></blockquote><h3 data-tool="mdnice编辑器"><span></span><span><span></span>淘宝店铺(有需要欢迎关注)</span><span></span></h3><p><img data-galleryid="" data-imgfileid="100019415" data-ratio="1.0210420841683367" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/EibnicgwScTAbvhPDLGT8NaialEsht92PTYNJWpmVLfoYGic1uha5FyBrDCibibZCLjiazgvpT1XcdwibfVywD2el0VAgg/640?wx_fmt=jpeg" data-type="jpeg" data-w="998" src="https://mmbiz.qpic.cn/mmbiz_jpg/EibnicgwScTAbvhPDLGT8NaialEsht92PTYNJWpmVLfoYGic1uha5FyBrDCibibZCLjiazgvpT1XcdwibfVywD2el0VAgg/640?wx_fmt=jpeg"></p><h3 data-tool="mdnice编辑器"><span></span><span><span></span>关注下方公众号下回更新不迷路</span><span></span></h3><section><mp-common-profile data-pluginname="mpprofile" data-id="Mzg3MzQzNTYzMw==" data-headimg="http://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAZF0rpeZII9Ltl26VbVagriczTria1fib3XgjwwHEHFjPzkmGpqWDVVHBSzhENictUM2iavAKiaM5lc9USw/0?wx_fmt=png" data-nickname="R语言数据分析指南" data-alias="YanJANtwo" data-signature="R语言重症爱好者，喜欢绘制各种精美的图表，喜欢的小伙伴可以关注我，跟我一起学习" data-from="0" data-is_biz_ban="0"></mp-common-profile></section></section><p><mp-style-type data-value="3"></mp-style-type></p></div>  
<hr>
<a href="https://mp.weixin.qq.com/s/8Fiyw9o60_5GsigHUjoAAA",target="_blank" rel="noopener noreferrer">原文链接</a>
