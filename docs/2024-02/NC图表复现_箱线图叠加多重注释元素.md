---
title: "NC图表复现|箱线图叠加多重注释元素"
date: 2024-02-28T00:47:36Z
draft: ["false"]
tags: [
  "fetched",
  "R语言数据分析指南"
]
categories: ["Acdemic"]
---
NC图表复现|箱线图叠加多重注释元素 by R语言数据分析指南
------
<div><section data-tool="mdnice编辑器" data-website="https://www.mdnice.com"><h3 data-tool="mdnice编辑器"><span></span><span><span></span>欢迎关注R语言数据分析指南</span><span></span></h3><blockquote data-tool="mdnice编辑器"><span>❝</span><p>本节继续来复现NC上的图表，箱线图叠加多重注释元素，<strong>「图形看起来也是比较简单，但是细品起来细节也不少」</strong>，数据为论文源数据，小编进行了图形绘制，整个过程仅参考。希望对各位观众老爷能有所帮助。<strong>「数据代码已经整合上传到会员交流群」</strong>，购买过小编VIP的朋友可在所加的会员群内获取下载，有需要的朋友可关注文末介绍加入VIP交流群。</p><span>❞</span></blockquote><h3 data-tool="mdnice编辑器"><span></span><span><span></span>关于永久群内容的说明</span><span></span></h3><blockquote data-tool="mdnice编辑器"><span>❝</span><p>给予长期支持我们的忠实读者们一个特别待遇：购买小编2023年VIP会员文档的读者，<strong>「将自动获得2024年及以后更新的绘图文档代码，无需额外付费目前已包含100+学习案例。」</strong>有需要学习数据可视化的朋友，欢迎到小编的<strong>「淘宝店铺」</strong> <strong>「R语言数据分析指南」</strong>下单购买，内容主要包括各种<strong>「高分论文的图表分析复现以及一些个性化图表的绘制」</strong>均包含数据+代码。购买会员文档后微信发小编订单号即邀请进新的会员交流群。</p><span>❞</span></blockquote><p data-tool="mdnice编辑器"><strong>「2024更新的绘图内容同时包含数据+代码+markdown注释文档+文档清单」</strong></p><h3 data-tool="mdnice编辑器"><span></span><span><span></span>原图</span><span></span></h3><figure data-tool="mdnice编辑器"><img data-imgfileid="100026058" data-ratio="0.462037037037037" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAbuhXNuwv71P9eLhd7XkLf7m0kJnsTQzkcDB0GxbO5b8foCTjKMebTOVmepd3ia8KkKuT9I6If8M1Q/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAbuhXNuwv71P9eLhd7XkLf7m0kJnsTQzkcDB0GxbO5b8foCTjKMebTOVmepd3ia8KkKuT9I6If8M1Q/640?wx_fmt=png&amp;from=appmsg"></figure><h3 data-tool="mdnice编辑器"><span></span><span><span></span>复现结果</span><span></span></h3><figure data-tool="mdnice编辑器"><img data-imgfileid="100026056" data-ratio="0.4675925925925926" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAbuhXNuwv71P9eLhd7XkLf7bLshA7Qicia91WHW91zyqiaEhGu9qkRiaafDzibv1tIp5Olg3f9XepUsqlA/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAbuhXNuwv71P9eLhd7XkLf7bLshA7Qicia91WHW91zyqiaEhGu9qkRiaafDzibv1tIp5Olg3f9XepUsqlA/640?wx_fmt=png&amp;from=appmsg"></figure><h3 data-tool="mdnice编辑器"><span></span><span><span></span>论文</span><span></span></h3><blockquote data-tool="mdnice编辑器"><span>❝</span><p>https://www.nature.com/articles/s41467-024-45957-x</p><span>❞</span></blockquote><figure data-tool="mdnice编辑器"><img data-imgfileid="100026055" data-ratio="0.37222222222222223" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAbuhXNuwv71P9eLhd7XkLf7PH2L992mZCKVjB0wtZ3McCriaZSAIkIMu8902Lw9BiaPy6IHxnHtRvGA/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAbuhXNuwv71P9eLhd7XkLf7PH2L992mZCKVjB0wtZ3McCriaZSAIkIMu8902Lw9BiaPy6IHxnHtRvGA/640?wx_fmt=png&amp;from=appmsg"></figure><pre data-tool="mdnice编辑器"><span></span><code><span>library</span>(tidyverse)<br><span>library</span>(ggtext)<br></code></pre><pre data-tool="mdnice编辑器"><span></span><code>df &lt;- read_tsv(<span>"data.xls"</span>) %&gt;% rownames_to_column(var=<span>"id"</span>) %&gt;% <br>  pivot_longer(-id)<br><br>df$name &lt;- factor(df$name,levels =df$name %&gt;% unique())  <br><br>p1 &lt;- df %&gt;% separate(col=name,into=<span>"type"</span>, sep=<span>"_"</span>,remove = <span>F</span>)<br><br>p1 %&gt;% ggplot(aes(name,value,fill=type))+<br>  stat_boxplot(geom=<span>"errorbar"</span>,width=<span>0.2</span>)+<br>  geom_boxplot(outlier.shape = <span>NA</span>,key_glyph=<span>"rect"</span>)+<br>  stat_summary(fun=mean,geom=<span>"point"</span>,col=<span>"white"</span>,shape=<span>15</span>,show.legend = <span>F</span>)+<br>  geom_hline(yintercept = <span>0</span>,linetype=<span>"3313"</span>,color=<span>"black"</span>,size=<span>0.5</span>)+<br>  labs(y=<span>"(gC m&lt;sup&gt;-2&lt;/sup&gt; ppm&lt;sup&gt;-1&lt;/sup&gt;)"</span>)+<br>  scale_y_continuous(limits = c(-<span>10</span>,<span>10</span>),position = <span>"right"</span>)+<br>  scale_fill_manual(values=c(<span>"#DD8D29"</span>,<span>"#74A089"</span>,<span>"#899DA4"</span>))+<br>  theme_test()+<br>  theme(axis.text.x=element_blank(),<br>        axis.title.x = element_blank(),<br>        axis.text.y.right=element_text(color=<span>"black"</span>,size=<span>11</span>,margin = margin(l=<span>8</span>,<span>"in"</span>)),<br>        axis.title.y.right=element_markdown(size=<span>10</span>,color=<span>"black"</span>,angle = <span>90</span>,face = <span>"bold"</span>),<br>        axis.ticks.x = element_blank(),<br>        axis.ticks.length.y.right = unit(-<span>0.2</span>,<span>"cm"</span>),<br>        plot.margin = unit(c(<span>0.8</span>,<span>0.8</span>,<span>0.8</span>,<span>0.8</span>),unit=<span>"cm"</span>),<br>        legend.key.height = unit(<span>0.4</span>,<span>"cm"</span>),<br>        legend.key.width = unit(<span>1</span>,<span>"cm"</span>),<br>        legend.title=element_blank(),<br>        legend.text=element_markdown(size=<span>10</span>,vjust=<span>0.5</span>,hjust=<span>0.5</span>),<br>        legend.spacing.x = unit(<span>0.03</span>,<span>"in"</span>),<br>        legend.direction = <span>"horizontal"</span>,<br>        legend.position = c(<span>0.238</span>,-<span>0.03</span>))<br></code></pre><blockquote data-tool="mdnice编辑器"><span>❝</span><p>本节介绍到此结束，有需要学习数据可视化的朋友，欢迎到小编的<strong>「淘宝店铺」</strong> <strong>「R语言数据分析指南」</strong>下单购买，内容主要包括各种<strong>「高分论文的图表分析复现以及一些个性化图表的绘制」</strong>均包含数据+代码。购买会员文档后微信发小编订单号即邀请进新的会员交流群。</p><span>❞</span></blockquote><h3 data-tool="mdnice编辑器"><span></span><span><span></span>淘宝扫一扫</span><span></span></h3><figure data-tool="mdnice编辑器"><img data-imgfileid="100026057" data-ratio="1" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/EibnicgwScTAbuhXNuwv71P9eLhd7XkLf7M8oZhIfAk4ZCtkKB23P7Rj7xZMrFiac7b6CGXbd8CAwA2b3ia4WDUQSA/640?wx_fmt=jpeg&amp;from=appmsg" data-type="jpeg" data-w="800" src="https://mmbiz.qpic.cn/mmbiz_jpg/EibnicgwScTAbuhXNuwv71P9eLhd7XkLf7M8oZhIfAk4ZCtkKB23P7Rj7xZMrFiac7b6CGXbd8CAwA2b3ia4WDUQSA/640?wx_fmt=jpeg&amp;from=appmsg"></figure><h3 data-tool="mdnice编辑器"><span></span><span><span></span>淘宝店铺(有需要欢迎关注)</span><span></span></h3><p><img data-galleryid="" data-imgfileid="100019415" data-ratio="1.0210420841683367" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/EibnicgwScTAbvhPDLGT8NaialEsht92PTYNJWpmVLfoYGic1uha5FyBrDCibibZCLjiazgvpT1XcdwibfVywD2el0VAgg/640?wx_fmt=jpeg" data-type="jpeg" data-w="998" src="https://mmbiz.qpic.cn/mmbiz_jpg/EibnicgwScTAbvhPDLGT8NaialEsht92PTYNJWpmVLfoYGic1uha5FyBrDCibibZCLjiazgvpT1XcdwibfVywD2el0VAgg/640?wx_fmt=jpeg"></p><h3 data-tool="mdnice编辑器"><span></span><span><span></span>关注下方公众号下回更新不迷路</span><span></span></h3><p><img data-galleryid="" data-imgfileid="100016185" data-ratio="0.3194444444444444" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAYib6Vf5Lfu4s64dJIEWhdGMvrcDEx2Rxgd91TOF5sjqy47Wqf2cTO1c5Nhdibh8G5IhOnR53j6XKrw/640?wx_fmt=png" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAYib6Vf5Lfu4s64dJIEWhdGMvrcDEx2Rxgd91TOF5sjqy47Wqf2cTO1c5Nhdibh8G5IhOnR53j6XKrw/640?wx_fmt=png"></p></section><p><mp-style-type data-value="3"></mp-style-type></p></div>  
<hr>
<a href="https://mp.weixin.qq.com/s/j50WvkjzK3znn0RzA-8rxQ",target="_blank" rel="noopener noreferrer">原文链接</a>
