---
title: "litsearchr: 自动化文献搜索找到隐藏的关键术语"
date: 2023-05-17T04:11:56Z
draft: ["false"]
tags: [
  "fetched",
  "榴莲忘返 2014"
]
categories: ["Acdemic"]
---
litsearchr: 自动化文献搜索找到隐藏的关键术语 by 榴莲忘返 2014
------
<div><section data-tool="mdnice编辑器" data-website="https://www.mdnice.com"><section data-id="85660" data-custom="rgb(117, 117, 118)" data-color="rgb(117, 117, 118)" data-darkmode-bgcolor-16095509242984="rgb(25, 25, 25)" data-darkmode-original-bgcolor-16095509242984="rgb(255, 255, 255)" mp-original-font-size="17" mp-original-line-height="27.200000762939453" data-tool="mdnice编辑器"><section data-darkmode-bgcolor-16095509242984="rgb(25, 25, 25)" data-darkmode-original-bgcolor-16095509242984="rgb(255, 255, 255)" data-style="margin-top: 2em; padding-top: 0.5em; padding-bottom: 0.5em; max-width: 100%; border-style: solid none; text-decoration: inherit; border-top-color: rgb(204, 204, 204); border-bottom-color: rgb(204, 204, 204); border-top-width: 1px; border-bottom-width: 1px; box-sizing: border-box !important; overflow-wrap: break-word !important;" mp-original-font-size="17" mp-original-line-height="27.200000762939453"><section><span>榴莲忘返 2014</span></section><p><span><strong><span>编辑：Student Zero</span></strong></span></p></section></section><figure data-tool="mdnice编辑器"></figure><figure data-tool="mdnice编辑器"><img data-backh="516" data-backw="446" data-ratio="1.1547987616099071" data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/WaicZuM2mxM00BLHnfWDVkGsjEUKBWLUW1x78gHqV7rkDiam1N1n2hP10qMuOtF3p1Ce3s42axlBk591wpxtSolw/640?wx_fmt=png" data-type="png" data-w="646" src="https://mmbiz.qpic.cn/sz_mmbiz_png/WaicZuM2mxM00BLHnfWDVkGsjEUKBWLUW1x78gHqV7rkDiam1N1n2hP10qMuOtF3p1Ce3s42axlBk591wpxtSolw/640?wx_fmt=png"></figure><h2 data-tool="mdnice编辑器"><span></span><span>引言</span><span></span></h2><p data-tool="mdnice编辑器">你有没有遇到过这样的问题：<strong>想对某个主题的科学文献进行系统搜索，但自己对这个主题的了解程度却成为了搜索的拦路虎。</strong> 而且，这个领域还没有统一的术语，信息还被分散在各种名字里。别担心，我们今天要跟大家分享一个解决方案。</p><p data-tool="mdnice编辑器">格莱姆斯等人在 2019 年提出了一个方法（点击<span>这里</span><sup>[1]</sup>可以看到原文）。这个方法叫做<code>litsearchr</code>，而且在<span>Library Carpentry</span><sup>[2]</sup>网站上还有一个用 R 语言进行简化分析的教程呢。</p><blockquote data-tool="mdnice编辑器"><p>下面的脚本内容来自: <span>Automated systematic literature search using R, litsearchr and easyPubMed | Claudiu's Blog </span><sup>[3]</sup></p></blockquote><p data-tool="mdnice编辑器">简单来说，博客介绍了一种“广撒网”的方式来搜索，从数据库里找到与主题相关的信息（比如标题、关键词、摘要），然后分析这些相互关联的文本数据，以找到系统的搜索策略。就像是给你一把打开知识宝库的钥匙。</p><figure data-tool="mdnice编辑器"><img data-backh="320" data-backw="446" data-ratio="0.716" data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/WaicZuM2mxM00BLHnfWDVkGsjEUKBWLUWJ4IHJ7Kh45p87R5emHnA2t12CSSpyz4vxIINVJgvzd6RYxIQHe0G6A/640?wx_fmt=png" data-type="png" data-w="2000" src="https://mmbiz.qpic.cn/sz_mmbiz_png/WaicZuM2mxM00BLHnfWDVkGsjEUKBWLUWJ4IHJ7Kh45p87R5emHnA2t12CSSpyz4vxIINVJgvzd6RYxIQHe0G6A/640?wx_fmt=png"></figure><p data-tool="mdnice编辑器">下面来聊聊这个神奇的工具：<code>litsearchr</code>。</p><p data-tool="mdnice编辑器">这个工具是根据 Grames 等人 2019 年的研究改编的，可以帮你自动在数据库里搜索文献！下面我们来看看这个工具是如何运作的。</p><p data-tool="mdnice编辑器">首先，我们要用到以下几个包：</p><ul data-tool="mdnice编辑器"><li><section><span>easyPubMed</span><sup>[4]</sup>：这个包可以帮助我们方便地在 PubMed API 里查找和提取文章数据。</section></li><li><section><span>litsearchr</span><sup>[5]</sup>：这个包可以通过关键字共现网络自动识别系统评论的搜索词。</section></li><li><section><span>stopwords</span><sup>[6]</sup>：这个包提供了世界上最全面的多种语言停用词集合。</section></li><li><section><span>igraph</span><sup>[7]</sup>：这个包可以帮助我们进行网络分析（尽管已经包含在<code>litsearchr</code>里了，但它还有很多有用的功能没有被<code>litsearchr</code>包装起来）。</section></li><li><section>还有<code>ggplot2</code>、<code>ggraph</code>和<code>ggrepel</code>这几个包，它们可以帮助我们绘制图表。</section></li></ul><p data-tool="mdnice编辑器">我们要加载或安装这些包。你可以参考下面的 R 代码来进行操作：</p><pre data-tool="mdnice编辑器"><span></span><code><span># litsearchr 尚未在 CRAN 上，需要从 github 安装</span><br><span>if</span> (<span>require</span>(litsearchr)) remotes::install_github(<span>"elizagrames/litsearchr"</span>, ref = <span>"main"</span>)<br><br><span># 要加载/安装的包</span><br>packages &lt;- c(<br>  <span>"easyPubMed"</span>,<br>  <span>"litsearchr"</span>, <span>"stopwords"</span>, <span>"igraph"</span>,<br>  <span>"ggplot2"</span>, <span>"ggraph"</span>, <span>"ggrepel"</span><br>)<br><br><span># 安装尚未安装的包</span><br>installed_packages &lt;- packages %<span>in</span>% rownames(installed.packages())<br><br><span>if</span> (any(installed_packages == <span>FALSE</span>)) {<br>  install.packages(packages[!installed_packages])<br>}<br><br><span># 加载包</span><br>lapply(packages, <span>library</span>, character.only = <span>TRUE</span>)<br><br></code></pre><h2 data-tool="mdnice编辑器"><span></span><span>2.查询 PubMed 相关文献</span><span></span></h2><h3 data-tool="mdnice编辑器"><span></span><span>2.1. 单一查询</span><span></span></h3><p data-tool="mdnice编辑器">下面我们来看一个简单的例子，演示如何进行单一查询。</p><p data-tool="mdnice编辑器">首先，我们要定义一个查询条件。<strong>假设我们想要找到 2020 年发表的，包含“心理治疗”和“PTSD”的文章。</strong>我们可以通过布尔运算符<code>term</code>来实现这个目标。</p><p data-tool="mdnice编辑器">使用<code>easyPubMed</code>只需三步就能完成查询：</p><ol data-tool="mdnice编辑器"><li><section>用<code>get_pubmed_ids</code>函数获取查询结果的文章 ID；</section></li><li><section>用<code>fetch_pubmed_data</code>函数获取相应的文章数据；</section></li><li><section>用<code>table_articles_byAuth</code>函数提取和整理相关信息。</section></li></ol><p data-tool="mdnice编辑器">下面是 R 代码示例：</p><pre data-tool="mdnice编辑器"><span></span><code><span># 单一查询</span><br>term &lt;- <span>'(("2020/01/01"[Date - Publication] : "2020/12/31"[Date - Publication])) AND (psychotherapy[Title/Abstract] AND PTSD[Title/Abstract])'</span><br>pmid_list &lt;- easyPubMed::get_pubmed_ids(term)<br><br><span># 获取文章ID列表和文章数量  </span><br><span># as.integer(as.character(pmid_list$Count))</span><br><span># pmid_list$IdList</span><br><br><span># 获取文章数据和整理信息</span><br>pm_xml &lt;- easyPubMed::fetch_pubmed_data(pmid_list)<br>pm_df &lt;- easyPubMed::table_articles_byAuth(<br>  pubmed_data = pm_xml,<br>  included_authors = <span>"first"</span>,<br>  getKeywords = <span>TRUE</span>,<br>  max_chars = <span>500</span><br>)<br><br></code></pre><p data-tool="mdnice编辑器">检查前 6 个条目：</p><pre data-tool="mdnice编辑器"><span></span><code><span># 查看结果</span><br>as.data.frame(lapply(head(pm_df[c(<span>"pmid"</span>, <span>"doi"</span>, <span>"jabbrv"</span>, <span>"keywords"</span>, <span>"abstract"</span>)]), substr, start = <span>1</span>, <span>stop</span> = <span>30</span>))<br></code></pre><pre data-tool="mdnice编辑器"><span></span><code>##       pmid                         doi                        jabbrv<br>## 1 34629839 10.1016/j.cbpra.2020.09.002              Cogn Behav Pract<br>## 2 34471458  10.1007/s40653-020-00327-9        J Child Adolesc Trauma<br>## 3 33990240  10.1016/j.beth.2020.08.005                    Behav Ther<br>## 4 33739764                                                  Rev Prat<br>## 5 33552844  10.1007/s40501-020-00222-y Curr Treat Options Psychiatry<br>## 6 33520399                                       Innov Clin Neurosci<br>##                         keywords                       abstract<br>## 1 PTSD; cognitive processing the Of the many vulnerable groups<br>## 2 Adolescents; Children; Evidenc Central American youth are at<br>## 3 Cognitive Behavioral Therapy;  Fidelity monitoring is a criti<br>## 4 Fibromyalgia; Stress Disorders Fibromyalgia and post-traumati<br>## 5 Comorbidity; Pharmacotherapy;  Sleep disturbances, insomnia a<br>## 6 EMDR; eye movement desensitiza DEPARTMENT EDITORS Julie P. Ge<br></code></pre><h3 data-tool="mdnice编辑器"><span></span><span>2.2. 多个查询</span><span></span></h3><p data-tool="mdnice编辑器">我们要在标题/摘要中寻找三组关键词：</p><ol data-tool="mdnice编辑器"><li><section><p>“心理治疗”或“心理干预”；</p></section></li><li><section><p>“试验”或“随机化”；</p></section></li><li><section><p>“PTSD”。</p></section></li></ol><p data-tool="mdnice编辑器">并且我们会分别针对 2022 年和 2023 年进行搜索。</p><p data-tool="mdnice编辑器">首先，我们需要创建一个数据框，包含所有可能的关键词组合。这可以通过<code>expand.grid</code>函数来实现：</p><pre data-tool="mdnice编辑器"><span></span><code><span># 多个查询</span><br>years &lt;- c(<span>2022</span>:<span>2023</span>)<br>years &lt;-<br>  sprintf(<span>'(("%d/01/01"[Date - Publication] : "%d/12/31"[Date - Publication]))'</span>,<br>          years,<br>          years)<br><br>term1 &lt;-<br>  c(<span>'psychotherapy'</span>, <span>'psychological intervention'</span>) |&gt; paste0(<span>'[Title/Abstract]'</span>)<br>term2 &lt;- c(<span>'trial'</span>, <span>'randomized'</span>) |&gt; paste0(<span>'[Title/Abstract]'</span>)<br>term3 &lt;- c(<span>'PTSD'</span>) |&gt; paste0(<span>'[Title/Abstract]'</span>)<br><br>search_terms &lt;- expand.grid(<span>"year"</span> = years, <span>"term1"</span> = term1, <span>"term2"</span> = term2, <span>"term3"</span> = term3)<br><br>search_terms$final &lt;-<br>  paste0(search_terms$year, <span>' AND '</span>,<br>    paste0(<span>'('</span>,<br>      apply(search_terms[, grep(<span>"term."</span>, colnames(search_terms))], <span>1</span>, paste, collapse = <span>" AND "</span>, sep = <span>" "</span>),<br>      <span>')'</span><br>    )<br>  )<br><br>pmid_list &lt;- lapply(search_terms$final, easyPubMed::get_pubmed_ids)<br><span># lapply(pmid_list, "[", "Count")    # 获取每个查询的计数</span><br><span># lapply(pmid_list, "[", "IdList")   # 获取每个查询的 PubMed ID</span><br><br>pm_xml &lt;- lapply(pmid_list, easyPubMed::fetch_pubmed_data)<br>pm_df_list &lt;-<br>  lapply(pm_xml, easyPubMed::table_articles_byAuth,<br>    included_authors = <span>"first"</span>, getKeywords = <span>TRUE</span>, max_chars = <span>500</span><br>  )  <span># 只获取第一作者，这样每项研究只有一行；多个作者  =&gt;  长格式数据框</span><br><br>pm_df_list &lt;- Map(<br>  cbind,<br>  pm_df_list,<br>  <span>"query"</span> = search_terms$final,<br>  <span>"terms"</span> = apply(search_terms[, grep(<span>"term."</span>, colnames(search_terms))], <span>1</span>, paste, collapse = <span>" AND "</span>, sep = <span>" "</span>)<br>) <span># 添加产生结果的查询字符串</span><br><br>pm_df &lt;- do.call(rbind, pm_df_list)<br><br>pm_df &lt;- pm_df[!duplicated(pm_df),]  <span>#排除重复项</span><br></code></pre><p data-tool="mdnice编辑器">查看 <em>search_terms</em> ：</p><pre data-tool="mdnice编辑器"><span></span><code>search_terms<br></code></pre><pre data-tool="mdnice编辑器"><span></span><code><span>##                                                                      year</span><br><span>## 1 (("2022/01/01"[Date - Publication] : "2022/12/31"[Date - Publication]))</span><br><span>## 2 (("2023/01/01"[Date - Publication] : "2023/12/31"[Date - Publication]))</span><br><span>## 3 (("2022/01/01"[Date - Publication] : "2022/12/31"[Date - Publication]))</span><br><span>## 4 (("2023/01/01"[Date - Publication] : "2023/12/31"[Date - Publication]))</span><br><span>## 5 (("2022/01/01"[Date - Publication] : "2022/12/31"[Date - Publication]))</span><br><span>## 6 (("2023/01/01"[Date - Publication] : "2023/12/31"[Date - Publication]))</span><br><span>## 7 (("2022/01/01"[Date - Publication] : "2022/12/31"[Date - Publication]))</span><br><span>## 8 (("2023/01/01"[Date - Publication] : "2023/12/31"[Date - Publication]))</span><br><span>##                                        term1                      term2</span><br><span>## 1              psychotherapy[Title/Abstract]      trial[Title/Abstract]</span><br><span>## 2              psychotherapy[Title/Abstract]      trial[Title/Abstract]</span><br><span>## 3 psychological intervention[Title/Abstract]      trial[Title/Abstract]</span><br><span>## 4 psychological intervention[Title/Abstract]      trial[Title/Abstract]</span><br><span>## 5              psychotherapy[Title/Abstract] randomized[Title/Abstract]</span><br><span>## 6              psychotherapy[Title/Abstract] randomized[Title/Abstract]</span><br><span>## 7 psychological intervention[Title/Abstract] randomized[Title/Abstract]</span><br><span>## 8 psychological intervention[Title/Abstract] randomized[Title/Abstract]</span><br><span>##                  term3</span><br><span>## 1 PTSD[Title/Abstract]</span><br><span>## 2 PTSD[Title/Abstract]</span><br><span>## 3 PTSD[Title/Abstract]</span><br><span>## 4 PTSD[Title/Abstract]</span><br><span>## 5 PTSD[Title/Abstract]</span><br><span>## 6 PTSD[Title/Abstract]</span><br><span>## 7 PTSD[Title/Abstract]</span><br><span>## 8 PTSD[Title/Abstract]</span><br><span>##                                                                                                                                                                              final</span><br><span>## 1                   (("2022/01/01"[Date - Publication] : "2022/12/31"[Date - Publication])) AND (psychotherapy[Title/Abstract] AND trial[Title/Abstract] AND PTSD[Title/Abstract])</span><br><span>## 2                   (("2023/01/01"[Date - Publication] : "2023/12/31"[Date - Publication])) AND (psychotherapy[Title/Abstract] AND trial[Title/Abstract] AND PTSD[Title/Abstract])</span><br><span>## 3      (("2022/01/01"[Date - Publication] : "2022/12/31"[Date - Publication])) AND (psychological intervention[Title/Abstract] AND trial[Title/Abstract] AND PTSD[Title/Abstract])</span><br><span>## 4      (("2023/01/01"[Date - Publication] : "2023/12/31"[Date - Publication])) AND (psychological intervention[Title/Abstract] AND trial[Title/Abstract] AND PTSD[Title/Abstract])</span><br><span>## 5              (("2022/01/01"[Date - Publication] : "2022/12/31"[Date - Publication])) AND (psychotherapy[Title/Abstract] AND randomized[Title/Abstract] AND PTSD[Title/Abstract])</span><br><span>## 6              (("2023/01/01"[Date - Publication] : "2023/12/31"[Date - Publication])) AND (psychotherapy[Title/Abstract] AND randomized[Title/Abstract] AND PTSD[Title/Abstract])</span><br><span>## 7 (("2022/01/01"[Date - Publication] : "2022/12/31"[Date - Publication])) AND (psychological intervention[Title/Abstract] AND randomized[Title/Abstract] AND PTSD[Title/Abstract])</span><br><span>## 8 (("2023/01/01"[Date - Publication] : "2023/12/31"[Date - Publication])) AND (psychological intervention[Title/Abstract] AND randomized[Title/Abstract] AND PTSD[Title/Abstract])</span><br></code></pre><p data-tool="mdnice编辑器">检查与我们的查询相关的文献趋势：</p><pre data-tool="mdnice编辑器"><span></span><code>pm_df$date &lt;-<br>  as.Date(apply(pm_df[, c(<span>"year"</span>, <span>"month"</span>, <span>"day"</span>)], <span>1</span>, paste0, collapse = <span>"-"</span>))<br>pm_df$ym &lt;- format(pm_df$date, <span>"%Y-%m"</span>)<br>pm_df$term &lt;- gsub(<span>"\\[Title/Abstract\\]"</span>, <span>""</span>, pm_df$terms)<br><br>pm_df |&gt;<br>  dplyr::count(term, ym) |&gt;<br>  dplyr::mutate(date = as.Date(paste0(ym, <span>"-01"</span>))) |&gt;<br>  ggplot(aes(x = date, y = n)) +<br>  geom_col() +<br>  facet_wrap(term ~ .) +<br>  scale_x_date(date_breaks = <span>"1 year"</span>, date_minor_breaks = <span>"2 months"</span>, date_labels = <span>"%Y-%m"</span>) +<br>  xlab(<span>"Year"</span>) +<br>  ylab(<span>"Count"</span>) +<br>  ggtitle(<span>"2022/2023: Psychotherapy trials for PTSD"</span>) +<br>  theme_bw()<br></code></pre><figure data-tool="mdnice编辑器"><img data-backh="319" data-backw="446" data-ratio="0.7142857142857143" data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/WaicZuM2mxM00BLHnfWDVkGsjEUKBWLUW1hHM2e3nFAPdVkVXJpKoHqicPIqvuF3jCZaDle58ufFlInFRUELv6Yg/640?wx_fmt=png" data-type="png" data-w="1344" src="https://mmbiz.qpic.cn/sz_mmbiz_png/WaicZuM2mxM00BLHnfWDVkGsjEUKBWLUW1hHM2e3nFAPdVkVXJpKoHqicPIqvuF3jCZaDle58ufFlInFRUELv6Yg/640?wx_fmt=png"></figure><h2 data-tool="mdnice编辑器"><span></span><span>3. 从检索到的数据中提取术语</span><span></span></h2><p data-tool="mdnice编辑器">接下来我们看看如何在<code>extract_terms()</code>函数中使用关键词。</p><p data-tool="mdnice编辑器">我们将分别从文章标题和关键词中提取有趣的词。</p><p data-tool="mdnice编辑器">在提取标题中的词汇时，我们将使用 <strong>RAKE</strong> 算法（快速自动关键字提取算法），并结合一份优质的停用词集合。</p><p data-tool="mdnice编辑器"><em>首先，我们从文章标题中提取词汇：</em></p><pre data-tool="mdnice编辑器"><span></span><code><span># 从标题中提取词汇</span><br><br><br>pm_terms_title &lt;- litsearchr::extract_terms(<br>  text = pm_df[, <span>"title"</span>],<br>  method = <span>"fakerake"</span>,<br>  min_freq = <span>3</span>,<br>  min_n = <span>2</span>,<br>  stopwords =<br>    stopwords::data_stopwords_stopwordsiso$en<br>)<br><br></code></pre><p data-tool="mdnice编辑器"><em>接着，我们从文章关键词中提取词汇：</em></p><pre data-tool="mdnice编辑器"><span></span><code><span># 从文章关键词中提取词汇：</span><br><br>pm_terms_keywords &lt;-<br>  litsearchr::extract_terms(<br>    keywords = trimws(unlist(strsplit(pm_df[, <span>"keywords"</span>], <span>";"</span>))),<br>    method = <span>"tagged"</span>,<br>    min_freq = <span>3</span>,<br>    min_n = <span>1</span>,<br>    max_n = <span>5</span><br>  )<br><br></code></pre><p data-tool="mdnice编辑器"><em>现在我们将从标题和关键词中提取的词汇汇总在一起：</em></p><pre data-tool="mdnice编辑器"><span></span><code><span># 整合提取的词汇</span><br><br>pm_terms &lt;- c(pm_terms_title, pm_terms_keywords)<br>pm_terms &lt;- pm_terms[!duplicated(pm_terms)]<br></code></pre><h2 data-tool="mdnice编辑器"><span></span><span>4.创建共现网络</span><span></span></h2><p data-tool="mdnice编辑器">为此，我们需要将文章标题和摘要作为“内容”，并假设如果某个词汇出现在标题或摘要中，那么它就出现在文章中。</p><p data-tool="mdnice编辑器">基于这个假设，我们将创建一个文档特征矩阵，其中“文档”是我们的文章（标题和摘要），“特征”是搜索词。</p><p data-tool="mdnice编辑器">然后，我们会用这个矩阵来计算共现网络。</p><pre data-tool="mdnice编辑器"><span></span><code><span># 创建共现网络</span><br>pm_docs &lt;-<br>  paste(pm_df[, <span>"title"</span>], pm_df[, <span>"abstract"</span>]) <span># 我们将考虑每篇文章的标题和摘要来代表文章的“内容”</span><br>pm_dfm &lt;-<br>  litsearchr::create_dfm(elements = pm_docs, features = pm_terms) <span># 文档特征矩阵</span><br>pm_coocnet &lt;- litsearchr::create_network(pm_dfm, min_studies = <span>3</span>)<br><br>ggraph(pm_coocnet, layout = <span>"stress"</span>) +<br>  coord_fixed() +<br>  expand_limits(x = c(-<span>3</span>, <span>3</span>)) +<br>  geom_edge_link(aes(alpha = weight)) +<br>  geom_node_point(shape = <span>"circle filled"</span>, fill = <span>"white"</span>) +<br>  geom_node_text(aes(label = name), hjust = <span>"outward"</span>, check_overlap = <span>TRUE</span>) +<br>  guides(edge_alpha = <span>"none"</span>) +<br>  theme_void()<br></code></pre><figure data-tool="mdnice编辑器"><img data-backh="319" data-backw="446" data-ratio="0.7142857142857143" data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/WaicZuM2mxM00BLHnfWDVkGsjEUKBWLUWPez6ic12AglicnKICvEVJTPDDryUofWXFE15lqR4NsqDV8NZsIaafLTA/640?wx_fmt=png" data-type="png" data-w="1344" src="https://mmbiz.qpic.cn/sz_mmbiz_png/WaicZuM2mxM00BLHnfWDVkGsjEUKBWLUWPez6ic12AglicnKICvEVJTPDDryUofWXFE15lqR4NsqDV8NZsIaafLTA/640?wx_fmt=png"></figure><h2 data-tool="mdnice编辑器"><span></span><span>5.根据节点强度修剪网络</span><span></span></h2><h3 data-tool="mdnice编辑器"><span></span><span>5.1 计算节点强度</span><span></span></h3><p data-tool="mdnice编辑器">网络中的节点强度是通过将连接到相应节点的所有边的权重相加来计算的。因此，节点强度研究了它与网络中其他节点的直接连接强度。</p><pre data-tool="mdnice编辑器"><span></span><code><span># 根据节点强度修剪网络</span><br>pm_node_strength &lt;- igraph::strength(pm_coocnet)<br>pm_node_rankstrenght &lt;- data.frame(term = names(pm_node_strength), strength = pm_node_strength, row.names = <span>NULL</span>)<br>pm_node_rankstrenght$rank &lt;- rank(pm_node_rankstrenght$strength, ties.method = <span>"min"</span>)<br>pm_node_rankstrenght &lt;- pm_node_rankstrenght[order(pm_node_rankstrenght$rank),]<br><br>pm_plot_strenght &lt;-<br>  ggplot(pm_node_rankstrenght, aes(x = rank, y = strength, label = term)) +<br>  geom_line(lwd = <span>0.8</span>) +<br>  geom_point() +<br>  ggrepel::geom_text_repel(size = <span>3</span>, hjust = <span>"right"</span>, nudge_y = <span>3</span>, max.overlaps = <span>30</span>) +<br>  theme_bw()<br>pm_plot_strenght<br></code></pre><figure data-tool="mdnice编辑器"><img data-backh="319" data-backw="446" data-ratio="0.7142857142857143" data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/WaicZuM2mxM00BLHnfWDVkGsjEUKBWLUWLMpDPh9RV5tMm26oWeibNwrq7Xf2SORgE3ZJZ38dkFpDTuUbxIlic1Hw/640?wx_fmt=png" data-type="png" data-w="1344" src="https://mmbiz.qpic.cn/sz_mmbiz_png/WaicZuM2mxM00BLHnfWDVkGsjEUKBWLUWLMpDPh9RV5tMm26oWeibNwrq7Xf2SORgE3ZJZ38dkFpDTuUbxIlic1Hw/640?wx_fmt=png"></figure><h3 data-tool="mdnice编辑器"><span></span><span>5.1 根据选择的标准修剪</span><span></span></h3><p data-tool="mdnice编辑器">接下来我们讨论如何修剪共现网络中的节点。我们只想保留那些强度较高的节点，但是如何确定要修剪多少呢？<code>litsearchr::find_cutoff()</code>为我们提供了两种方法：<strong>累积截止点和变化点。</strong></p><p data-tool="mdnice编辑器">累积截止点法很简单，它只是保留网络中总强度的一定比例（例如 80%）。</p><p data-tool="mdnice编辑器">而变化点方法则利用<code>changepoint::cpt.mean()</code>计算强度趋势在哪个点发生了急剧变化，以确定最佳截止位置。</p><p data-tool="mdnice编辑器">我们会采用启发式方法，将这两种结果结合起来。也就是说，我们将<strong>选择最接近我们设定的累积截止值的变化点作为实际截止值。</strong></p><pre data-tool="mdnice编辑器"><span></span><code><span># 累积法 - 保留网络中总强度的一定比例（例如 80%）</span><br>pm_cutoff_cum &lt;- litsearchr::find_cutoff(pm_coocnet, method = <span>"cumulative"</span>, percent = <span>0.8</span>)<br><br><span># 变化点法 - 在强度趋势中找到下一个强度远大于前一个的点</span><br>pm_cutoff_change &lt;- litsearchr::find_cutoff(pm_coocnet, method = <span>"changepoint"</span>, knot_num = <span>3</span>)<br><br>pm_plot_strenght +<br>  geom_hline(<br>    yintercept = pm_cutoff_cum,<br>    color = <span>"red"</span>,<br>    lwd = <span>0.7</span>,<br>    linetype = <span>"longdash"</span>,<br>    alpha = <span>0.6</span><br>  ) +<br>  geom_hline(<br>    yintercept = pm_cutoff_change,<br>    color = <span>"orange"</span>,<br>    lwd = <span>0.7</span>,<br>    linetype = <span>"dashed"</span>,<br>    alpha = <span>0.6</span><br>  )<br><br></code></pre><figure data-tool="mdnice编辑器"><img data-backh="319" data-backw="446" data-ratio="0.7142857142857143" data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/WaicZuM2mxM00BLHnfWDVkGsjEUKBWLUWib4c1M91icDwiaDfBibmPx8ECwIL8uGVJyCdsDPxhLc58b8A8I2KgIs0CQ/640?wx_fmt=png" data-type="png" data-w="1344" src="https://mmbiz.qpic.cn/sz_mmbiz_png/WaicZuM2mxM00BLHnfWDVkGsjEUKBWLUWib4c1M91icDwiaDfBibmPx8ECwIL8uGVJyCdsDPxhLc58b8A8I2KgIs0CQ/640?wx_fmt=png"></figure><pre data-tool="mdnice编辑器"><span></span><code><span># 例如最接近累积标准的切点（累积产生一个值，变化点可能很多）</span><br>pm_cutoff_crit &lt;- pm_cutoff_change[which.min(abs(pm_cutoff_change - pm_cutoff_cum))]<br><br>pm_selected_terms &lt;- litsearchr::get_keywords(litsearchr::reduce_graph(pm_coocnet, pm_cutoff_crit))<br></code></pre><p data-tool="mdnice编辑器">检查选定的术语：</p><pre data-tool="mdnice编辑器"><span></span><code>pm_selected_terms<br></code></pre><pre data-tool="mdnice编辑器"><span></span><code><span>##  [1] "clinical trial"                 "controlled trial"</span><br><span>##  [3] "controlled trials"              "exposure therapy"</span><br><span>##  [5] "post-traumatic stress"          "post-traumatic stress disorder"</span><br><span>##  [7] "posttraumatic stress"           "posttraumatic stress disorder"</span><br><span>##  [9] "psychological intervention"     "psychological interventions"</span><br><span>## [11] "randomized clinical"            "randomized clinical trial"</span><br><span>## [13] "randomized controlled"          "randomized controlled trial"</span><br><span>## [15] "randomized controlled trials"   "stress disorder"</span><br><span>## [17] "trauma-focused psychotherapy"   "adult"</span><br><span>## [19] "aged"                           "child"</span><br><span>## [21] "effectiveness"                  "mental health"</span><br><span>## [23] "meta-analysis"                  "post-traumatic"</span><br><span>## [25] "psychological"                  "psychotherapy"</span><br><span>## [27] "ptsd"                           "rct"</span><br><span>## [29] "trauma"                         "treatment"</span><br><span>## [31] "trial"                          "veterans"</span><br></code></pre><p data-tool="mdnice编辑器">我们注意到一些术语分组很明显，例如：研究类型（设计）、干预类型、障碍/症状和人群。我们对特定人群不感兴趣，因此我们将排除 "儿童"、"成人"、"老年人"、"退伍军人" 等术语。</p><p data-tool="mdnice编辑器">同时，我们还将排除那些虽然适用于这些群体但对于我们的范围来说太宽泛的术语，例如：对于障碍/症状来说 "心理健康" 太宽泛，而对于干预类型来说 "心理" 和 "治疗" 太宽泛。</p><p data-tool="mdnice编辑器">之后，我们将为其余术语手动定义分组。</p><h2 data-tool="mdnice编辑器"><span></span><span>6. 手动分组成簇</span><span></span></h2><pre data-tool="mdnice编辑器"><span></span><code><span># 排除项</span><br>pm_selected_terms &lt;- pm_selected_terms[-c(<span>18</span>, <span>19</span>, <span>20</span>, <span>32</span>, <span>22</span>, <span>25</span>, <span>30</span>)]<br><br><span># 手动分组到集群中——为了更严格的搜索，我们需要结合使用 OR 和 AND 运算符</span><br>design &lt;- pm_selected_terms[c(<span>1</span>:<span>3</span>, <span>11</span>:<span>15</span>, <span>18</span>, <span>19</span>, <span>23</span>, <span>25</span>)]<br>intervention &lt;- pm_selected_terms[c(<span>4</span>, <span>9</span>, <span>10</span>, <span>17</span>, <span>21</span>)]<br>disorder &lt;- pm_selected_terms[c(<span>5</span>:<span>8</span>, <span>16</span>, <span>20</span>, <span>22</span>, <span>24</span>)]<br><br><span># all.equal(length(pm_selected_terms),</span><br><span>#   sum(length(design), length(intervention), length(disorder))</span><br><span># )  # check that we grouped all terms</span><br><br>pm_gruped_selected_terms &lt;- list(<br>  design = design,<br>  intervention = intervention,<br>  disorder = disorder<br>)<br></code></pre><h2 data-tool="mdnice编辑器"><span></span><span>7.自动写入搜索字符串</span><span></span></h2><pre data-tool="mdnice编辑器"><span></span><code><span># 搜索</span><br>litsearchr::write_search(<br>  pm_gruped_selected_terms,<br>  languages = <span>"English"</span>,<br>  exactphrase = <span>TRUE</span>,<br>  stemming = <span>FALSE</span>,<br>  closure = <span>"left"</span>,<br>  writesearch = <span>FALSE</span><br>)<br></code></pre><pre data-tool="mdnice编辑器"><span></span><code><span>## [1] "English is written"</span><br></code></pre><pre data-tool="mdnice编辑器"><span></span><code><span>## [1] "((\"clinical trial\" OR \"controlled trial\" OR \"randomized clinical\" OR \"randomized controlled\" OR effectiveness OR meta-analysis OR rct OR trial) AND (\"exposure therapy\" OR \"psychological intervention\" OR \"trauma-focused psychotherapy\" OR psychotherapy) AND (\"posttraumatic stress\" OR \"stress disorder\" OR post-traumatic OR ptsd OR trauma))"</span><br></code></pre><h2 data-tool="mdnice编辑器"><span></span><span>讨论</span><span></span></h2><p data-tool="mdnice编辑器">在这个自动化的搜索过程中，只有与术语排除和术语分组有关的最后两个步骤需要研究人员谨慎地做出决策。这个自动化工作流程能够发现一些重要的术语，而人类研究者可能会忽略这些术语。</p><p data-tool="mdnice编辑器">以“暴露疗法”为例，这是一种广泛应用的心理治疗干预措施。但由于其名字中包含“疗法”，因此很难将其与其他以“疗法”结尾但实际上与心理疗法无关的术语区分开来。通过这个自动化搜索过程，我们能够发现并关注到这些容易被忽略的关键术语，从而为研究提供更全面的信息。</p><p data-tool="mdnice编辑器">通过结合自动化流程和研究者的专业判断，我们能够更准确地找到与研究主题相关的术语，提高研究的质量和效率。</p><h5 data-tool="mdnice编辑器">作者 | Claudiu<br>译者 | 柠檬青年<br>策划 | Student Zero<br>来源 | Claudiu's Blog<br>榴莲忘返 2014</h5><center data-tool="mdnice编辑器">— 完 —</center><h3 data-tool="mdnice编辑器"><span>参考资料</span></h3><section data-tool="mdnice编辑器"><span><span>[1] </span><p><em>https://besjournals.onlinelibrary.wiley.com/doi/10.1111/2041-210X.13268</em></p></span><span><span>[2] </span><p>Library Carpentry: <em>https://carpentries-incubator.github.io/lc-litsearchr/</em></p></span><span><span>[3] </span><p>Automated systematic literature search using R, litsearchr and easyPubMed | Claudiu's Blog : <em>https://claudiu.psychlab.eu/post/automated-systematic-literature-search-with-r-litsearchr-easypubmed/</em></p></span><span><span>[4] </span><p><code>easyPubMed</code>: <em>https://www.data-pulse.com/dev_site/easypubmed/</em></p></span><span><span>[5] </span><p><code>litsearchr</code>: <em>https://elizagrames.github.io/litsearchr</em></p></span><span><span>[6] </span><p><code>stopwords</code>: <em>https://cran.r-project.org/web/packages/stopwords/readme/README.html</em></p></span><span><span>[7] </span><p><code>igraph</code>: <em>https://igraph.org/r/</em></p></span></section></section><p><br></p><p><mp-style-type data-value="3"></mp-style-type></p></div>  
<hr>
<a href="https://mp.weixin.qq.com/s/8c4LmXBdSwyqapuL04hR1w",target="_blank" rel="noopener noreferrer">原文链接</a>
