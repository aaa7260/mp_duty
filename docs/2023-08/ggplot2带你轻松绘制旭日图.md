---
title: "ggplot2带你轻松绘制旭日图"
date: 2023-08-07T20:45:48Z
draft: ["false"]
tags: [
  "fetched",
  "R语言数据分析指南"
]
categories: ["Acdemic"]
---
ggplot2带你轻松绘制旭日图 by R语言数据分析指南
------
<div><section data-tool="mdnice编辑器" data-website="https://www.mdnice.com"><h3 data-tool="mdnice编辑器"><span></span><span><span></span>欢迎关注R语言数据分析指南</span><span></span></h3><blockquote data-tool="mdnice编辑器"><span>❝</span><p>之前在会员交流群内看到有朋友询问旭日图的绘制方法，本节来介绍如何使用ggplot2来绘制并添加内外圈，下面小编就通过一个案例来进行展示数据为随意构建无实际意义仅作图形展示用，添加了详细的注释希望各位观众老爷能够喜欢，<strong>「数据+代码已经上传2023VIP群，加群的观众老爷请自行下载」</strong>。</p><span>❞</span></blockquote><h3 data-tool="mdnice编辑器"><span></span><span><span></span>关注下方公众号下回更新不迷路</span><span></span></h3><section><mp-common-profile data-pluginname="mpprofile" data-id="Mzg3MzQzNTYzMw==" data-headimg="http://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAZF0rpeZII9Ltl26VbVagriczTria1fib3XgjwwHEHFjPzkmGpqWDVVHBSzhENictUM2iavAKiaM5lc9USw/0?wx_fmt=png" data-nickname="R语言数据分析指南" data-alias="YanJANtwo" data-signature="R语言重症爱好者，喜欢绘制各种精美的图表，喜欢的小伙伴可以关注我，跟我一起学习" data-from="0" data-is_biz_ban="0"></mp-common-profile></section><h3 data-tool="mdnice编辑器"><span></span><span><span></span>加载R包</span><span></span></h3><pre data-tool="mdnice编辑器"><span></span><code><span>library</span>(tidyverse)<br><span>library</span>(ggtext)<br></code></pre><h3 data-tool="mdnice编辑器"><span></span><span><span></span>导入数据</span><span></span></h3><pre data-tool="mdnice编辑器"><span></span><code>outer_ring &lt;- read_tsv(<span>"outer_ring.xls"</span>)<br>inner_ring &lt;- read_tsv(<span>"data.xls"</span>)<br></code></pre><h3 data-tool="mdnice编辑器"><span></span><span><span></span>案例1</span><span></span></h3><pre data-tool="mdnice编辑器"><span></span><code>ggplot()+<br>  geom_rect(data = inner_ring,<br>    aes(xmin = <span>0.5</span>, xmax = <span>1.5</span>, ymin = ymin, ymax = ymax, fill = character2),<br>    alpha = <span>1</span>, color = <span>"white"</span>, linewidth = <span>0.42</span>)+<br>  annotate(<span>"rect"</span>, xmin = <span>0</span>, xmax = <span>0.75</span>, ymin = -<span>Inf</span>, ymax = <span>Inf</span>, fill = <span>"grey"</span>)+<br>  annotate(<span>"text"</span>,x = <span>0</span>, y = <span>0</span>, label = <span>"The Office"</span>,fontface = <span>"plain"</span>, color = <span>"grey10"</span>, size = <span>7</span>)+<br>  geom_text(data = inner_ring,aes(x = ifelse(words_share &gt; <span>0.05</span>, <span>1.1</span>, <span>1.9</span>), <br>      y = ymin + (ymax - ymin) / <span>2</span>,<br>      label = character2,<br>      size = ifelse(words_share &gt; <span>0.05</span>, <span>4</span>, <span>3.5</span>),<br>      vjust = ifelse(words_share &gt; <span>0.05</span>, <span>0.5</span>, -<span>0.7</span>)),hjust = <span>0.5</span>)+<br>  scale_size_identity() +<br>  scale_color_identity() +<br>  coord_polar(theta = <span>"y"</span>, clip = <span>"off"</span>, start = -<span>0.005</span>) +<br>  labs(title =<span>NULL</span>) +<br>  theme_void() +<br>  theme(plot.background = element_rect(color = <span>"white"</span>, fill = <span>"white"</span>),<br>    text = element_text(color =<span>"black"</span>),<br>    legend.title = element_blank(),<br>    plot.margin = margin(t = <span>0</span>, b = <span>0</span>, l = <span>4</span>, r = <span>4</span>))<br></code></pre><figure data-tool="mdnice编辑器"><img data-ratio="1.1203703703703705" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAYh3rwtAnKWS5XrFOhQpqiatfIFK803XgWVsAb6myYu8xsTdBqUN80qXr6GQ0sgfJicRFLugkqICqhw/640?wx_fmt=png" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAYh3rwtAnKWS5XrFOhQpqiatfIFK803XgWVsAb6myYu8xsTdBqUN80qXr6GQ0sgfJicRFLugkqICqhw/640?wx_fmt=png"></figure><h3 data-tool="mdnice编辑器"><span></span><span><span></span>案例2</span><span></span></h3><pre data-tool="mdnice编辑器"><span></span><code>ggplot()+<br>  geom_rect(data = outer_ring,<br>    aes(xmin = <span>0.25</span>, xmax = <span>1.5</span> + <span>2</span> * words_share.season, <br>        ymin = ymin, ymax = ymax, fill = character2), color = <span>"white"</span>, linewidth = <span>0.1</span>)+<br>  geom_rect(data = inner_ring,<br>    aes(xmin = <span>0.5</span>, xmax = <span>1.5</span>, ymin = ymin, ymax = ymax, fill = character2),<br>    alpha = <span>1</span>, color = <span>"white"</span>, linewidth = <span>0.42</span>)+<br>  annotate(<span>"rect"</span>, xmin = <span>0</span>, xmax = <span>0.75</span>, ymin = -<span>Inf</span>, ymax = <span>Inf</span>, fill = <span>"grey"</span>)+<br>  annotate(<span>"text"</span>,x = <span>0</span>, y = <span>0</span>, label = <span>"The Office"</span>,fontface = <span>"plain"</span>, color = <span>"grey10"</span>, size = <span>7</span>)+<br>  geom_text(data = inner_ring,aes(x = ifelse(words_share &gt; <span>0.05</span>, <span>1.1</span>, <span>1.9</span>), <br>      y = ymin + (ymax - ymin) / <span>2</span>,<br>      label = character2,<br>      size = ifelse(words_share &gt; <span>0.05</span>, <span>4</span>, <span>3.5</span>),<br>      vjust = ifelse(words_share &gt; <span>0.05</span>, <span>0.5</span>, -<span>0.7</span>)),hjust = <span>0.5</span>)+<br>  scale_size_identity() +<br>  scale_color_identity() +<br>  coord_polar(theta = <span>"y"</span>, clip = <span>"off"</span>, start = -<span>0.005</span>) +<br>  labs(title =<span>NULL</span>) +<br>  theme_void() +<br>  theme(plot.background = element_rect(color = <span>"white"</span>, fill = <span>"white"</span>),<br>    text = element_text(color =<span>"black"</span>),<br>    legend.title = element_blank(),<br>    plot.margin = margin(t = <span>0</span>, b = <span>0</span>, l = <span>4</span>, r = <span>4</span>))<br></code></pre><figure data-tool="mdnice编辑器"><img data-ratio="0.7416666666666667" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAYh3rwtAnKWS5XrFOhQpqiat7neOMBSrwMajpsYKxBPsIAsU6VE0tUDmK2bSG731xnv3cc8j2EhgyA/640?wx_fmt=png" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAYh3rwtAnKWS5XrFOhQpqiat7neOMBSrwMajpsYKxBPsIAsU6VE0tUDmK2bSG731xnv3cc8j2EhgyA/640?wx_fmt=png"></figure><blockquote data-tool="mdnice编辑器"><span>❝</span><p>本节介绍到此结束，有需要学习个性化数据可视化的朋友，欢迎到小编的<strong>「淘宝店铺」</strong> <strong>「R语言数据分析指南」</strong>购买<strong>「2023年度会员文档」</strong>同步更新中<strong>「售价149元」</strong>，内容主要包括各种<strong>「高分论文的图表分析复现以及一些个性化图表的绘制」</strong>均包含数据+代码；按照往年数据小编年产出约在150+以上</p><span>❞</span></blockquote><p data-tool="mdnice编辑器">购买后微信发小编订单截图即邀请进新的会员交流群，小编的文档为按年售卖，只包含当年度的<strong>「除系列课程外」</strong>的文档，有需要往年文档的朋友也可下单购买，需要了解更多信息的朋友欢迎交流咨询。</p><h3 data-tool="mdnice编辑器"><span></span><span><span></span>淘宝扫一扫</span><span></span></h3><figure data-tool="mdnice编辑器"><img data-ratio="1.5751295336787565" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAYh3rwtAnKWS5XrFOhQpqiatEtX3de9icZb20icibufx26akdunZKsbdbKls7cogP4eNupMawdtcW04Hw/640?wx_fmt=png" data-type="png" data-w="386" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAYh3rwtAnKWS5XrFOhQpqiatEtX3de9icZb20icibufx26akdunZKsbdbKls7cogP4eNupMawdtcW04Hw/640?wx_fmt=png"></figure><h3 data-tool="mdnice编辑器"><span></span><span><span></span>2023会员群案例展示</span><span></span></h3><p data-tool="mdnice编辑器"><img data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAYh3rwtAnKWS5XrFOhQpqiatx6pJ4vMO51zqlp3mcF6kq31MNicX1TVic4ubWvkicMO2ZDE3JTLHhFuLw/640?wx_fmt=png" data-type="png" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAYh3rwtAnKWS5XrFOhQpqiatx6pJ4vMO51zqlp3mcF6kq31MNicX1TVic4ubWvkicMO2ZDE3JTLHhFuLw/640?wx_fmt=png"><img data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAYh3rwtAnKWS5XrFOhQpqiatAaQAyDehBKTxlXekSB5NsQEInWvvwaGk6P3r9mwatS2l6PoicA2jBzg/640?wx_fmt=png" data-type="png" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAYh3rwtAnKWS5XrFOhQpqiatAaQAyDehBKTxlXekSB5NsQEInWvvwaGk6P3r9mwatS2l6PoicA2jBzg/640?wx_fmt=png"><img data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAYh3rwtAnKWS5XrFOhQpqiat3iacP9VAB1JhbRZGoTkkzlcfJcfxCSzqh51b81ryFp3zsWZFuHJvnoA/640?wx_fmt=png" data-type="png" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAYh3rwtAnKWS5XrFOhQpqiat3iacP9VAB1JhbRZGoTkkzlcfJcfxCSzqh51b81ryFp3zsWZFuHJvnoA/640?wx_fmt=png"><img data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAYh3rwtAnKWS5XrFOhQpqiatpdSTLvngDjibg8cTwgmbsicROWr3bicG3O1a59acaXibGHvB7JAgHd0lFw/640?wx_fmt=png" data-type="png" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAYh3rwtAnKWS5XrFOhQpqiatpdSTLvngDjibg8cTwgmbsicROWr3bicG3O1a59acaXibGHvB7JAgHd0lFw/640?wx_fmt=png"><img data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAYh3rwtAnKWS5XrFOhQpqiat3HDHhMNgVyWpfbbKWnLH18K8FaPQBSm3x61KH8rxdKU48dFYjSSFEA/640?wx_fmt=png" data-type="png" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAYh3rwtAnKWS5XrFOhQpqiat3HDHhMNgVyWpfbbKWnLH18K8FaPQBSm3x61KH8rxdKU48dFYjSSFEA/640?wx_fmt=png"><img data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAYh3rwtAnKWS5XrFOhQpqiatROEzTreZ0bF62Aia0nlV39EBiaQzRnfYzTI2ulyf4YOn7jWHZs3FQzHw/640?wx_fmt=png" data-type="png" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAYh3rwtAnKWS5XrFOhQpqiatROEzTreZ0bF62Aia0nlV39EBiaQzRnfYzTI2ulyf4YOn7jWHZs3FQzHw/640?wx_fmt=png"><img data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAYh3rwtAnKWS5XrFOhQpqiatV8XatLhskkyv5jB6RZGO95MrlUEicic16jCGYic7CJoZRd033kvIXf52g/640?wx_fmt=png" data-type="png" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAYh3rwtAnKWS5XrFOhQpqiatV8XatLhskkyv5jB6RZGO95MrlUEicic16jCGYic7CJoZRd033kvIXf52g/640?wx_fmt=png"><img data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAYh3rwtAnKWS5XrFOhQpqiatZRicN2VSe5D5pVoPeed26WCUDH5CLa8A91iaYcbCoa0PIYz4YHjqJib7g/640?wx_fmt=png" data-type="png" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAYh3rwtAnKWS5XrFOhQpqiatZRicN2VSe5D5pVoPeed26WCUDH5CLa8A91iaYcbCoa0PIYz4YHjqJib7g/640?wx_fmt=png"><img data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAYh3rwtAnKWS5XrFOhQpqiatDs7lQTkibu6H7hrQRdog1zLBwcOOdH6SsVVzncIg9vJ4p4PicEcPEnSw/640?wx_fmt=png" data-type="png" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAYh3rwtAnKWS5XrFOhQpqiatDs7lQTkibu6H7hrQRdog1zLBwcOOdH6SsVVzncIg9vJ4p4PicEcPEnSw/640?wx_fmt=png"></p></section><p><br></p><p><mp-style-type data-value="3"></mp-style-type></p></div>  
<hr>
<a href="https://mp.weixin.qq.com/s/ecgOZlGomp6p8HRG1oefnw",target="_blank" rel="noopener noreferrer">原文链接</a>
