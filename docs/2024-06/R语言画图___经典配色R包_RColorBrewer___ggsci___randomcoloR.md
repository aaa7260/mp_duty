---
title: "R语言画图 | 经典配色R包 RColorBrewer + ggsci + randomcoloR"
date: 2024-06-11T01:01:42Z
draft: ["false"]
tags: [
  "fetched",
  "被炸熟的虾"
]
categories: ["Acdemic"]
---
R语言画图 | 经典配色R包 RColorBrewer + ggsci + randomcoloR by 被炸熟的虾
------
<div><p><span>记录一些经典的配色方案，方便后续画图使用<img data-ratio="1" data-src="https://res.wx.qq.com/t/wx_fed/we-emoji/res/v1.3.10/assets/newemoji/LetMeSee.png" data-w="128" src="https://res.wx.qq.com/t/wx_fed/we-emoji/res/v1.3.10/assets/newemoji/LetMeSee.png"></span><span></span></p><h2><span>RColorBrewer包</span></h2><section><code>RColorBrewer</code>算是最经典的调色板<span>R</span>包之一，内置<span>3类<span>调色板</span></span>。可以使用<code>brewer.pal.info</code>函数查看所有调色板信息。</section><p><strong><span lang="EN-US">1、连续型 </span><span><span>sequential</span></span></strong><span lang="EN-US">：单渐变色，一种颜色由浅到深。共</span><span><span>18</span></span><span lang="EN-US">组，每组</span><span><span>9</span></span><span lang="EN-US">个渐变色梯度。</span></p><pre><code>display.brewer.all(type = <span>"seq"</span>)<br></code></pre><p><img data-imgfileid="100003764" data-ratio="0.5101851851851852" data-s="300,640" data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/dRYYdqiaan3IWZflhHmyUW2wG7icYW3tc59icVG7jDvPtb2MEiazxA6g9msFwMEwvEllghD8JBTjicgqM0xBRUbBV2g/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/sz_mmbiz_png/dRYYdqiaan3IWZflhHmyUW2wG7icYW3tc59icVG7jDvPtb2MEiazxA6g9msFwMEwvEllghD8JBTjicgqM0xBRUbBV2g/640?wx_fmt=png&amp;from=appmsg"></p><p><strong><span lang="EN-US">2、离散型 </span><span><span>divergent</span></span></strong><span lang="EN-US">：双渐变色，一种颜色到另外一种颜色的渐变，即两端的颜色较深。共</span><span><span>9</span></span><span lang="EN-US">组，每组</span><span><span>11</span></span><span lang="EN-US">个颜色。</span></p><pre><code>display.brewer.all(type = <span>"div"</span>)<br></code></pre><p><img data-imgfileid="100003765" data-ratio="0.5101851851851852" data-s="300,640" data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/dRYYdqiaan3IWZflhHmyUW2wG7icYW3tc5mgaFSwnWSwB0xJyaKBbnpsEm0dU6SgHlUyD7BhDINLfd0ISNEUVx9Q/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/sz_mmbiz_png/dRYYdqiaan3IWZflhHmyUW2wG7icYW3tc5mgaFSwnWSwB0xJyaKBbnpsEm0dU6SgHlUyD7BhDINLfd0ISNEUVx9Q/640?wx_fmt=png&amp;from=appmsg"></p><p><strong><span lang="EN-US">3、定性型 </span><span><span>qualitative</span></span></strong><span lang="EN-US">：区分色，几种区分度很高的颜色组合，适合标记分类数据。共</span><span><span>8</span></span><span lang="EN-US">组，每组颜色</span><span><span>8</span></span><span lang="EN-US">到</span><span><span>12</span></span><span lang="EN-US">个不等。</span></p><pre><code>display.brewer.all(type = <span>"qual"</span>)<br></code></pre><p><img data-imgfileid="100003766" data-ratio="0.5101851851851852" data-s="300,640" data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/dRYYdqiaan3IWZflhHmyUW2wG7icYW3tc5b6buCuhWTuueiaG64Qr39WN2V7eID71dIjUwfiaqjve8WDQSIKvM3lHQ/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/sz_mmbiz_png/dRYYdqiaan3IWZflhHmyUW2wG7icYW3tc5b6buCuhWTuueiaG64Qr39WN2V7eID71dIjUwfiaqjve8WDQSIKvM3lHQ/640?wx_fmt=png&amp;from=appmsg"></p><section><span lang="EN-US">也可以使用</span><code>display.brewer.pal(所取颜色的个数,"调色板名称")</code><span lang="EN-US">具体查看某一个调色板中的颜色。</span></section><section><strong><span lang="EN-US">使用</span></strong><code>brewer.pal</code><strong><span lang="EN-US">函数提取不同分组颜色编号：</span></strong></section><pre><code>brewer.pal(<span>9</span>, <span>"Set1"</span>)<br><span>#[1] "#E41A1C" "#377EB8" "#4DAF4A" "#984EA3" "#FF7F00" "#FFFF33" "#A65628" "#F781BF" "#999999"</span><br>brewer.pal(<span>12</span>, <span>'Paired'</span>)[c(<span>1</span>, <span>3</span>, <span>5</span>)]<br><span>#[1] "#A6CEE3" "#B2DF8A" "#FB9A99"</span><br></code></pre><pre><code>colsBlues &lt;- brewer.pal(<span>9</span>, <span>"Blues"</span>)<br>colsYlOrRd &lt;- brewer.pal(<span>9</span>, <span>"YlOrRd"</span>)<br>colsSet1 &lt;- brewer.pal(<span>9</span>, <span>"Set1"</span>)<br>colsSet2 &lt;- brewer.pal(<span>9</span>, <span>"Set2"</span>)<br>colsSpectral &lt;- brewer.pal(<span>9</span>, <span>"Spectral"</span>)<br>colsBrBG &lt;- brewer.pal(<span>9</span>, <span>"BrBG"</span>)<br></code></pre><p><img data-imgfileid="100003760" data-ratio="0.7" data-s="300,640" data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/dRYYdqiaan3IWZflhHmyUW2wG7icYW3tc5mbgxtls2V7aP0YhwjJ9UtIAHxFD6f4A9xdnlEZx04g8Vl8MV8wpKBQ/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/sz_mmbiz_png/dRYYdqiaan3IWZflhHmyUW2wG7icYW3tc5mbgxtls2V7aP0YhwjJ9UtIAHxFD6f4A9xdnlEZx04g8Vl8MV8wpKBQ/640?wx_fmt=png&amp;from=appmsg"></p><p><span lang="EN-US">统一筛选提取差异较大的颜色：</span></p><pre><code><span>library</span>(RColorBrewer) <br>qual_col_pals &lt;- brewer.pal.info[brewer.pal.info$category == <span>'qual'</span>,]<br><span>#处理后有74种差异还比较明显的颜色</span><br>col_vector &lt;- unlist(mapply(brewer.pal,qual_col_pals$maxcolors, rownames(qual_col_pals))) <br>pie(rep(<span>1</span>,length(col_vector)), col = col_vector)<br></code></pre><p><img data-imgfileid="100003761" data-ratio="0.9067669172932331" data-s="300,640" data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/dRYYdqiaan3IWZflhHmyUW2wG7icYW3tc5daEIXR0OLotbNokvddiaxJroIg0fK5Dox7gTFnRqDR87G2XpPRibDKrA/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="665" src="https://mmbiz.qpic.cn/sz_mmbiz_png/dRYYdqiaan3IWZflhHmyUW2wG7icYW3tc5daEIXR0OLotbNokvddiaxJroIg0fK5Dox7gTFnRqDR87G2XpPRibDKrA/640?wx_fmt=png&amp;from=appmsg"></p><h2><span>ggsci包</span></h2><section><code>ggsci</code><span lang="EN-US">包的功能如其名字所示，提供了多个来自科学期刊、数据可视化库、科幻电影和电视剧中的经典调色板。这些调色板可以通过两种方法调用：</span></section><h4><span><strong><span lang="EN-US">1、</span></strong></span><code><span>scale</span></code><span><strong><span lang="EN-US">函数</span></strong></span></h4><section><span lang="EN-US">可以使用</span><code>scale_colour_palname()</code><span lang="EN-US">/</span><code>scale_fill_palname()</code><span lang="EN-US">函数直接取代</span><code>ggplot2</code><span lang="EN-US">相应的配色函数，例如可以用</span><code>scale_color_npg()</code><span lang="EN-US">调用</span><span>Nature</span><span lang="EN-US">杂志风格配色，</span><code>scale_fill_nejm()</code><span lang="EN-US">调用</span><span>New England Journal of Medicine</span><span lang="EN-US">杂志风格配色。全部调色板见下文。</span></section><pre><code>p1 &lt;- ggplot(subset(diamonds, carat &gt; <span>2.5</span> &amp; depth &gt; <span>50</span> &amp; depth &lt; <span>100</span>),<br>       aes(x = table, y = price, colour = cut)) +<br>       geom_point(alpha = <span>0.7</span>) +<br>       geom_smooth(method = <span>"loess"</span>, alpha = <span>0.05</span>, size = <span>1</span>, span = <span>1</span>) +<br>       scale_color_npg() + labs(title = <span>'scale_color_npg'</span>) +<br>       mytheme<br>p2 &lt;- ggplot(subset(diamonds, carat &gt; <span>2.5</span> &amp; depth &gt; <span>50</span> &amp; depth &lt; <span>100</span>),<br>       aes(x = depth, fill = cut)) +<br>       geom_histogram(colour = <span>"black"</span>, binwidth = <span>1</span>, position = <span>"dodge"</span>) +<br>       scale_fill_nejm() + labs(title = <span>'scale_fill_nejm'</span>) +<br>       mytheme     <br></code></pre><p><img data-imgfileid="100003767" data-ratio="0.6" data-s="300,640" data-type="png" data-w="1080" data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/dRYYdqiaan3IWZflhHmyUW2wG7icYW3tc5cLVVPsbKK2QZtgagXWplcKsjQdqQAZOzM8WOVtlpkB4V8CX2paicujA/640?wx_fmt=png&amp;from=appmsg" src="https://mmbiz.qpic.cn/sz_mmbiz_png/dRYYdqiaan3IWZflhHmyUW2wG7icYW3tc5cLVVPsbKK2QZtgagXWplcKsjQdqQAZOzM8WOVtlpkB4V8CX2paicujA/640?wx_fmt=png&amp;from=appmsg"></p><h4><span><strong><span lang="EN-US">2、使用</span></strong></span><code><span>pal_palname</span></code><span><strong><span lang="EN-US">函数提取具体颜色编码</span></strong></span></h4><p><span lang="EN-US">例如提取</span><span>Lancet</span><span lang="EN-US">杂志风格配色</span></p><pre><code><span>#mypal &lt;-  pal_lancet(palette = c("lanonc"), alpha = 1)</span><br>mypal &lt;-  pal_lancet(<span>"lanonc"</span>, alpha = <span>0.7</span>)(<span>9</span>) <span>#alpha调整透明度</span><br>mypal<br><span>## [1] "#00468BB2" "#ED0000B2" "#42B540B2" "#0099B4B2" "#925E9FB2" "#FDAF91B2"</span><br><span>## [7] "#AD002AB2" "#ADB6B6B2" "#1B1919B2"</span><br><span>library</span>(<span>"scales"</span>)<br>show_col(mypal)<br></code></pre><pre><code>pal_npg(<span>"nrc"</span>, alpha = <span>0.7</span>)(<span>9</span>)<br>pal_aaas(<span>"default"</span>, alpha = <span>0.7</span>)(<span>10</span>)<br>pal_lancet(<span>"lanonc"</span>, alpha = <span>0.7</span>)(<span>9</span>)<br>pal_nejm(<span>"default"</span>, alpha = <span>0.7</span>)(<span>8</span>)<br>pal_jama(<span>"default"</span>, alpha = <span>0.7</span>)(<span>7</span>)<br>pal_jco(<span>"default"</span>, alpha = <span>0.7</span>)(<span>10</span>)<br>pal_ucscgb(<span>"lanonc"</span>, alpha = <span>0.7</span>)(<span>26</span>)<br>......<br></code></pre><p><img data-imgfileid="100003768" data-ratio="1" data-s="300,640" data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/dRYYdqiaan3IWZflhHmyUW2wG7icYW3tc5dNicpat3ApFz93rNJ7lpaIHGCys5MbdZySrnAXuqUnqCSV8Aw5jsJCg/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/sz_mmbiz_png/dRYYdqiaan3IWZflhHmyUW2wG7icYW3tc5dNicpat3ApFz93rNJ7lpaIHGCys5MbdZySrnAXuqUnqCSV8Aw5jsJCg/640?wx_fmt=png&amp;from=appmsg"></p><p><img data-imgfileid="100003769" data-ratio="0.37777777777777777" data-s="300,640" data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/dRYYdqiaan3IWZflhHmyUW2wG7icYW3tc53d34wnwTmkw7kW0KfBJA4xlSRYgZTaFg0NsHokAvtp2Qa4bQss5sEg/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/sz_mmbiz_png/dRYYdqiaan3IWZflhHmyUW2wG7icYW3tc53d34wnwTmkw7kW0KfBJA4xlSRYgZTaFg0NsHokAvtp2Qa4bQss5sEg/640?wx_fmt=png&amp;from=appmsg"></p><section><span lang="EN-US"><br></span></section><section><span lang="EN-US">全部颜色版：</span></section><section><span lang="EN-US"><img data-imgfileid="100003774" data-ratio="0.9887005649717514" data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/dRYYdqiaan3IWZflhHmyUW2wG7icYW3tc59CqQsjZuf06Q2YvOYLyFCNtlFic9ia0b4ZuCLnlAAxsvR2e3Iu1jWgsQ/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="1062" src="https://mmbiz.qpic.cn/sz_mmbiz_png/dRYYdqiaan3IWZflhHmyUW2wG7icYW3tc59CqQsjZuf06Q2YvOYLyFCNtlFic9ia0b4ZuCLnlAAxsvR2e3Iu1jWgsQ/640?wx_fmt=png&amp;from=appmsg"></span></section><h2><span>randomcoloR</span></h2><p><span lang="EN-US">很简便的代码，很适合获取大批量颜色</span></p><pre><code><span>library</span>(randomcoloR)<br><span>#随机生成60种颜色，其实里面有重复的</span><br>mypalette &lt;- randomColor(count = <span>60</span>) <br><span>#差异明显的60种</span><br>mypalette &lt;- distinctColorPalette(<span>60</span>) <br></code></pre><p><img data-imgfileid="100003772" data-ratio="0.15648148148148147" data-s="300,640" data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/dRYYdqiaan3IWZflhHmyUW2wG7icYW3tc5KQJksw84zlVeydZ8Iye3Fz20toUVlajOIfzySmBlD7A57cicwv9wTQA/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/sz_mmbiz_png/dRYYdqiaan3IWZflhHmyUW2wG7icYW3tc5KQJksw84zlVeydZ8Iye3Fz20toUVlajOIfzySmBlD7A57cicwv9wTQA/640?wx_fmt=png&amp;from=appmsg"></p><h2><span>生成渐变色</span></h2><p><span lang="EN-US">手工填充颜色梯度时很好用</span><br></p><pre><code>start_color &lt;- <span>"red"</span><br>end_color &lt;- <span>"green"</span><br><span># 创建离散渐变色调色板</span><br>discrete_palette &lt;- colorRampPalette(c(start_color, end_color), <br>                                       space = <span>"Lab"</span>, interpolate = <span>"linear"</span>)<br><span># 生成渐变色向量</span><br>num_colors &lt;- <span>60</span> <span># 可以根据需要更改生成的颜色数量</span><br>colors &lt;- discrete_palette(num_colors)<br><span># 输出结果</span><br>print(colors)<br> <span># [1] "#FF0000" "#FD1B00" "#FC2900" "#FA3300" "#F93C00" "#F74400" "#F64A00"</span><br> <span># [8] "#F45100" "#F35600" "#F15C00" "#F06100" "#EE6600" "#EC6A00" "#EB6F00"</span><br><span># [15] "#E97300" "#E77700" "#E57B00" "#E37F00" "#E18300" "#DF8700" "#DD8B00"</span><br><span># [22] "#DB8E00" "#D99200" "#D79500" "#D59900" "#D39C00" "#D0A000" "#CEA300"</span><br><span># [29] "#CBA600" "#C9A900" "#C6AC00" "#C4B000" "#C1B300" "#BEB600" "#BBB900"</span><br><span># [36] "#B8BC00" "#B5BF00" "#B2C200" "#AFC500" "#ABC800" "#A8CA00" "#A4CD00"</span><br><span># [43] "#A0D000" "#9CD300" "#98D600" "#93D900" "#8FDB00" "#8ADE00" "#85E100"</span><br><span># [50] "#7FE400" "#7AE600" "#73E900" "#6DEC00" "#65EF00" "#5DF100" "#54F400"</span><br><span># [57] "#49F700" "#3BF900" "#29FC00" "#00FF00"</span><br></code></pre><p><img data-imgfileid="100003773" data-ratio="0.15648148148148147" data-s="300,640" data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/dRYYdqiaan3IWZflhHmyUW2wG7icYW3tc5TaaBPLDiciaLP9ibHp6JcyksEaVMqTEcvtyNicFx737k8lXRnIGzSj1sXA/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/sz_mmbiz_png/dRYYdqiaan3IWZflhHmyUW2wG7icYW3tc5TaaBPLDiciaLP9ibHp6JcyksEaVMqTEcvtyNicFx737k8lXRnIGzSj1sXA/640?wx_fmt=png&amp;from=appmsg"></p><p><br></p><section><span></span></section><section><img data-imgfileid="100003752" data-ratio="0.05278592375366569" data-type="png" data-w="341" data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/1LTeQhNfr8sUH75oYsoDaqjPCTiaukEmS8tWricW7LnLKKfIE9jKBexibqamsrlibaaXmuc2nicaYibfDFBNCmqX5mBw/640?wx_fmt=other&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1&amp;tp=webp" src="https://mmbiz.qpic.cn/sz_mmbiz_png/1LTeQhNfr8sUH75oYsoDaqjPCTiaukEmS8tWricW7LnLKKfIE9jKBexibqamsrlibaaXmuc2nicaYibfDFBNCmqX5mBw/640?wx_fmt=other&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1&amp;tp=webp"></section><section data-tools="135编辑器" data-id="116886" draggable="true"><section><section><section><section><strong data-brushtype="text">被炸熟的虾</strong></section></section></section><section><section><section data-width="35%"><section><img data-cropselx1="0" data-cropselx2="115" data-cropsely1="0" data-cropsely2="115" data-imgfileid="100003750" data-ratio="1" data-type="jpeg" data-w="258" data-width="100%" data-src="https://mmbiz.qpic.cn/sz_mmbiz_jpg/dRYYdqiaan3JjDfj2H8p6gg3CB25AGthbwzrotao4ev5tIe0utthbZRK8yOoDOuTzOSoTSnPWn61IdDCnXsnaiag/640?wx_fmt=other&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1&amp;tp=webp" src="https://mmbiz.qpic.cn/sz_mmbiz_jpg/dRYYdqiaan3JjDfj2H8p6gg3CB25AGthbwzrotao4ev5tIe0utthbZRK8yOoDOuTzOSoTSnPWn61IdDCnXsnaiag/640?wx_fmt=other&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1&amp;tp=webp"></section></section><section data-width="63%"><section><section><strong>自己的摸索，发现问题麻烦告诉作者，光速回来改正</strong><strong><img data-imgfileid="100003751" data-ratio="1" data-type="png" data-w="64" data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/dRYYdqiaan3KLQGNxibvI4SdtUfxjINkz2DO8cGEPTgbcMJ357RvXJ7IvWU2p7anljpePpakI9oKu3icJxobBDp5w/640?wx_fmt=other&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1&amp;tp=webp" src="https://mmbiz.qpic.cn/sz_mmbiz_png/dRYYdqiaan3KLQGNxibvI4SdtUfxjINkz2DO8cGEPTgbcMJ357RvXJ7IvWU2p7anljpePpakI9oKu3icJxobBDp5w/640?wx_fmt=other&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1&amp;tp=webp"></strong></section></section></section></section></section></section></section><p><mp-style-type data-value="10000"></mp-style-type></p></div>  
<hr>
<a href="https://mp.weixin.qq.com/s/idaOXbFFYw-BwJVy9pDRdw",target="_blank" rel="noopener noreferrer">原文链接</a>
