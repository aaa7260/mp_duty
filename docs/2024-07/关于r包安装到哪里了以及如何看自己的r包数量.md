---
title: "关于r包安装到哪里了以及如何看自己的r包数量"
date: 2024-07-28T13:47:47Z
draft: ["false"]
tags: [
  "fetched",
  "生信技能树"
]
categories: ["Acdemic"]
---
关于r包安装到哪里了以及如何看自己的r包数量 by 生信技能树
------
<div><section data-tool="mdnice编辑器" data-website="https://www.mdnice.com"><blockquote data-tool="mdnice编辑器"><span></span><p>好久以前（六年前吧），我录制了一个简单的r语言和rstudio软件安装视频，顺手让大家安装一些包试试看，代码如下所：</p></blockquote><pre data-tool="mdnice编辑器"><span></span><code>rm(list = ls()) <br>options()$repos <br>options()$BioC_mirror<br><span>#options(BioC_mirror="https://mirrors.ustc.edu.cn/bioc/")</span><br>options(BioC_mirror=<span>"http://mirrors.tuna.tsinghua.edu.cn/bioconductor/"</span>)<br>options(<span>"repos"</span> = c(CRAN=<span>"https://mirrors.tuna.tsinghua.edu.cn/CRAN/"</span>))<br>options()$repos <br>options()$BioC_mirror<br><br><span># https://bioconductor.org/packages/release/bioc/html/GEOquery.html</span><br><span>if</span> (!requireNamespace(<span>"BiocManager"</span>, quietly = <span>TRUE</span>))<br> install.packages(<span>"BiocManager"</span>) <br>BiocManager::install(c(<span>"GSEABase"</span>,<span>"GSVA"</span>,<span>"clusterProfiler"</span> ),ask = <span>F</span>,update = <span>F</span>)<br>BiocManager::install(c(<span>"GEOquery"</span>,<span>"limma"</span>,<span>"impute"</span> ),ask = <span>F</span>,update = <span>F</span>)<br>BiocManager::install(c(<span>"org.Hs.eg.db"</span>,<span>"hgu133plus2.db"</span> ),ask = <span>F</span>,update = <span>F</span>)<br>options()$repos<br>install.packages(<span>'WGCNA'</span>)<br>install.packages(c(<span>"FactoMineR"</span>, <span>"factoextra"</span>))<br>install.packages(c(<span>"ggplot2"</span>, <span>"pheatmap"</span>,<span>"ggpubr"</span>))<br><span>library</span>(<span>"FactoMineR"</span>)<br><span>library</span>(<span>"factoextra"</span>)<br></code></pre><p data-tool="mdnice编辑器">一般来说，如果是网络好的话，上面的代码肯定是丝滑运行的。但是绝大部分小伙伴都是在中国大陆地区，因为有个别r包依赖于几十个其它包，比如这个大名鼎鼎的clusterProfiler，如果你网络不好，很有可能它本来是可以自动安装各种依赖的因为网络问题终止。所以如果你在library(clusterProfiler)报错很正常的。这个时候你需要单独的安装它缺失的依赖包即可，比如如果你的报错告诉你你缺 GO.db，它是一个R包，你只需要装它，仿写你运行的脚本里面BiocManager开头的代码，把引号里面的词换成GO.db就行。</p><pre data-tool="mdnice编辑器"><span></span><code>options(timeout=<span>10000</span>)<br>BiocManager::install(<span>'GO.db'</span>,ask = <span>F</span>,update = <span>F</span>)<br></code></pre><p data-tool="mdnice编辑器">如果大家觉得网络有问题，大概是中国大陆的问题， 你有很多取巧的办法，比如合理的镜像地址，需要自己摸索自己尝试：</p><pre data-tool="mdnice编辑器"><span></span><code>options(BioC_mirror=<span>"https://mirrors.westlake.edu.cn/bioconductor"</span>)<br></code></pre><p data-tool="mdnice编辑器">另外就是，我在六年前的安装视频里面多嘴说了一句，上面的简单的几句话代码会安装起码两三百个r包，然后很多小伙伴跟随做了之后就发现其实自己就 如下所示的 少量的几十个r包   ：</p><p><img data-galleryid="" data-imgfileid="100048517" data-ratio="0.7934678194044188" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/cZNhZQ6j4wzpVuSONJr83ibjqaVbsFHOibvW3kecibPSiaIicgKsVLaC4ibfb1BmI1HJJUfjSqTUms6z2REhbtAtx0pQ/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="1041" src="https://mmbiz.qpic.cn/mmbiz_png/cZNhZQ6j4wzpVuSONJr83ibjqaVbsFHOibvW3kecibPSiaIicgKsVLaC4ibfb1BmI1HJJUfjSqTUms6z2REhbtAtx0pQ/640?wx_fmt=png&amp;from=appmsg"></p><figure data-tool="mdnice编辑器"><figcaption>少量的几十个r包</figcaption></figure><p data-tool="mdnice编辑器">但是我既然是说是两三百个r包，就应该是有这样的文件夹，里面会存放这些r包对应的文件夹，需要输入这个代码， .libPaths()，看看r的包的安装路径</p><pre data-tool="mdnice编辑器"><span></span><code><span>## 比如我的mac电脑的r的包的安装路径是：</span><br>[1] <span>"/Library/Frameworks/R.framework/Versions/4.3-x86_64/Resources/library"</span><br>&gt;<br><span>## 如果是Windows电脑，可能会是下面的链接：</span><br>[1] <span>"C:/Users/10349/AppData/Local/R/win-library/4.4"</span><br>[2] <span>"C:/Program Files/R/R-4.4.0/library"</span>            <br>&gt; <br></code></pre><p data-tool="mdnice编辑器">很多人说自己的Windows电脑的C盘空间不够，就是因为r的包的安装路径都是在C盘，其实是可以调整为D盘或者其它，当然了，如果是mac电脑就万事大吉了。不过呢，如果是Mac电脑就会有另外一个问题就是很多人不熟悉Mac电脑的操作方式，也是得从零开始摸索它。</p><p data-tool="mdnice编辑器">在正式开始学习生物信息学之前，补充计算机的基础知识也是非常重要的。我们为大家准备了一些计算机入门指南：</p><ul data-tool="mdnice编辑器"><li><section>【C盘指南】https://mp.weixin.qq.com/s/wdsn-s3tSdbZhBPOU5scaw</section></li><li><section>【Win快捷键】https://support.microsoft.com/zh-cn/help/12445/windows-keyboard-shortcuts</section></li></ul><p data-tool="mdnice编辑器">很多人对Mac操作不够熟练，看以下两个视频：</p><ul data-tool="mdnice编辑器"><li><section>【Mac入门指南1】https://www.bilibili.com/video/BV1PF411E7LG</section></li><li><section>【Mac入门指南2】https://www.bilibili.com/video/av80390412/</section></li><li><section>【Mac快捷键】https://support.apple.com/zh-cn/HT201236</section></li></ul><p data-tool="mdnice编辑器">从零开始系统性学习生物信息学，你值得拥有！</p><p><img data-galleryid="" data-imgfileid="100048518" data-ratio="1.7945492662473794" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/cZNhZQ6j4wzpVuSONJr83ibjqaVbsFHOiblzSfC58fKxv57iaeUvPKNJbGw2KXNkRvSfx7icic5RKZCX60ibgaDckoVQ/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="954" src="https://mmbiz.qpic.cn/mmbiz_png/cZNhZQ6j4wzpVuSONJr83ibjqaVbsFHOiblzSfC58fKxv57iaeUvPKNJbGw2KXNkRvSfx7icic5RKZCX60ibgaDckoVQ/640?wx_fmt=png&amp;from=appmsg"></p><figure data-tool="mdnice编辑器"><figcaption>从零开始系统性学习生物信息学</figcaption></figure><p data-tool="mdnice编辑器"><span><strong>其实你只需要知道有这个查看和管理 R 包的安装位置函数.libPaths，后面的就可以交给人工智能大模型，比如kimi就可以很轻松的讲解给你听这些知识点细节：</strong></span></p><h1 data-tool="mdnice编辑器"><span></span><span>查看和管理 R 包的安装位置函数.libPaths</span><span></span></h1><p data-tool="mdnice编辑器">在R中，<code>.libPaths()</code> 函数用于获取或设置 R 包的安装路径。这个函数主要用于查看和管理 R 包的安装位置。以下是一些使用 <code>.libPaths()</code> 函数的技巧：</p><ol data-tool="mdnice编辑器"><li><section><p><strong>查看已配置的包安装路径：</strong></p><pre><span></span><code>.libPaths()<br></code></pre><p>这会返回一个包含当前所有包安装路径的字符向量。</p></section></li><li><section><p><strong>添加新的包安装路径：</strong></p><pre><span></span><code>.libPaths(c(<span>"/path/to/new/library"</span>, .libPaths()))<br></code></pre><p>这样会在当前会话中添加一个新的包安装路径。新的路径会被添加到现有路径的前面，表示 R 在搜索包时会先搜索新添加的路径。</p></section></li><li><section><p><strong>设置默认包安装路径：</strong></p><pre><span></span><code>.libPaths(<span>"/path/to/preferred/library"</span>)<br></code></pre><p>这会将默认的包安装路径设置为指定路径。这样，每次启动 R 时都会使用这个路径作为默认路径。</p></section></li><li><section><p><strong>在不同的会话中使用不同的包安装路径：</strong> 在Linux运行环境里面使用 R 中，每次启动都是一个新的会话。可以通过在启动脚本或命令行中设置 <code>.libPaths()</code> 来在不同的会话中使用不同的包安装路径。</p><p>例如，在Linux运行环境里面的命令行中启动 R 时加上 ：</p><pre><span></span><code>R --vanilla -e <span>".libPaths('/path/to/specific/library')"</span><br></code></pre></section></li><li><section><p><strong>查看系统默认的包安装路径：</strong></p><pre><span></span><code>Sys.getenv(<span>"R_LIBS_USER"</span>)<br></code></pre><p>这会返回 R 默认使用的用户级别包安装路径。</p></section></li></ol><p data-tool="mdnice编辑器">这些技巧可以帮助你更灵活地管理和配置 R 包的安装路径，特别是在需要在多个项目或环境中使用不同的包集时。</p><p data-tool="mdnice编辑器">值得注意的是，这个函数前面有一个点哦， 这个函数的名字前面有一个点（<code>.</code>）是因为在R中，以点开头的函数通常被认为是不导出的（non-exported）或者是内部函数。在R中，有一些函数被设计为在包的内部使用，而不是为了与用户直接交互。这些函数通常以点开头，以示其在包的内部使用。这样的函数在包的命名空间中是不导出的，用户在加载包时不会直接看到它们。对于<code>.libPaths()</code>函数，它主要用于管理R包的安装路径，对于一般的用户而言，通常不需要直接调用它。<code>.libPaths()</code>函数允许用户查看或更改R包的安装路径，但这通常是在解决一些特定问题时才会用到，而不是常规的用户操作。因此，它被设计为一个内部函数，不对用户公开。</p></section><section data-tool="mdnice编辑器" data-website="https://www.mdnice.com"><h3 data-tool="mdnice编辑器"><span>写在文末</span></h3></section><p>如果你也想做单细胞转录组数据分析，<span>最好是有自己的计算机资源哦，比如我们的</span><a href="https://mp.weixin.qq.com/s?__biz=MzAxMDkxODM1Ng==&amp;mid=2247528363&amp;idx=1&amp;sn=5e02f3e9b2e148191e23ebc2c0d780e7&amp;scene=21#wechat_redirect" data-linktype="2">2024的共享服务器交个朋友福利价仍然是800</a><span>，而且还需要有基本的生物信息学基础，也可以看看我们的</span><a target="_blank" href="http://mp.weixin.qq.com/s?__biz=MzAxMDkxODM1Ng==&amp;mid=2247531929&amp;idx=1&amp;sn=f6f16b7bf6b907360d6d0052e3d10cf6&amp;chksm=9b4b3d22ac3cb434b6aa7753a4cf0f266578147ccf10b49cc834e46af578ee6de99be0accb30&amp;scene=21#wechat_redirect" textvalue="生物信息学马拉‍松授课（买一得五）" linktype="text" imgurl="" imgdata="null" data-itemshowtype="0" tab="innerlink" data-linktype="2" hasload="1">生物信息学马拉松授课（买一得五）</a><span> ，你的生物信息学入门课。</span></p><p><br></p><p><mp-style-type data-value="3"></mp-style-type></p></div>  
<hr>
<a href="https://mp.weixin.qq.com/s/CtkwFaGZYAszo09BUOzjRg",target="_blank" rel="noopener noreferrer">原文链接</a>
