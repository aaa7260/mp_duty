---
title: "爬虫的10种思路"
date: 2023-11-21T14:51:47Z
draft: ["false"]
tags: [
  "fetched",
  "生信技能树"
]
categories: ["Acdemic"]
---
爬虫的10种思路 by 生信技能树
------
<div><section data-tool="mdnice编辑器" data-website="https://www.mdnice.com"><blockquote data-tool="mdnice编辑器"><p>最近看到了浙江大学的陈老师课题组主编的生物信息学教材居然还配套了每个章节的PPT教案，而且持续更新了十年，比我做生物信息学还早！！！如下所示：</p></blockquote><p><img data-galleryid="" data-ratio="0.5745489078822412" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/cZNhZQ6j4wwAibBeeWs3owjQNHzZKcFuTutxyvxLa6zMTNMpichUttEBeFZ0v55IkumM3RWJQGPdF1Ebg9y6Seww/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="2106" src="https://mmbiz.qpic.cn/mmbiz_png/cZNhZQ6j4wwAibBeeWs3owjQNHzZKcFuTutxyvxLa6zMTNMpichUttEBeFZ0v55IkumM3RWJQGPdF1Ebg9y6Seww/640?wx_fmt=png&amp;from=appmsg"></p><figure data-tool="mdnice编辑器"><figcaption>持续更新了十年</figcaption></figure><p data-tool="mdnice编辑器">我简单看了看页面（https://bis.zju.edu.cn/binfo/textbook/）上面的对应的各个章节的ppt路径，很清晰：</p><p><img data-galleryid="" data-ratio="0.9971264367816092" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/cZNhZQ6j4wwAibBeeWs3owjQNHzZKcFuTHjjHryYFr8iatxNS0xR7god7gLqgBGJ5710jG2UStLtsP6cbTSYYBeA/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="1392" src="https://mmbiz.qpic.cn/mmbiz_png/cZNhZQ6j4wwAibBeeWs3owjQNHzZKcFuTHjjHryYFr8iatxNS0xR7god7gLqgBGJ5710jG2UStLtsP6cbTSYYBeA/640?wx_fmt=png&amp;from=appmsg"></p><figure data-tool="mdnice编辑器"><figcaption>对应的各个章节的ppt路径</figcaption></figure><p data-tool="mdnice编辑器">简单的看了看它页面源代码即可：</p><pre data-tool="mdnice编辑器"><span></span><code>&lt;h4 id=<span>"4_1"</span>&gt;第一章 生物信息学的概念及发展历史（&lt;a href=<span>"4_1.pptx"</span>&gt;下载ppt&lt;/a&gt;）&lt;/h4&gt;<br>&lt;h4 id=<span>"4_2"</span>&gt;第二章 生物学数据库及其检索（&lt;a href=<span>"4_2.pptx"</span>&gt;下载ppt&lt;/a&gt;）&lt;/h4&gt;<br>&lt;h4 id=<span>"4_3"</span>&gt;第三章 序列比对原理（&lt;a href=<span>"4_3.pptx"</span>&gt;下载ppt&lt;/a&gt;）&lt;/h4&gt;<br>&lt;h4 id=<span>"4_4"</span>&gt;第四章 蛋白质结构分析（&lt;a href=<span>"4_4.pptx"</span>&gt;下载ppt&lt;/a&gt;）&lt;/h4&gt;<br>&lt;h4 id=<span>"4_5"</span>&gt;第五章 真核生物基因组的注释（&lt;a href=<span>"4_5.pptx"</span>&gt;下载ppt&lt;/a&gt;）&lt;/h4&gt;<br>&lt;h4 id=<span>"4_6"</span>&gt;第六章 转录组学（&lt;a href=<span>"4_6.pptx"</span>&gt;下载ppt&lt;/a&gt;）&lt;/h4&gt;<br>&lt;h4 id=<span>"4_7"</span>&gt;第七章 非编码RNA（&lt;a href=<span>"4_7.pptx"</span>&gt;下载ppt&lt;/a&gt;）&lt;/h4&gt;<br>&lt;h4 id=<span>"4_8"</span>&gt;第八章 蛋白质组学（&lt;a href=<span>"4_8.pptx"</span>&gt;下载ppt&lt;/a&gt;）&lt;/h4&gt;<br>&lt;h4 id=<span>"4_9"</span>&gt;第九章 系统生物学（&lt;a href=<span>"4_9.pptx"</span>&gt;下载ppt&lt;/a&gt;）&lt;/h4&gt;<br>&lt;h4 id=<span>"4_10"</span>&gt;第十章 合成生物学（&lt;a href=<span>"4_10.pptx"</span>&gt;下载ppt&lt;/a&gt;）&lt;/h4&gt;<br>&lt;h4 id=<span>"4_11"</span>&gt;第十一章 分子进化与系统发育（&lt;a href=<span>"4_11.pptx"</span>&gt;下载ppt&lt;/a&gt;）&lt;/h4&gt;<br>&lt;h4 id=<span>"4_12"</span>&gt;第十二章 统计学习与推理（&lt;a href=<span>"4_12.pptx"</span>&gt;下载ppt&lt;/a&gt;）&lt;/h4&gt;<br>&lt;h4 id=<span>"4_13"</span>&gt;第十三章 生物信息学编程基础（&lt;a href=<span>"4_13.pptx"</span>&gt;下载ppt&lt;/a&gt;） <br>&lt;h4 id=<span>"4_14"</span>&gt;第十四章 新一代测序技术及其应用（&lt;a href=<span>"4_14.pptx"</span>&gt;下载ppt&lt;/a&gt;）&lt;/h4&gt;<br></code></pre><p data-tool="mdnice编辑器">其实都没必要去写爬虫了，因为路径太规则了。每个ppt路径就是页面（https://bis.zju.edu.cn/binfo/textbook/）加上后缀即可，在shell里面很容易输入如下所示的代码：</p><pre data-tool="mdnice编辑器"><span></span><code>wget  https://bis.zju.edu.cn/binfo/textbook/4_{1..11}.pptx<br></code></pre><h3 data-tool="mdnice编辑器"><span></span><span>使用R语言代码：</span><span></span></h3><p data-tool="mdnice编辑器">在R语言中，你可以使用<code>download.file</code>函数来下载文件。以下是相应的R代码：</p><pre data-tool="mdnice编辑器"><span></span><code><span>for</span> (i <span>in</span> <span>1</span>:<span>11</span>) {<br>  url &lt;- paste0(<span>"https://bis.zju.edu.cn/binfo/textbook/4_"</span>, i, <span>".pptx"</span>)<br>  filename &lt;- paste0(<span>"4_"</span>, i, <span>".pptx"</span>)<br>  download.file(url, destfile = filename, mode = <span>"wb"</span>)<br>}<br></code></pre><p data-tool="mdnice编辑器">上面的这个代码片段会循环下载链接中的11个文件，并将它们保存在本地，文件名格式为"4_1.pptx"、"4_2.pptx"，以此类推。在<code>download.file</code>函数中，<code>mode = "wb"</code>用于指定以二进制模式下载文件。</p><p data-tool="mdnice编辑器">你可以使用<code>lapply</code>函数来替代<code>for</code>循环，以下是使用<code>lapply</code>的R代码：</p><pre data-tool="mdnice编辑器"><span></span><code>urls &lt;- sprintf(<span>"https://bis.zju.edu.cn/binfo/textbook/4_%d.pptx"</span>, <span>1</span>:<span>11</span>)<br>filenames &lt;- sprintf(<span>"4_%d.pptx"</span>, <span>1</span>:<span>11</span>)<br><br>download_file &lt;- <span>function</span>(url, filename) {<br>  download.file(url, destfile = filename, mode = <span>"wb"</span>)<br>}<br><br>lapply(seq_along(urls), <span>function</span>(i) {<br>  download_file(urls[i], filenames[i])<br>})<br></code></pre><p data-tool="mdnice编辑器">在这个例子中，<code>lapply</code>函数用于遍历<code>urls</code>和<code>filenames</code>列表，对每一对URL和文件名调用<code>download_file</code>函数进行下载。<code>sprintf</code>函数用于创建带有格式的字符串，以生成URL和文件名。这样的写法相对于显式的<code>for</code>循环，更符合R语言的函数式编程风格。</p><h3 data-tool="mdnice编辑器"><span></span><span>有时候确实需要写爬虫</span><span></span></h3><p data-tool="mdnice编辑器">但是， 因为这样的路径很容易被网站作者修改规则，所以仍然是建议写爬虫，就需要了解一下网页html源代码里面的dom结构。文档对象模型（Document Object Model，DOM）是 HTML 和 XML 文档的编程接口，它表示页面的结构，使开发者可以通过编程方式访问和修改文档的内容、结构和样式。HTML 源代码中的 DOM 结构是一个树状结构，表示了页面元素之间的层次关系。其中：</p><ol data-tool="mdnice编辑器"><li><section>**Document (文档)**：整个 HTML 文档是文档对象模型的根节点。</section></li><li><section>**html Element (html 元素)**：表示 HTML 文档的 <code>&lt;html&gt;</code> 元素。</section></li><li><section>**head Element (head 元素)**：表示文档头部的 <code>&lt;head&gt;</code> 元素，包括页面的元信息、样式表和脚本等。</section></li><li><section>**title Element (title 元素)**：表示 <code>&lt;title&gt;</code> 元素，包含页面的标题。</section></li><li><section>**body Element (body 元素)**：表示文档的主体部分，包括页面中的所有内容。</section></li><li><section><strong>h1、p、ul、li、a 元素</strong>：表示页面中的各种元素，如标题、段落、列表、链接等。</section></li><li><section><strong>div 元素</strong>：用于组织和结构化文档内容，例如，页面的不同部分。</section></li><li><section>**Attribute (属性)**：元素上的属性，例如，链接元素 <code>&lt;a&gt;</code> 上的 <code>href</code> 属性。</section></li></ol><p data-tool="mdnice编辑器">这个结构形成了一个树状层次，很容易解析后针对性获取不同层次的元素里面的信息哦！</p></section><h4 data-tool="mdnice编辑器">文末友情宣传</h4><p data-tool="mdnice编辑器">强烈建议你推荐给身边的<strong>博士后以及年轻生物学PI</strong>，多一点数据认知，让他们的科研上一个台阶：</p><ul data-tool="mdnice编辑器"><li><section><a target="_blank" href="http://mp.weixin.qq.com/s?__biz=MzAxMDkxODM1Ng==&amp;mid=2247526014&amp;idx=1&amp;sn=44afb387fc49b89276386e5182db7bc9&amp;chksm=9b4b26c5ac3cafd35616b2fe9df7fea664e59d75e9970feb322a477beb222ac023f7daebb3dc&amp;scene=21#wechat_redirect" textvalue="生物信息学马拉松授课（买一得‍五）" linktype="text" imgurl="" imgdata="null" data-itemshowtype="0" tab="innerlink" data-linktype="2" hasload="1">生物信息学马拉松授课（买一得五）</a> ，你的生物信息学入门课</section></li><li><section><a target="_blank" href="http://mp.weixin.qq.com/s?__biz=MzAxMDkxODM1Ng==&amp;mid=2247524148&amp;idx=1&amp;sn=7806da6feb41a36493c519c1cfc1d3ac&amp;chksm=9b4bdf8fac3c569960369602f1ef26639cb366b250f233b2297d1f059471c0458335bfc0b829&amp;scene=21#wechat_redirect" textvalue="时隔5年，我们的生信技能树VIP学徒继续招生啦" linktype="text" imgurl="" imgdata="null" data-itemshowtype="0" tab="innerlink" data-linktype="2" hasload="1">时隔5年，我们的生信技能树VIP学徒继续招生啦</a><br></section></li><li><section><a target="_blank" href="http://mp.weixin.qq.com/s?__biz=MzAxMDkxODM1Ng==&amp;mid=2247522831&amp;idx=2&amp;sn=1744efdf428465425a145ff3a982198b&amp;chksm=9b4bdab4ac3c53a28fbecbbff4f254f470b54a7a20468bb753b295b930315e1ec45bcbabc10b&amp;scene=21#wechat_redirect" textvalue="144线程640Gb内存服务器共享一年‍仍然是仅需800" linktype="text" imgurl="" imgdata="null" data-itemshowtype="0" tab="innerlink" data-linktype="2" hasload="1">144线程640Gb内存服务器共享一年仍然是仅需800</a></section></li><li><section><a target="_blank" href="http://mp.weixin.qq.com/s?__biz=MzAxMDkxODM1Ng==&amp;mid=2247519765&amp;idx=1&amp;sn=ce5a8c8182f854c88043059f8c2cb9ff&amp;chksm=9b4bceaeac3c47b88c19941d43dbb1401f3a92206481a0afc41159927868199643f795d62a7e&amp;scene=21#wechat_redirect" textvalue="千呼万唤始出来的独享生物信息学云服务器" linktype="text" imgurl="" imgdata="null" data-itemshowtype="0" tab="innerlink" data-linktype="2" hasload="1">千呼万唤始出来的独享生物信息学云服务器</a></section></li><li><section><a target="_blank" href="http://mp.weixin.qq.com/s?__biz=MzAxMDkxODM1Ng==&amp;mid=2247519765&amp;idx=1&amp;sn=ce5a8c8182f854c88043059f8c2cb9ff&amp;chksm=9b4bceaeac3c47b88c19941d43dbb1401f3a92206481a0afc41159927868199643f795d62a7e&amp;scene=21#wechat_redirect" textvalue="千呼万唤始出来的独享生物信息学云服务器" linktype="text" imgurl="" imgdata="null" data-itemshowtype="0" tab="innerlink" data-linktype="2" hasload="1"></a><a target="_blank" href="http://mp.weixin.qq.com/s?__biz=MzAxMDkxODM1Ng==&amp;mid=2247524275&amp;idx=1&amp;sn=fa592ee29f636f34387491d0fceadd8e&amp;chksm=9b4bdf08ac3c561e0881974b3817beb0a0e514dc1a8df4c34c2b6653da6fa78e09acb03c70c2&amp;scene=21#wechat_redirect" textvalue="生信技能树知识整理实习生又又又开放申请啦" linktype="text" imgurl="" imgdata="null" data-itemshowtype="0" tab="innerlink" data-linktype="2" hasload="1">生信技能树知识整理实习生又又又开放申请啦</a><span><strong>（不招了，谢谢）</strong></span></section></li><li><p><a target="_blank" href="http://mp.weixin.qq.com/s?__biz=MzAxMDkxODM1Ng==&amp;mid=2247524432&amp;idx=1&amp;sn=5b33b0c6807a9e6939c332c58fabff89&amp;chksm=9b4b20ebac3ca9fdb3d8bfaf2bef5552f64eb70e7fae557cc7197fb1a23b3e8bc31b585bf829&amp;scene=21#wechat_redirect" textvalue="生信共享办公室出租" linktype="text" imgurl="" imgdata="null" data-itemshowtype="0" tab="innerlink" data-linktype="2" hasload="1">生信共享办公室出租</a></p></li></ul><p><br></p><p><mp-style-type data-value="3"></mp-style-type></p></div>  
<hr>
<a href="https://mp.weixin.qq.com/s/nL8H3kIi1f-mUcQX5E8dAQ",target="_blank" rel="noopener noreferrer">原文链接</a>
