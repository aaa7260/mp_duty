---
title: "审稿人：请使用交叉验证计算回归模型的表现能力，谢谢！"
date: 2023-01-12T04:40:13Z
draft: ["false"]
tags: [
  "fetched",
  "R语言和统计"
]
categories: ["Acdemic"]
---
审稿人：请使用交叉验证计算回归模型的表现能力，谢谢！ by R语言和统计
------
<div><p data-mpa-powered-by="yiban.io"><span>如果各位在做自己的研究时被问到：请使用交叉验证计算回归模型的表现能力，那该怎么办？ </span></p><p><span><br></span></p><p><span>今天小编献上一策，助各位解决这个棘手问题！</span></p><p><span><br></span></p><p><span>首先来了解一下交叉验证(cross validation)的大致原理和步骤，如下： </span></p><p><br></p><p><span>第一步，将数据集随机分成k组，或称为折。每一组的样本量差不多相等。</span></p><p><span><br></span></p><p><span>第二步，使用其中的1组作为验证组，k-1组作为模型的训练组。使用训练组建立模型之后在验证组中计算模型的均方误差(MSE)。</span></p><p><span><br></span></p><p><span>第三步，重复上述过程k次，每次使用的验证组是不同的。</span></p><p><br></p><p><span>第四步，一共得出k个MSE，计算它们的平均值作为测验MSE。</span></p><p><br><span>进入R代码部分！<br></span></p><p><br></p><p><span>首先安装所需的R包： </span></p><p><span><br mpa-from-tpl="t"></span></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" mpa-preserve="t" mpa-from-tpl="t"><pre><code><span>install.packages(</span><span>"caret"</span><span>)<br mpa-from-tpl="t"></span><span>library</span><span>(caret)</span></code></pre></section><p><span>R包get！</span></p><p><span><br></span></p><p><span>使用mtcars建立一个多因素线性回归模型： </span></p><p><br></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" mpa-preserve="t" mpa-from-tpl="t"><pre><code><span>mymodel &lt;- lm(mpg ~ drat + wt + disp, data = mtcars)</span></code></pre></section><p><span>这是平时经常做的事，然后从模型中计算R方，使用原始的数据计算其它评估模型的参数。</span></p><p><span><br></span></p><p><span>那如何使用交叉验证计算呢？</span></p><p><span><br></span></p><p><span>下一步，指定交叉验证的方法和参数： </span></p><p><br></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" mpa-preserve="t" mpa-from-tpl="t"><pre><code><span>train_control &lt;- trainControl(method = </span><span>"cv"</span><span>, number = </span><span>10</span><span>)</span></code></pre></section><p><span>上述代码中，</span><span>"cv"</span><span>指代交叉验证；</span><span>number = 10</span><span>为k的值，即10折交叉验证。在实践中，通常使用5或者10，这个例子中，选择10。</span></p><p><span><br></span></p><p><span>下一步，拟合多因素线性回归，使用交叉验证评估模型表现，代码如下： </span></p><p><br></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" mpa-preserve="t" mpa-from-tpl="t"><pre><code><span>set.seed(</span><span>1</span><span>)<br mpa-from-tpl="t">mymodel &lt;- train(mpg ~ drat + wt + disp, data = mtcars,<br mpa-from-tpl="t">                 method = </span><span>"lm"</span><span>,   </span><span># 使用线性回归</span><span><br mpa-from-tpl="t">                 trControl = train_control)<br mpa-from-tpl="t"><br mpa-from-tpl="t">mymodel</span></code></pre></section><p><img data-galleryid="" data-ratio="0.5009487666034156" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/pCu8RzQCByT2saHfXYx1uvqyCNT5bU5jYphCCP1icd0CLliaBC4EwAFIWsLrODV3NlHrcwprlnuuFKeZsEQjKBzg/640?wx_fmt=png" data-type="png" data-w="1054" src="https://mmbiz.qpic.cn/mmbiz_png/pCu8RzQCByT2saHfXYx1uvqyCNT5bU5jYphCCP1icd0CLliaBC4EwAFIWsLrODV3NlHrcwprlnuuFKeZsEQjKBzg/640?wx_fmt=png"></p><p><span>上述结果为使用交叉验证计算得出的评估模型表现的三个参数，分别为RMSE，R方以及MAE。</span></p><p><span><br></span></p><p><span>其中，RMSE即为均方根误差(Root mean squared error, RMSE)，即将MSE开根号。<br></span></p><p><br></p><p><span>R方为模型可以解释的因变量方差与总方差的比值。</span></p><p><span><br></span></p><p><span>MAE(mean absolute error)为平均绝对误差，指的是残差绝对值的均数。</span></p><p><span><br></span></p><p><span>各位可以拿回去交差了<img data-ratio="1" data-src="https://mmbiz.qpic.cn/mmbiz_png/pCu8RzQCByQt4CLMn0bDUxicy74wbJviacZa5axelAcOnaXzKt55WtaxmNIe6Ih3ymgfGuOOOiaxFz05cYHgnB1uQ/640?wx_fmt=png" data-type="png" data-w="20" src="https://mmbiz.qpic.cn/mmbiz_png/pCu8RzQCByQt4CLMn0bDUxicy74wbJviacZa5axelAcOnaXzKt55WtaxmNIe6Ih3ymgfGuOOOiaxFz05cYHgnB1uQ/640?wx_fmt=png">！</span></p><p><br></p><p><span>好啦，今天的内容就到这里。</span><span>如果有帮助，记得分享给需要的人</span><img data-ratio="1" data-src="https://res.wx.qq.com/t/wx_fed/we-emoji/res/v1.3.10/assets/Expression/Expression_67@2x.png" data-w="20" src="https://res.wx.qq.com/t/wx_fed/we-emoji/res/v1.3.10/assets/Expression/Expression_67@2x.png"><span>！</span></p><p><span><br></span></p><p><span>参考文献</span></p><p><br></p><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" mpa-preserve="t" mpa-from-tpl="t"><pre><code><span>https://cran.r-project.org/web/packages/caret/</span></code></pre></section><section data-mpa-template="t" mpa-from-tpl="t"><section><span>▌本文由</span><span><strong mpa-from-tpl="t"><span>R语言和统计</span></strong></span><span>首发</span></section><section><span>▌课程相关咨询可添加R师妹微信: kefu_rstats</span></section><section><span>▌编辑：June</span></section><section><span>▌邮箱：contact@rstats.cn</span></section><section><span>▌网站：www.rstats.cn</span></section><section><span>▌<strong>我们致力于</strong><strong>让R语言和统计变得简单！</strong><br></span></section><section><br></section><section mpa-from-tpl="t"><section label="Powered by 135editor.com" data-role="outer" mpa-from-tpl="t"><section data-role="paragraph" mpa-from-tpl="t"><section data-mpa-template="t" mpa-from-tpl="t"><section mpa-from-tpl="t"><section label="Powered by 135editor.com" data-role="outer" mpa-from-tpl="t"><section data-role="paragraph" mpa-from-tpl="t"><section mpa-from-tpl="t"><section mpa-from-tpl="t"><section label="Powered by 135editor.com" data-role="outer" mpa-from-tpl="t"><section data-role="paragraph" mpa-from-tpl="t"><hr><section><br></section></section></section></section></section></section></section></section></section></section></section></section></section><p><mp-style-type data-value="3"></mp-style-type></p></div>  
<hr>
<a href="https://mp.weixin.qq.com/s/QVkX4tJLbkHxSZBJ8Ci0zg",target="_blank" rel="noopener noreferrer">原文链接</a>
