---
title: "使用 Openbiox Hiplot (ORG) 在线开源绘图工具绘制发表级网络图"
date: 2023-02-14T00:12:26Z
draft: ["false"]
tags: [
  "fetched",
  "优雅R"
]
categories: ["Acdemic"]
---
使用 Openbiox Hiplot (ORG) 在线开源绘图工具绘制发表级网络图 by 优雅R
------
<div><p data-first-child="" data-pid="6NThl2mY">网络图是科学数据分析中最常用的图形之一。Openbiox Hiplot (ORG) 开源绘图工具在基础模块中提供了基于 igraph 的发表级网络图绘制功能 Network (igraph)。更复杂的网络图考虑使用 Cytoscape 进行绘制。</p><p data-first-child="" data-pid="6NThl2mY"><img data-ratio="0.4722222222222222" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/SwrYlUwC3iaibhN1G6J685IhJzKZmSwcxfhPvtTiaiaKTomgfkQL2epXaJxAcsYI7vVkbtrqbbgReAFmFB7sdvljGQ/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" data-type="jpeg" data-w="720" src="https://mmbiz.qpic.cn/mmbiz_jpg/SwrYlUwC3iaibhN1G6J685IhJzKZmSwcxfhPvtTiaiaKTomgfkQL2epXaJxAcsYI7vVkbtrqbbgReAFmFB7sdvljGQ/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1"></p><p data-pid="wnSpi_GU"><span><strong>在线工具地址：</strong></span><span><strong><br></strong></span><span>https://hiplot.cn/basic/network-igraph</span><span><strong><br></strong></span><span><strong>源代码下载：</strong></span><span><strong><br></strong>https://github.com/hiplot/plugins-open/tree/master/basic/network-igraph</span></p><p data-pid="wnSpi_GU">该插件需要准备两个数据表格：Nodes 和 Edges。</p><p data-pid="wnSpi_GU"><strong>工具引用：</strong><span>Li J, Miao B, Wang S, Dong W, Xu H, Si C, Wang W, Duan S, Lou J, Bao Z, Zeng H, Yang Z, Cheng W, Zhao F, Zeng J, Liu XS, Wu R, Shen Y, Chen Z, Chen S, Wang M; Hiplot Consortium. Hiplot: a comprehensive and easy-to-use web service for boosting publication-ready biomedical data visualization. Brief Bioinform. 2022 Jul 18;23(4):bbac261. doi: 10.1093/bib/bbac261. PMID: 35788820.</span><strong></strong></p><h2>示例 1</h2><figure data-size="normal"><p><img data-ratio="0.6090534979423868" data-src="https://mmbiz.qpic.cn/mmbiz/SwrYlUwC3iaibhN1G6J685IhJzKZmSwcxftE4dWpKDPiaLaOhFzsmib2Wehv5syYvxBf8ialQ0EhmI0AoYebtnVmWqA/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" data-type="other" data-w="729" height="444" width="729" src="https://mmbiz.qpic.cn/mmbiz/SwrYlUwC3iaibhN1G6J685IhJzKZmSwcxftE4dWpKDPiaLaOhFzsmib2Wehv5syYvxBf8ialQ0EhmI0AoYebtnVmWqA/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1"></p><figcaption>图 1 Nodes 表</figcaption></figure><p data-pid="jlCSw6S1">Nodes 表为节点信息，其需要包含节点的 ID 和 其余注释信息。如 <span>图1</span>，第一列为节点 ID，后续列为该节点的注释信息。注释信息可以为分类变量和连续数值变量。注释信息一般用于映射网络图中的节点颜色和大小。</p><figure data-size="normal"><p><img data-ratio="0.6060191518467852" data-src="https://mmbiz.qpic.cn/mmbiz/SwrYlUwC3iaibhN1G6J685IhJzKZmSwcxf5qZdm6FheoynopGCGtuJk7pPvmHdwt70SAXic6ew4fQrt9RSNV4Oayg/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" data-type="other" data-w="731" height="443" width="731" src="https://mmbiz.qpic.cn/mmbiz/SwrYlUwC3iaibhN1G6J685IhJzKZmSwcxf5qZdm6FheoynopGCGtuJk7pPvmHdwt70SAXic6ew4fQrt9RSNV4Oayg/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1"></p><figcaption>图 2 Edges 表</figcaption></figure><p data-pid="inDQI1LR">Edges 表为节点间关联信息，如 <span>图 2 </span>所示，其包含两列节点 ID（第一列和第二列）作为节点的发出和接收方。其余列可以用于映射节点连线的宽度信息（如第四列）。目前版本的线条类型暂不支持进行映射到变量列（如第三列）。</p><figure data-size="normal"><p><img data-galleryid="" data-ratio="1.089678510998308" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/SwrYlUwC3iaibhN1G6J685IhJzKZmSwcxfRCGzWRMX7zQfTLmLlqEkEnpfNFOeCMpOhkIP20hPso9XibG0y8ClJ5Q/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" data-type="png" data-w="1182" src="https://mmbiz.qpic.cn/mmbiz_png/SwrYlUwC3iaibhN1G6J685IhJzKZmSwcxfRCGzWRMX7zQfTLmLlqEkEnpfNFOeCMpOhkIP20hPso9XibG0y8ClJ5Q/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1"></p><figcaption>图3 Demo 1 参数</figcaption></figure><p data-pid="lBuRju1-">在完成数据表填充后，该插件需要 2 个必选数据列参数：标签列为标注节点的文字，颜色列用于改变节点的颜色。以及 3 个可选数据列参数，节点大小列用于映射节点的大小，标注组列用于将分类节点用不规则图形进行框选，线条宽度列用于映射连线的宽度。在节点大小列未指定时，将计算节点的连线数作为其大小映射。即连线数越多的节点其形状越大。</p><p data-pid="cSZANkRI">如 <span>图3</span>（Demo 1 参数）所示，Demo 1 设置了标签列、颜色列和线条宽度列，节点大小列和标注组列未指定。</p><p data-pid="KlHqe0IR">特殊参数中，布局样式用于控制网络图的布局（igraph 包中对应函数）。变换大小和变换宽度可以用于对节点大小列和连线宽度列进行数据缩放（支持加减乘除取余平方、对数变换等）。展示文字标注用于控制是否标注节点文字，展示箭头用于控制是否展示节点间箭头。</p><p data-pid="UDYasNgP">Demo 1 同时使用了自定义颜色画板 1，指定了用于映射到节点和连线的三种颜色（对应于表 1 中三种不同的媒体类型）。特殊参数指定 layout_as<em>_</em>star，节点大小的数值进行了三倍扩大，线条宽度缩小为 1/6。其输出结果如 <span>图4</span> 所示。</p><figure data-size="normal"><p><img data-ratio="1" data-src="https://mmbiz.qpic.cn/mmbiz/SwrYlUwC3iaibhN1G6J685IhJzKZmSwcxf7ic9jz0EJEU7QINMEicfnavFibncd7SYzM6q1Yk1M0OgNMWRXLkravMGA/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" data-type="other" data-w="1440" height="3000" width="3000" src="https://mmbiz.qpic.cn/mmbiz/SwrYlUwC3iaibhN1G6J685IhJzKZmSwcxf7ic9jz0EJEU7QINMEicfnavFibncd7SYzM6q1Yk1M0OgNMWRXLkravMGA/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1"></p><figcaption>图4 Demo 1 输出</figcaption></figure><h2>示例 2</h2><figure data-size="normal"><p><br></p></figure><p><img data-galleryid="" data-ratio="1.0513231756214916" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/SwrYlUwC3iaibhN1G6J685IhJzKZmSwcxfau6fHKNvwYf5fgeqBeI1KcK4WEto9KhrqM8DibKejknVugP5Z99vDpQ/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" data-type="png" data-w="1247" src="https://mmbiz.qpic.cn/mmbiz_png/SwrYlUwC3iaibhN1G6J685IhJzKZmSwcxfau6fHKNvwYf5fgeqBeI1KcK4WEto9KhrqM8DibKejknVugP5Z99vDpQ/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1"></p><figure data-size="normal"><figcaption>图5 Demo 2 示例输入</figcaption></figure><p data-pid="HwBawMcf">如 <span>图5 </span>所示，Demo 2 指定了节点大小列和标记组列，颜色画板 1 使用了 nejm 画板，颜色画板 2 使用了自定义画板，并设置为均一灰色（用于控制标记组的颜色），布局样式修改为 layout_in_circle。缩放函数将节点数据大小列数值变为原来的 7/10，宽度数值变为原来的 1/6。如 <span>图6</span> 所示，与 Demo 1 的输出相比，节点的大小、颜色发生了改变，并将不同类型的节点进行了框选。</p><figure data-size="normal"><p><img data-ratio="1" data-src="https://mmbiz.qpic.cn/mmbiz/SwrYlUwC3iaibhN1G6J685IhJzKZmSwcxfXLOVovCYrk9ibQFA6pIKEBHGlzmZicHbicxvp7eDdiauwvmY4nabaZa7ibw/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" data-type="other" data-w="1440" height="3000" width="3000" src="https://mmbiz.qpic.cn/mmbiz/SwrYlUwC3iaibhN1G6J685IhJzKZmSwcxfXLOVovCYrk9ibQFA6pIKEBHGlzmZicHbicxvp7eDdiauwvmY4nabaZa7ibw/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1"></p><figcaption>图6 Demo 2 示例输出</figcaption></figure><h2>示例 3</h2><figure data-size="normal"><p><img data-ratio="1.0979462875197472" data-src="https://mmbiz.qpic.cn/mmbiz/SwrYlUwC3iaibhN1G6J685IhJzKZmSwcxfaxO4icc9oYBO0icNsFdH1mfibNttg3dPQWg9YDAOFY57aNQNwalYRialZg/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" data-type="other" data-w="633" height="695" width="633" src="https://mmbiz.qpic.cn/mmbiz/SwrYlUwC3iaibhN1G6J685IhJzKZmSwcxfaxO4icc9oYBO0icNsFdH1mfibNttg3dPQWg9YDAOFY57aNQNwalYRialZg/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1"></p><figcaption><span>图7 </span>Demo 3 示例输入</figcaption></figure><p data-pid="We3dEcEX">如 <span>图7</span> 和 <span>图8</span> 所示，Demo 3 使用了自定义颜色画板 1，同时将自定义颜色画板 2 修改为三种不同颜色，即将标记组用三种不同颜色进行展示。</p><figure data-size="normal"><p><img data-ratio="1" data-src="https://mmbiz.qpic.cn/mmbiz/SwrYlUwC3iaibhN1G6J685IhJzKZmSwcxfYmg0icaq47zbAECkZnj4MgehYFF2k4ne6b87QUI8ic80mZovRLvB47BQ/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" data-type="other" data-w="1440" height="3000" width="3000" src="https://mmbiz.qpic.cn/mmbiz/SwrYlUwC3iaibhN1G6J685IhJzKZmSwcxfYmg0icaq47zbAECkZnj4MgehYFF2k4ne6b87QUI8ic80mZovRLvB47BQ/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1"></p><figcaption>图8 Demo 3 示例输出</figcaption></figure><h2>其他 Layout 输出</h2><figure data-size="normal"><img data-ratio="1" data-src="https://mmbiz.qpic.cn/mmbiz/SwrYlUwC3iaibhN1G6J685IhJzKZmSwcxf0GmuSZblQ0P3oILuSict4f6u1CXicicdvrMnd3cB9EgjWpvJYr4RojIFw/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" data-type="other" data-w="1440" height="3000" width="3000" src="https://mmbiz.qpic.cn/mmbiz/SwrYlUwC3iaibhN1G6J685IhJzKZmSwcxf0GmuSZblQ0P3oILuSict4f6u1CXicicdvrMnd3cB9EgjWpvJYr4RojIFw/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1"></figure><figure data-size="normal"><img data-ratio="1" data-src="https://mmbiz.qpic.cn/mmbiz/SwrYlUwC3iaibhN1G6J685IhJzKZmSwcxfhzsbKrdXRsXZZ1EyvVO1JkAFXLDCNXYaYn55DG1mQ29sHnSvCKyo6Q/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" data-type="other" data-w="1440" height="3000" width="3000" src="https://mmbiz.qpic.cn/mmbiz/SwrYlUwC3iaibhN1G6J685IhJzKZmSwcxfhzsbKrdXRsXZZ1EyvVO1JkAFXLDCNXYaYn55DG1mQ29sHnSvCKyo6Q/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1"></figure><figure data-size="normal"><img data-ratio="1" data-src="https://mmbiz.qpic.cn/mmbiz/SwrYlUwC3iaibhN1G6J685IhJzKZmSwcxfHzbmEGK8RKh2KTfj7tnhBUs3Y21lwp7UQmrwSnofQ2EFnl2ELbomxA/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" data-type="other" data-w="1440" height="3000" width="3000" src="https://mmbiz.qpic.cn/mmbiz/SwrYlUwC3iaibhN1G6J685IhJzKZmSwcxfHzbmEGK8RKh2KTfj7tnhBUs3Y21lwp7UQmrwSnofQ2EFnl2ELbomxA/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1"></figure><figure data-size="normal"><img data-ratio="1" data-src="https://mmbiz.qpic.cn/mmbiz/SwrYlUwC3iaibhN1G6J685IhJzKZmSwcxf9zEm3xVfMqrVGY11F2uoC4cbwzscbNPf98ms7En6x4XYXMEesbzRcg/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" data-type="other" data-w="1440" height="3000" width="3000" src="https://mmbiz.qpic.cn/mmbiz/SwrYlUwC3iaibhN1G6J685IhJzKZmSwcxf9zEm3xVfMqrVGY11F2uoC4cbwzscbNPf98ms7En6x4XYXMEesbzRcg/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1"></figure><figure data-size="normal"><img data-ratio="1" data-src="https://mmbiz.qpic.cn/mmbiz/SwrYlUwC3iaibhN1G6J685IhJzKZmSwcxficf1Or2U417gbGMgY6aVjJRlurtRibt1FZKeE75hRYpNI6Ez6lpPiaiaLA/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" data-type="other" data-w="1440" height="3000" width="3000" src="https://mmbiz.qpic.cn/mmbiz/SwrYlUwC3iaibhN1G6J685IhJzKZmSwcxficf1Or2U417gbGMgY6aVjJRlurtRibt1FZKeE75hRYpNI6Ez6lpPiaiaLA/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1"></figure><figure data-size="normal"><img data-ratio="1" data-src="https://mmbiz.qpic.cn/mmbiz/SwrYlUwC3iaibhN1G6J685IhJzKZmSwcxff8dNfwjYE3yP2OIvGwuQMohXq8v9ECnS0Gwm2KWVRC55m8bbHlccwQ/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" data-type="other" data-w="1440" height="3000" width="3000" src="https://mmbiz.qpic.cn/mmbiz/SwrYlUwC3iaibhN1G6J685IhJzKZmSwcxff8dNfwjYE3yP2OIvGwuQMohXq8v9ECnS0Gwm2KWVRC55m8bbHlccwQ/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1"></figure><figure data-size="normal"><img data-ratio="1" data-src="https://mmbiz.qpic.cn/mmbiz/SwrYlUwC3iaibhN1G6J685IhJzKZmSwcxfro8wMDEfWxalMczsEiaFQngteibic1R8iaOQeTnDWtDI9ibjctMoYnCGONg/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" data-type="other" data-w="1440" height="3000" width="3000" src="https://mmbiz.qpic.cn/mmbiz/SwrYlUwC3iaibhN1G6J685IhJzKZmSwcxfro8wMDEfWxalMczsEiaFQngteibic1R8iaOQeTnDWtDI9ibjctMoYnCGONg/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1"></figure><figure data-size="normal"><img data-ratio="1" data-src="https://mmbiz.qpic.cn/mmbiz/SwrYlUwC3iaibhN1G6J685IhJzKZmSwcxf1NFy1JAZAI5tbiaibibVS62LAzBLDQeVHR1X7ibRFibkiaV7dbkbOfeicGKSA/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" data-type="other" data-w="1440" height="3000" width="3000" src="https://mmbiz.qpic.cn/mmbiz/SwrYlUwC3iaibhN1G6J685IhJzKZmSwcxf1NFy1JAZAI5tbiaibibVS62LAzBLDQeVHR1X7ibRFibkiaV7dbkbOfeicGKSA/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1"></figure><figure data-size="normal"><img data-ratio="1" data-src="https://mmbiz.qpic.cn/mmbiz/SwrYlUwC3iaibhN1G6J685IhJzKZmSwcxfBbzWd6diaYmN6XcbS7O8ZpvuwHMibwg6f7Xwtge7Xj7gABpIUNf4Vv0Q/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" data-type="other" data-w="1440" height="3000" width="3000" src="https://mmbiz.qpic.cn/mmbiz/SwrYlUwC3iaibhN1G6J685IhJzKZmSwcxfBbzWd6diaYmN6XcbS7O8ZpvuwHMibwg6f7Xwtge7Xj7gABpIUNf4Vv0Q/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1"></figure><figure data-size="normal"><img data-ratio="1" data-src="https://mmbiz.qpic.cn/mmbiz/SwrYlUwC3iaibhN1G6J685IhJzKZmSwcxfmTKewib8iatOSGCNhpAK5voeVX5VZEH8cZPPTfF1qPiag5AQLn7pkKGTw/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" data-type="other" data-w="1440" height="3000" width="3000" src="https://mmbiz.qpic.cn/mmbiz/SwrYlUwC3iaibhN1G6J685IhJzKZmSwcxfmTKewib8iatOSGCNhpAK5voeVX5VZEH8cZPPTfF1qPiag5AQLn7pkKGTw/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1"></figure><figure data-size="normal"><img data-ratio="1" data-src="https://mmbiz.qpic.cn/mmbiz/SwrYlUwC3iaibhN1G6J685IhJzKZmSwcxfUYUhczYRXKtUicJA16ROPTejTianzuR2wOzN3M1wd55SPfiaG1jvUGscQ/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" data-type="other" data-w="1440" height="3000" width="3000" src="https://mmbiz.qpic.cn/mmbiz/SwrYlUwC3iaibhN1G6J685IhJzKZmSwcxfUYUhczYRXKtUicJA16ROPTejTianzuR2wOzN3M1wd55SPfiaG1jvUGscQ/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1"></figure><figure data-size="normal"><img data-ratio="1" data-src="https://mmbiz.qpic.cn/mmbiz/SwrYlUwC3iaibhN1G6J685IhJzKZmSwcxfNibK4dYicxJxHCw3l1ian9BIamEziayWc5KL5PswxryWEE2DLJfoy4TGZQ/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" data-type="other" data-w="1440" height="3000" width="3000" src="https://mmbiz.qpic.cn/mmbiz/SwrYlUwC3iaibhN1G6J685IhJzKZmSwcxfNibK4dYicxJxHCw3l1ian9BIamEziayWc5KL5PswxryWEE2DLJfoy4TGZQ/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1"></figure><figure data-size="normal"><img data-ratio="1" data-src="https://mmbiz.qpic.cn/mmbiz/SwrYlUwC3iaibhN1G6J685IhJzKZmSwcxfShiaBv9EY08plPCCzoYibBMVSgm1ZuWGYafWjUVXG9ftnhcsKnqnHxpw/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" data-type="other" data-w="1440" height="3000" width="3000" src="https://mmbiz.qpic.cn/mmbiz/SwrYlUwC3iaibhN1G6J685IhJzKZmSwcxfShiaBv9EY08plPCCzoYibBMVSgm1ZuWGYafWjUVXG9ftnhcsKnqnHxpw/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1"></figure><p><br></p><p><mp-style-type data-value="3"></mp-style-type></p></div>  
<hr>
<a href="https://mp.weixin.qq.com/s/yM0E2xC02-AWAc6Vau-qXg",target="_blank" rel="noopener noreferrer">原文链接</a>
