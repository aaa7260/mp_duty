---
title: "使用 R 语言的 `calendR` 包来创建年度或月度日历热图的教程"
date: 2024-04-22T01:54:23Z
draft: ["false"]
tags: [
  "fetched",
  "生信七点半"
]
categories: ["Acdemic"]
---
使用 R 语言的 `calendR` 包来创建年度或月度日历热图的教程 by 生信七点半
------
<div><p><img data-galleryid="" data-imgfileid="100004577" data-ratio="0.41944444444444445" data-s="300,640" data-type="png" data-w="1080" data-src="https://mmbiz.qpic.cn/mmbiz_png/owuibmRdV9sib1bvtftdpTzxDCZGQ9SqlCVLAe54msQA5pXq1Qj7oIhwYV6icvKFU0zTpvLoyAeNiaIHreJ6uf5coA/640?wx_fmt=png&amp;from=appmsg" src="https://mmbiz.qpic.cn/mmbiz_png/owuibmRdV9sib1bvtftdpTzxDCZGQ9SqlCVLAe54msQA5pXq1Qj7oIhwYV6icvKFU0zTpvLoyAeNiaIHreJ6uf5coA/640?wx_fmt=png&amp;from=appmsg"></p><section data-tool="mdnice编辑器" data-website="https://www.mdnice.com"><blockquote data-tool="mdnice编辑器"><span></span><p>热图日历是一种数据可视化形式，用于展示随时间变化的变量。</p></blockquote><h1 data-tool="mdnice编辑器"><span></span><span>1. 日历热图的创建</span><span></span></h1><ul data-tool="mdnice编辑器"><li><section><code>calendR</code> 包允许创建带有热图的年度或月度日历，以显示变量随时间的变化。</section></li><li><section>通过传递一个向量（包含感兴趣的变量）到 <code>special.days</code> 参数，并设置 <code>gradient = TRUE</code> 来创建热图。这个向量的长度应该与相应年份的天数相同。</section></li><li><section>低值的颜色可以通过 <code>low.col</code> 设置（默认为白色），高值的颜色通过 <code>special.col</code> 设置。</section></li></ul><pre data-tool="mdnice编辑器"><span></span><code><span># install.packages(calendR)</span><br>library(calendR)<br><br><span># Data</span><br>set.seed(2)<br>data &lt;- rnorm(365)<br><br><span># Calendar</span><br>calendR(year = 2021,<br>        special.days = data,<br>        gradient = TRUE,<br>        low.col = <span>"#FFFFED"</span>,<br>        special.col = <span>"#FF0000"</span>) <br> <br></code></pre><figure data-tool="mdnice编辑器"><img data-imgfileid="100004588" data-ratio="0.7777777777777778" data-type="png" data-w="1080" data-src="https://mmbiz.qpic.cn/mmbiz_png/owuibmRdV9sib1bvtftdpTzxDCZGQ9SqlCpqibNzVh7BxkyibQanHtGjtg8cC4M7fQTgGIQCfQw9MAg4iaKK2NI5HQw/640?wx_fmt=png&amp;from=appmsg" src="https://mmbiz.qpic.cn/mmbiz_png/owuibmRdV9sib1bvtftdpTzxDCZGQ9SqlCpqibNzVh7BxkyibQanHtGjtg8cC4M7fQTgGIQCfQw9MAg4iaKK2NI5HQw/640?wx_fmt=png&amp;from=appmsg"></figure><h1 data-tool="mdnice编辑器"><span></span><span>2. 添加图例</span><span></span></h1><ul data-tool="mdnice编辑器"><li><section>可以通过设置 <code>legend.pos</code> 参数（"bottom", "left", "top" 或 "right"）来添加图例。</section></li><li><section>图例标题可以通过 <code>legend.title</code> 参数设置。</section></li></ul><pre data-tool="mdnice编辑器"><span></span><code><span># install.packages(calendR)</span><br>library(calendR)<br><br><span># Data</span><br>set.seed(2)<br>data &lt;- rnorm(365)<br><br><span># Calendar</span><br>calendR(year = 2021,<br>        special.days = data,<br>        gradient = TRUE,<br>        low.col = <span>"#FCFFDD"</span>,<br>        special.col = <span>"#00AAAE"</span>,<br>        legend.pos = <span>"right"</span>,<br>        legend.title = <span>"Title"</span>) <br> <br></code></pre><figure data-tool="mdnice编辑器"><img data-imgfileid="100004589" data-ratio="0.6666666666666666" data-type="png" data-w="1080" data-src="https://mmbiz.qpic.cn/mmbiz_png/owuibmRdV9sib1bvtftdpTzxDCZGQ9SqlCzBg93BlzLY6rk4U96X3ibvBxVrKGjVibhYNgmMmHjhlqhjSSWQJWVRYg/640?wx_fmt=png&amp;from=appmsg" src="https://mmbiz.qpic.cn/mmbiz_png/owuibmRdV9sib1bvtftdpTzxDCZGQ9SqlCzBg93BlzLY6rk4U96X3ibvBxVrKGjVibhYNgmMmHjhlqhjSSWQJWVRYg/640?wx_fmt=png&amp;from=appmsg"></figure><h1 data-tool="mdnice编辑器"><span></span><span>3. 特定日子的热图</span><span></span></h1><ul data-tool="mdnice编辑器"><li><section>也可以为年中的特定日子创建热图。</section></li><li><section>在此例中，创建了一个向量，其中所有值都略低于数据的最小值，然后将感兴趣的日子填充为实际数据。</section></li></ul><pre data-tool="mdnice编辑器"><span></span><code><span># install.packages(calendR)</span><br>library(calendR)<br><br><span># Data</span><br>data &lt;- rnorm(30, 15, 10)<br><br><span># Create a vector where all the values are a bit</span><br><span># lower than the lowest value of your data</span><br>days &lt;- rep(min(data) - 0.05, 365)<br><br><span># Fill the days you want with your data</span><br>days[30:59] &lt;- data<br><br>calendR(year = 2021,<br>        special.days = days,<br>        low.col = <span>"white"</span>,<br>        special.col = <span>"#FF0000"</span>,<br>        gradient = TRUE,<br>        legend.pos = <span>"bottom"</span>)<br></code></pre><figure data-tool="mdnice编辑器"><img data-imgfileid="100004587" data-ratio="0.7777777777777778" data-type="png" data-w="1080" data-src="https://mmbiz.qpic.cn/mmbiz_png/owuibmRdV9sib1bvtftdpTzxDCZGQ9SqlCmwbcWetqPia8SYtE6BxR0IKWEg7eqZgt6eDHibxv1fyyAE2ibQoh7OxtQ/640?wx_fmt=png&amp;from=appmsg" src="https://mmbiz.qpic.cn/mmbiz_png/owuibmRdV9sib1bvtftdpTzxDCZGQ9SqlCmwbcWetqPia8SYtE6BxR0IKWEg7eqZgt6eDHibxv1fyyAE2ibQoh7OxtQ/640?wx_fmt=png&amp;from=appmsg"></figure><h1 data-tool="mdnice编辑器"><span></span><span>4. 日历的方向</span><span></span></h1><ul data-tool="mdnice编辑器"><li><section>可以通过设置 <code>orientation = "p"</code> 或 <code>orientation = "portrait"</code> 来修改热图日历的方向。</section></li><li><section>这会创建一个有三列四行的日历。</section></li></ul><pre data-tool="mdnice编辑器"><span></span><code><span># install.packages(calendR)</span><br>library(calendR)<br><br><span># Data</span><br>set.seed(2)<br>data &lt;- rnorm(365)<br><br><span># Vertical calendar</span><br>calendR(year = 2021,<br>        special.days = data,<br>        low.col = <span>"#FCFFDD"</span>,<br>        special.col = <span>"#00AAAE"</span>,<br>        gradient = TRUE,<br>        legend.pos = <span>"right"</span>,<br>        orientation = <span>"portrait"</span>) <br></code></pre><figure data-tool="mdnice编辑器"><img data-imgfileid="100004590" data-ratio="1.1333333333333333" data-type="png" data-w="1080" data-src="https://mmbiz.qpic.cn/mmbiz_png/owuibmRdV9sib1bvtftdpTzxDCZGQ9SqlCk1dcPJk7njQnYoqen3hZE9WLlZq6yicBbPWWR7zgG73CU9nvgIoxjBg/640?wx_fmt=png&amp;from=appmsg" src="https://mmbiz.qpic.cn/mmbiz_png/owuibmRdV9sib1bvtftdpTzxDCZGQ9SqlCk1dcPJk7njQnYoqen3hZE9WLlZq6yicBbPWWR7zgG73CU9nvgIoxjBg/640?wx_fmt=png&amp;from=appmsg"></figure><p data-tool="mdnice编辑器"><br></p></section><p><mp-style-type data-value="3"></mp-style-type></p></div>  
<hr>
<a href="https://mp.weixin.qq.com/s/3LCJ9bLUgDdR1h_1nmEPiw",target="_blank" rel="noopener noreferrer">原文链接</a>
