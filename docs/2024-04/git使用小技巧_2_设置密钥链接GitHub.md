---
title: "git使用小技巧（2）设置密钥链接GitHub"
date: 2024-04-03T02:47:10Z
draft: ["false"]
tags: [
  "fetched",
  "生信小知识"
]
categories: ["Acdemic"]
---
git使用小技巧（2）设置密钥链接GitHub by 生信小知识
------
<div><section><h2><span>git使用小技巧（2）设置密钥链接GitHub</span></h2><blockquote><p>微信公众号：<strong>生信小知识</strong><br>关注可了解更多的生物信息学教程及知识。问题或建议，请公众号留言;</p></blockquote><h3><span>目录</span></h3><p><span><span>前言</span></span><span><span>1. 为什么需要建立链接</span></span><span><span>2. 生成新的SSH key</span></span><span><span>3. 将SSH key 添加到 ssh-agent</span></span><span><span>4. 将SSH key 添加到你的GitHub账户</span></span><span><span>5. 验证key</span></span><span><span>后记</span></span></p><h3><span>前言</span></h3><p>最近因为在写包的原因，所以开始使用版本控制系统 <code>git</code>，所以就顺便记录下相关笔记。几天学习下来，感觉 <code>git</code> 的确强大，但是学习起来也的确没有那么容易，好在最近看了2个不错的教程，让我对 <code>git</code> 中一些概念和逻辑有了清楚的认知，这里分享给大家：</p><ul><li><p><span>【Git工作流和核心原理 | GitHub基本操作 | VS Code里使用Git和关联GitHub】：https://www.bilibili.com/video/BV1r3411F7kn/</span></p></li><li><p><span>【【Cheat Sheet】【04】一张图掌握Git，Github核心功能都免费开放了，你还不会用Git吗？】：https://www.bilibili.com/video/BV1ni4y1t7jK/</span></p></li></ul><p>这里顺便附上之前的笔记：</p><ul><li><p><a href="https://mp.weixin.qq.com/s?__biz=MjM5NTk0Mzg2Nw==&amp;mid=2247484995&amp;idx=1&amp;sn=83e18324ea00c53b247cd16d1f9add2a&amp;scene=21#wechat_redirect" data-linktype="2">GIT简单入门（1）</a></p></li><li><p><a href="https://mp.weixin.qq.com/s?__biz=MjM5NTk0Mzg2Nw==&amp;mid=2247485019&amp;idx=1&amp;sn=a71b3f9f600f3fd2dd9022af54c1fdc6&amp;scene=21#wechat_redirect" data-linktype="2">git使用教程（2）</a></p></li><li><p><a href="https://mp.weixin.qq.com/s?__biz=MjM5NTk0Mzg2Nw==&amp;mid=2247489630&amp;idx=1&amp;sn=67d5d9a198f6a4d336d45b1c5256922e&amp;scene=21#wechat_redirect" data-linktype="2">git使用小技巧（1）设置PS1以及自动转换回车</a></p></li></ul><p>这里会继续更新 <code>git</code> 相关的使用笔记。今天分享一下，如何建立 <code>git</code> 和 <code>github</code> 的链接。</p><blockquote><p>参考：https://blog.csdn.net/weixin_40922744/article/details/107576748</p></blockquote><h3><span>1. 为什么需要建立链接</span></h3><p>当然是为了将本地脚本库推送到GitHub上。</p><p>那能不能直接用命令推送呢？</p><p>我们使用命令：</p><pre><code><span>$</span><span> git push -u origin main</span><br>Permission denied (publickey).<br>fatal: Could not read from remote repository.<br><br>Please make sure you have the correct access rights<br>and the repository exists.<br></code></pre><p>可以看到报错了。</p><p>它告诉我们，没有权限。逻辑上来说，就像你没有钥匙，你怎么能进入房间呢。</p><p>出现这错误一般是以下两种原因：</p><ul><li><p>客户端与服务端未生成 <code>ssh key</code></p></li><li><p>客户端与服务端的 <code>ssh key</code> 不匹配</p></li></ul><p>为解决以上问题，我们需要重新生成一次 <code>ssh key</code> ，并重新配置一下GitHub账户即可。</p><h3><span>2. 生成新的SSH key</span></h3><p>我们需要使用 <code>ssh-keygen</code> 来生成密钥：</p><pre><code>ssh-keygen（基于密匙的安全验证）：需要依靠密钥进行安全验证，必须为自己创建一对密钥，并把公用密钥放在需要访问的服务器上。<br>    -t 即指定密钥的类型。密钥的类型有两种，一种是RSA，一种是DSA。<br>    -b 指定密钥长度。对于RSA密钥，最小要求768位，默认是2048位。命令中的4096指的是RSA密钥长度为4096位。DSA密钥必须恰好是1024位(FIPS 186-2 标准的要求)。<br>    -C 表示要提供一个新注释，用于识别这个密钥。“”里面不一定非要填邮箱，可以是任何内容，邮箱仅仅是识别用的key。<br></code></pre><p>所以我们直接输入：</p><pre><code>ssh-keygen -t rsa -C "youremail@example.com"<br></code></pre><h3><span>3. 将SSH key 添加到 ssh-agent</span></h3><p>生成新的密钥后，我们可以将这个密钥记录在本地：</p><pre><code>ssh-add ~/.ssh/id_rsa<br></code></pre><blockquote><p>如果出现 “Could not open a connection to your authentication agent.” 的错误可以使用以下两种方式解决：</p><pre><code>eval "$(ssh-agent -s)"<br></code></pre> <p>或者</p><pre><code>eval `ssh-agent`<br></code></pre> <p>然后再次记录即可：</p><pre><code>ssh-add ~/.ssh/id_rsa<br></code></pre></blockquote><h3><span>4. 将SSH key 添加到你的GitHub账户</span></h3><p>在账户选项中选择 【Settings】–&gt;【SSH and GPG keys】–&gt;【New SSH key】：</p><p><img data-galleryid="" data-imgfileid="100005989" data-ratio="0.524074074074074" data-s="300,640" data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/fOo3cmIWvJq9eDKuaSlsn2crtibV7HUFyKZf4dNiaquPfXm4kw3G8zhoCpZzkjZt5VicFfTVqzbd5eqzymoMmdnOw/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/sz_mmbiz_png/fOo3cmIWvJq9eDKuaSlsn2crtibV7HUFyKZf4dNiaquPfXm4kw3G8zhoCpZzkjZt5VicFfTVqzbd5eqzymoMmdnOw/640?wx_fmt=png&amp;from=appmsg"></p><p>然后打开之前新生成的 <code>~/.ssh/id_rsa.pub</code> 文件，将密钥复制后填写到账户中：</p><p><img data-galleryid="" data-imgfileid="100005990" data-ratio="0.5138888888888888" data-s="300,640" data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/fOo3cmIWvJq9eDKuaSlsn2crtibV7HUFyTbWRHObW4ja0tVHByBh4hwJXopGQtticQnx15o1RXCXTqar58SxLsPg/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/sz_mmbiz_png/fOo3cmIWvJq9eDKuaSlsn2crtibV7HUFyTbWRHObW4ja0tVHByBh4hwJXopGQtticQnx15o1RXCXTqar58SxLsPg/640?wx_fmt=png&amp;from=appmsg"></p><h3><span>5. 验证key</span></h3><p>我们可以在Linux上对ssh key 进行验证：</p><pre><code><span>$</span><span> ssh -T git@github.com</span><br>Hi xxx! You've successfully authenticated, but GitHub does not provide shell access.<br></code></pre><h3><span>后记</span></h3><p>这样就与GitHub成功建立了链接，后面就可以与自己的仓库建立链接，并直接将写好的代码推送到GitHub上啦</p></section><p><br></p><p><mp-style-type data-value="3"></mp-style-type></p></div>  
<hr>
<a href="https://mp.weixin.qq.com/s/zc7USh1WVEeHvXvA6Kzeew",target="_blank" rel="noopener noreferrer">原文链接</a>
