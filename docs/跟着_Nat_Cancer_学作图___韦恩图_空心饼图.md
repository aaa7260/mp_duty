---
title: "跟着 Nat Cancer 学作图 | 韦恩图+空心饼图"
date: 2022-12-19T02:38:17Z
draft: ["false"]
tags: [
  "fetched",
  "木舟笔记"
]
categories: ["Acdemic"]
---
跟着 Nat Cancer 学作图 | 韦恩图+空心饼图 by 木舟笔记
------
<div><section data-tool="mdnice编辑器" data-website="https://www.mdnice.com" data-mpa-powered-by="yiban.io"><figure data-tool="mdnice编辑器"><img data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/aMicyicM8Ll19AX1sDfFNjibQw1NR8Y0ibzdc29Hqr6lAEarRy2wFnoz4MK0MOl2ibYF0vqTAbnyicmpuPtf6mzMu1xw/640?wx_fmt=jpeg" data-type="jpeg" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_jpg/aMicyicM8Ll19AX1sDfFNjibQw1NR8Y0ibzdc29Hqr6lAEarRy2wFnoz4MK0MOl2ibYF0vqTAbnyicmpuPtf6mzMu1xw/640?wx_fmt=jpeg"><figcaption><span></span>venn_pie</figcaption></figure><blockquote data-tool="mdnice编辑器"><span>❝</span><p><span>「Title：」</span>Multimodal integration of radiology, pathology and genomics for prediction of response to PD-(L)1 blockade in patients with non-small cell lung cancer<span>「DOI：」</span>10.1038/s43018-022-00416-8<strong>「Journal：」</strong>Nat Cancer<strong>「IF：」</strong>23.177，Q1</p><span>❞</span></blockquote><section><mp-common-profile data-pluginname="mpprofile" data-weui-theme="light" data-id="MzIxMDExNDE0OQ==" data-headimg="http://mmbiz.qpic.cn/mmbiz_png/aMicyicM8Ll1ib0O4bhukQJ50YEnDwcMTIvaj1jSnOACbZmy7XsUAmicqyoF1WkNzzwian0IUUbGlNmaniaMDXLsa6pA/0?wx_fmt=png" data-nickname="木舟笔记" data-alias="MZBJNOTE" data-signature="分享CNS绘图指南、生信教程及常见套路、多组学研究思路及机器学习基础。" data-from="0" data-is_biz_ban="0"></mp-common-profile></section><h2 data-tool="mdnice编辑器"><span></span><span>本期图片</span><span></span></h2><figure data-tool="mdnice编辑器"><img data-ratio="0.7540856031128405" data-src="https://mmbiz.qpic.cn/mmbiz_png/aMicyicM8Ll19AX1sDfFNjibQw1NR8Y0ibzd3ibAMgH0kpiaxKHsNibUXibM8q9leW28msibgbJ32KIOSDE4salb5U14qXg/640?wx_fmt=png" data-type="png" data-w="1285" src="https://mmbiz.qpic.cn/mmbiz_png/aMicyicM8Ll19AX1sDfFNjibQw1NR8Y0ibzd3ibAMgH0kpiaxKHsNibUXibM8q9leW28msibgbJ32KIOSDE4salb5U14qXg/640?wx_fmt=png"><figcaption><span></span>image-20221219014409911</figcaption></figure><blockquote data-tool="mdnice编辑器"><span>❝</span><p>都是比较常见的图形，本篇主要介绍两个比较好用的R包，一个是直接根据<code>交集数目</code>画韦恩图的的<code>eulerr</code>包，另一个是画空心饼图的<code>ggforce</code>包。</p><span>❞</span></blockquote><h2 data-tool="mdnice编辑器"><span></span><span>示例数据和代码领取</span><span></span></h2><p data-tool="mdnice编辑器"><code>点赞</code>、<code>在看</code> 本文，分享至朋友圈<code>集赞20个</code>并<code>保留30分钟</code>，截图发至微信<code>mzbj0002</code>领取。</p><p data-tool="mdnice编辑器"><strong>「木舟笔记2022年度VIP可免费领取」</strong>。</p><blockquote data-tool="mdnice编辑器"><span>❝</span><p><strong>「注：」</strong>2022马上过去了，为了方便各位读者朋友，现推出<code><span>木舟笔记永久VIP</span></code>，<span>售价</span><code><span>169￥</span></code>。<code>2022VIP</code>仅需支付差价进行升级。<code>木舟笔记永久VIP</code>享本号所有资源(限定课程除外），后续不再推出VIP企划。</p><span>❞</span></blockquote><h3 data-tool="mdnice编辑器"><span></span><span><span></span>木舟笔记2022年度VIP企划</span><span></span></h3><p data-tool="mdnice编辑器"><strong>「权益：」</strong></p><ol data-tool="mdnice编辑器"><li><section><p><strong>「2022」</strong>年度木舟笔记所有推文示例数据及代码(<strong>「在VIP群里实时更新」</strong>)。</p><figure><img data-ratio="0.4869942196531792" data-src="https://mmbiz.qpic.cn/mmbiz_png/aMicyicM8Ll19AX1sDfFNjibQw1NR8Y0ibzdhIINibYqyVX1R1iaoN2AclqWOsMawt48ha8mSO4YPFut1F2qHuHUWPvw/640?wx_fmt=png" data-type="png" data-w="1384" src="https://mmbiz.qpic.cn/mmbiz_png/aMicyicM8Ll19AX1sDfFNjibQw1NR8Y0ibzdhIINibYqyVX1R1iaoN2AclqWOsMawt48ha8mSO4YPFut1F2qHuHUWPvw/640?wx_fmt=png"><figcaption><span></span>data+code</figcaption></figure></section></li><li><section><p>木舟笔记<strong>「科研交流群」</strong>。</p></section></li><li><section><p><strong>「半价」</strong>购买<code>跟着Cell学作图系列合集</code><a href="http://mp.weixin.qq.com/s?__biz=MzIxMDExNDE0OQ==&amp;mid=2247486072&amp;idx=1&amp;sn=d579a62420f722285eac318c4114d199&amp;chksm=9768c972a01f4064a84f30fd48b8c2107af543c31b6adb5f36234b1377ac42c8af54f45efda9&amp;scene=21#wechat_redirect" data-linktype="2">(免费教程+代码领取)|跟着Cell学作图系列合集</a>。</p></section></li></ol><p data-tool="mdnice编辑器"><strong>「收费：」</strong></p><p data-tool="mdnice编辑器">	<strong>「99￥/人」</strong>。可添加微信：<code>mzbj0002</code> 转账，或直接在文末打赏。</p><img data-ratio="1.1384615384615384" data-src="https://mmbiz.qpic.cn/mmbiz_png/aMicyicM8Ll19AX1sDfFNjibQw1NR8Y0ibzdfwyLpjdEsb5aRhy7uMXDqaPbPUaKMkfJUxJnpMCibxCFEIXbW1NOS3A/640?wx_fmt=png" data-type="png" data-w="520" src="https://mmbiz.qpic.cn/mmbiz_png/aMicyicM8Ll19AX1sDfFNjibQw1NR8Y0ibzdfwyLpjdEsb5aRhy7uMXDqaPbPUaKMkfJUxJnpMCibxCFEIXbW1NOS3A/640?wx_fmt=png"><h2 data-tool="mdnice编辑器"><span></span><span>绘制</span><span></span></h2><pre data-tool="mdnice编辑器"><span></span><code>install.packages(<span>'eulerr'</span>)<br><span>library</span>(eulerr)<br><span># 直接根据交集的数量进行绘制</span><br><span># 本图中A,C交集为0 出图后需微调</span><br>intersecting_inside &lt;- euler(c(<span>"A"</span> = <span>46</span>+<span>106</span>+<span>81</span>, <span>"B"</span> = <span>106</span>+<span>81</span>+<span>24</span>+<span>36</span>, <span>"C"</span> = <span>81</span>+<span>24</span>+<span>52</span>,<br>                               <span>"A&amp;B"</span> = <span>106</span>+<span>81</span>, <span>"B&amp;C"</span> = <span>81</span>+<span>24</span>,<br>                               <span>"A&amp;B&amp;C"</span> = <span>81</span>))<br>plot(intersecting_inside,<br>     fills = list(fill = c(<span>"#acc7ef"</span>,<br>                           <span>"#b3e6b2"</span>,<br>                           <span>"#e8bdcd"</span>,<br>                           <span>"#83bac4"</span>,<br>                           <span>"#8c8ba2"</span>,<br>                           <span>"#b2ab96"</span>,<br>                           <span>"#8c8ba2"</span>)),<br>     quantities = <span>TRUE</span>,<br>     legend = list(side = <span>"right"</span>),<br>     edges = list(col=<span>"#7a7c7f"</span>,alpha=<span>1</span>,lwd=<span>2</span>))<br></code></pre><figure data-tool="mdnice编辑器"><img data-ratio="0.883304940374787" data-src="https://mmbiz.qpic.cn/mmbiz_png/aMicyicM8Ll19AX1sDfFNjibQw1NR8Y0ibzdF0bibg9hZ0TBlf6tmapfXh2micrMLXHuBufibIsb0jw0GydqC5qDBpNjA/640?wx_fmt=png" data-type="png" data-w="1174" src="https://mmbiz.qpic.cn/mmbiz_png/aMicyicM8Ll19AX1sDfFNjibQw1NR8Y0ibzdF0bibg9hZ0TBlf6tmapfXh2micrMLXHuBufibIsb0jw0GydqC5qDBpNjA/640?wx_fmt=png"><figcaption><span></span>venn</figcaption></figure><pre data-tool="mdnice编辑器"><span></span><code><span>## pie</span><br>dt &lt;- data.frame(Type = c(<span>"NSCLC"</span>, <span>"Squamous"</span>,<span>"Large cell"</span>, <span>"Adenocacinoma"</span>), <br>                 ratio = c(79, 15, 4, 2))<br>library(ggplot2)<br>library(ggforce)<br><br>ggplot()+<br>  geom_arc_bar(data=dt,<br>               <span>stat</span> = <span>"pie"</span>,<br>               aes(x0=0,y0=0,r0=1,r=2,<br>                   amount=ratio,fill=Type),<br>               color = <span>'white'</span><br>  )+<br>  scale_fill_manual(values = c(<span>'#71b6a8'</span>, <span>'#3e546b'</span>, <span>'#633b4a'</span>, <span>'#af9dc1'</span>))+<br>  theme(panel.grid.major = element_blank(),<br>        panel.grid.minor = element_blank(),<br>        axis.ticks = element_blank(), <br>        axis.text.y = element_blank(),<br>        axis.text.x = element_blank(),<br>        legend.title=element_blank(), <br>        panel.border = element_blank(),<br>        panel.background = element_blank())+<br>  xlab(<span>""</span>)+<br>  ylab(<span>''</span>)<br>ggsave(<span>'pie.pdf'</span>,width = 5.5,height = 4)<br></code></pre><figure data-tool="mdnice编辑器"><img data-ratio="0.7025210084033613" data-src="https://mmbiz.qpic.cn/mmbiz_png/aMicyicM8Ll19AX1sDfFNjibQw1NR8Y0ibzdAjibicolvC2APFbicn6RJH3y1vYeLgPvfvIVl8HAxc9oC9GEhicuu9WpVA/640?wx_fmt=png" data-type="png" data-w="1190" src="https://mmbiz.qpic.cn/mmbiz_png/aMicyicM8Ll19AX1sDfFNjibQw1NR8Y0ibzdAjibicolvC2APFbicn6RJH3y1vYeLgPvfvIVl8HAxc9oC9GEhicuu9WpVA/640?wx_fmt=png"><figcaption><span></span>pie</figcaption></figure><h2 data-tool="mdnice编辑器"><span></span><span>往期内容</span><span></span></h2><ol data-tool="mdnice编辑器"><li><section><a href="http://mp.weixin.qq.com/s?__biz=MzIxMDExNDE0OQ==&amp;mid=2247488950&amp;idx=1&amp;sn=8c06246890d3cee4a3297829e404beba&amp;chksm=9768d6bca01f5faaba25bf32d3a895f61b4dac7b5daed38deb147f7f1702291a43154da6958d&amp;scene=21#wechat_redirect" data-linktype="2">CNS图表复现|生信分析|R绘图 资源分享&amp;讨论群！</a></section></li><li><section><a href="http://mp.weixin.qq.com/s?__biz=MzIxMDExNDE0OQ==&amp;mid=2247489467&amp;idx=1&amp;sn=fa150ecac0e16684bed1337c61df63e3&amp;chksm=9768d4b1a01f5da7129df1e8d0ac15cca300d44754c00421fc59d37ffd151baa5d83e0e6e188&amp;scene=21#wechat_redirect" data-linktype="2">这图怎么画| 有点复杂的散点图</a></section></li><li><section><a href="http://mp.weixin.qq.com/s?__biz=MzIxMDExNDE0OQ==&amp;mid=2247489395&amp;idx=1&amp;sn=535716eeb4cead09bffa3213b860b5cc&amp;chksm=9768d479a01f5d6fd7ff9261ecca140d9495d88f302048720b28c46b9a1005a0cabcf1ed06ea&amp;scene=21#wechat_redirect" data-linktype="2">这图怎么画 | 相关分析棒棒糖图</a></section></li><li><section><a href="http://mp.weixin.qq.com/s?__biz=MzIxMDExNDE0OQ==&amp;mid=2247489004&amp;idx=1&amp;sn=0654118a49fd0cc3b97a7fe6535e4849&amp;chksm=9768d6e6a01f5ff0758a740c3e1cf9a72cfeb4784d064862f4eac822f78a716371c5f7cfbce7&amp;scene=21#wechat_redirect" data-linktype="2">组学生信| Front Immunol |基于血清蛋白质组早期诊断标志筛选的简单套路</a></section></li><li><section><a href="http://mp.weixin.qq.com/s?__biz=MzIxMDExNDE0OQ==&amp;mid=2247486072&amp;idx=1&amp;sn=d579a62420f722285eac318c4114d199&amp;chksm=9768c972a01f4064a84f30fd48b8c2107af543c31b6adb5f36234b1377ac42c8af54f45efda9&amp;scene=21#wechat_redirect" data-linktype="2">(免费教程+代码领取)|跟着Cell学作图系列合集</a></section></li><li><section><a href="http://mp.weixin.qq.com/s?__biz=MzIxMDExNDE0OQ==&amp;mid=2247487979&amp;idx=1&amp;sn=efbc86019b0e20ec8445489df16e4fbc&amp;chksm=9768d2e1a01f5bf708214c51bb0eceeaf48d743851b14a72187e1fa229223d75fa902381a3ad&amp;scene=21#wechat_redirect" data-linktype="2">Q&amp;A | 如何在论文中画出漂亮的插图？</a></section></li><li><section><a href="http://mp.weixin.qq.com/s?__biz=MzIxMDExNDE0OQ==&amp;mid=2247488167&amp;idx=1&amp;sn=b83be3d0c76f0413affe0b5cab9b93a2&amp;chksm=9768d1ada01f58bb5008ad29506b61eb1a964f21cb1efe40f525add6092e86da24794b8b4790&amp;scene=21#wechat_redirect" data-linktype="2">跟着 Cell 学作图 | 桑葚图(ggalluvial)</a></section></li><li><section><a href="http://mp.weixin.qq.com/s?__biz=MzIxMDExNDE0OQ==&amp;mid=2247488226&amp;idx=1&amp;sn=4515eb615d43ccb760a9a8d74ef35072&amp;chksm=9768d1e8a01f58fe66e120c9e8b50837be0757f695eb0466bd864e5a2d50357f65e7ed5efab1&amp;scene=21#wechat_redirect" data-linktype="2">R实战 | Lasso回归模型建立及变量筛选</a></section></li><li><section><a href="http://mp.weixin.qq.com/s?__biz=MzIxMDExNDE0OQ==&amp;mid=2247488256&amp;idx=1&amp;sn=433e1e89a23805d83929a963881eade4&amp;chksm=9768d00aa01f591c5564153baa6c5dfcdb9b4a49bf8a3a9355e3281df34f9080916790745a1b&amp;scene=21#wechat_redirect" data-linktype="2">跟着 NC 学作图 | 互作网络图进阶(蛋白+富集通路)(Cytoscape)</a></section></li><li><section><a href="http://mp.weixin.qq.com/s?__biz=MzIxMDExNDE0OQ==&amp;mid=2247488318&amp;idx=1&amp;sn=9bd4daa918eca93dd5dedbeaa25ceb77&amp;chksm=9768d034a01f59220b5970fb04aaec5cfa732fa176b82a38c72e6de7fc2999780076ea687456&amp;scene=21#wechat_redirect" data-linktype="2">R实战 | 给聚类加个圈圈(ggunchull)</a></section></li><li><section><a href="http://mp.weixin.qq.com/s?__biz=MzIxMDExNDE0OQ==&amp;mid=2247488443&amp;idx=1&amp;sn=6a1b8766b2daf5433a8275d730c07fa2&amp;chksm=9768d0b1a01f59a797e9d42dffdcbbf8e8a6d4cef495e7ba5b14dd411188e681403cfb511e1f&amp;scene=21#wechat_redirect" data-linktype="2">R实战 | NGS数据时间序列分析(maSigPro)</a></section></li><li><section><a href="http://mp.weixin.qq.com/s?__biz=MzIxMDExNDE0OQ==&amp;mid=2247488618&amp;idx=1&amp;sn=21f561a6a99e2e603ea72bc6889d96e4&amp;chksm=9768d760a01f5e7606901e9e3839f7ea583205c65b232af6eef971e18a4233b5e42222ed7091&amp;scene=21#wechat_redirect" data-linktype="2">跟着 Cell 学作图 | 韦恩图(ggVennDiagram)</a></section></li></ol><hr data-tool="mdnice编辑器"><figure data-tool="mdnice编辑器"><img data-ratio="0.6676163342830009" data-src="https://mmbiz.qpic.cn/mmbiz_png/aMicyicM8Ll19AX1sDfFNjibQw1NR8Y0ibzd2nI6fZlL2O8LiagZnuDib6txXd5u92UKEIC2avlMLsIshXNs2473ZI9g/640?wx_fmt=png" data-type="png" data-w="1053" src="https://mmbiz.qpic.cn/mmbiz_png/aMicyicM8Ll19AX1sDfFNjibQw1NR8Y0ibzd2nI6fZlL2O8LiagZnuDib6txXd5u92UKEIC2avlMLsIshXNs2473ZI9g/640?wx_fmt=png"><figcaption><span></span>木舟笔记矩阵</figcaption></figure></section><p><br></p><p><mp-style-type data-value="3"></mp-style-type></p></div>  
<hr>
<a href="https://mp.weixin.qq.com/s/s0RFU9JdI7MCPhrfpiWrkA",target="_blank" rel="noopener noreferrer">原文链接</a>
