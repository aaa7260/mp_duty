---
title: "云雨图进阶绘制法-环状云雨图"
date: 2024-05-22T13:19:14Z
draft: ["false"]
tags: [
  "fetched",
  "R语言数据分析指南"
]
categories: ["Acdemic"]
---
云雨图进阶绘制法-环状云雨图 by R语言数据分析指南
------
<div><section data-tool="mdnice编辑器" data-website="https://www.mdnice.com"><h3 data-tool="mdnice编辑器"><span></span><span><span></span>欢迎关注R语言数据分析指南公众号</span><span></span></h3><blockquote data-tool="mdnice编辑器"><span>❝</span><p>本节来介绍如何绘制环状云雨图，若数据量过多可绘制成环状展示，数据无实际意义，整个过程仅参考。希望对各位观众老爷能有所帮助。<strong>「代码会整合上传到学习交流群」</strong>，购买过小编R数据可视化文档的朋友可在所加的交流群内获取下载，有需要的朋友可关注文中介绍加入交流群。</p><span>❞</span></blockquote><h3 data-tool="mdnice编辑器"><span></span><span><span></span>结果展示</span><span></span></h3><figure data-tool="mdnice编辑器"><img data-imgfileid="100028793" data-ratio="0.8907407407407407" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI6iawecibvP2ANx5PqfGYo4eHym6dO7jhicDlbhX0kgfpuK6Od3ex7KLE6Q/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI6iawecibvP2ANx5PqfGYo4eHym6dO7jhicDlbhX0kgfpuK6Od3ex7KLE6Q/640?wx_fmt=png&amp;from=appmsg"></figure><h3 data-tool="mdnice编辑器"><span></span><span><span></span>图片解读</span><span></span></h3><blockquote data-tool="mdnice编辑器"><span>❝</span><p>在原有直角坐标基础上进行加工转换成环状，整体内容与常见云雨图无差别。</p><span>❞</span></blockquote><h3 data-tool="mdnice编辑器"><span></span><span><span></span>加载R包</span><span></span></h3><pre data-tool="mdnice编辑器"><span></span><code><span>library</span>(tidyverse)<br><span>library</span>(geomtextpath)<br><span>library</span>(gghalves)<br><span>library</span>(magrittr)<br></code></pre><h3 data-tool="mdnice编辑器"><span></span><span><span></span>数据清洗</span><span></span></h3><pre data-tool="mdnice编辑器"><span></span><code>df &lt;- read_tsv(<span>"data.xls"</span>)<br><br>dff &lt;- df %&gt;% group_by(id) %&gt;% <br>  mutate(n = n(),<br>         avg = mean(rating)) %&gt;% <br>  arrange(-avg) %&gt;% <br>  filter(n &gt; <span>60</span>) %&gt;% <br>  mutate(most = fct_relevel(id, uniq)) %&gt;%<br>  filter(!most %<span>in</span>% c(<span>"bitter"</span>,<span>"cocoa"</span>)) %&gt;% <br>  ungroup()<br><br>uniq &lt;- unique(dff$id)<br></code></pre><h3 data-tool="mdnice编辑器"><span></span><span><span></span>关注下方公众号下回更新不迷路</span><span></span></h3><section><mp-common-profile data-pluginname="mpprofile" data-id="Mzg3MzQzNTYzMw==" data-headimg="http://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAZF0rpeZII9Ltl26VbVagriczTria1fib3XgjwwHEHFjPzkmGpqWDVVHBSzhENictUM2iavAKiaM5lc9USw/0?wx_fmt=png" data-nickname="R语言数据分析指南" data-alias="YanJANtwo" data-signature="R语言重症爱好者，喜欢绘制各种精美的图表，喜欢的小伙伴可以关注我，跟我一起学习" data-from="0" data-is_biz_ban="0"></mp-common-profile></section><blockquote data-tool="mdnice编辑器"><span>❝</span><p>有需要学习R数据可视化的读者，欢迎购买小编的R数据可视化案例文档(2024版)，<strong>「购买将赠送2023年的绘图文档内容」</strong>。目前此文档(2023+2024)<strong>「已经更新上传了150+案例文档」</strong>，每个案例都附有相应的数据和代码，并配有对应的注释文档，方便大家学习和参考。可到小编的<strong>「淘宝店铺-R语言数据分析指南」</strong>下单购买。</p><span>❞</span></blockquote><p data-tool="mdnice编辑器">2024更新的绘图内容同时包含数据+代码+markdown注释文档+文档清单，<strong>「小编只分享案例文档不额外回答问题无答疑问。」</strong></p><h3 data-tool="mdnice编辑器"><span></span><span><span></span>淘宝店铺</span><span></span></h3><p><img data-galleryid="" data-imgfileid="100019415" data-ratio="1.0210420841683367" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/EibnicgwScTAbvhPDLGT8NaialEsht92PTYNJWpmVLfoYGic1uha5FyBrDCibibZCLjiazgvpT1XcdwibfVywD2el0VAgg/640?wx_fmt=jpeg" data-type="jpeg" data-w="998" src="https://mmbiz.qpic.cn/mmbiz_jpg/EibnicgwScTAbvhPDLGT8NaialEsht92PTYNJWpmVLfoYGic1uha5FyBrDCibibZCLjiazgvpT1XcdwibfVywD2el0VAgg/640?wx_fmt=jpeg"></p><h3 data-tool="mdnice编辑器"><span></span><span><span></span>2024年案例图展示</span><span></span></h3><p data-tool="mdnice编辑器"><img data-imgfileid="100028792" data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI6wFHdKXzYlRcrqrIITpEnqib5PcNXXIib9BZNnNOb5kRYzytsTrgzCHlQ/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI6wFHdKXzYlRcrqrIITpEnqib5PcNXXIib9BZNnNOb5kRYzytsTrgzCHlQ/640?wx_fmt=png&amp;from=appmsg"><img data-imgfileid="100028790" data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI6icbF8ur9XkhvG03iaZkHVzD3weylhRhicdy8RGXVQ6OwKuMK0bC8LJibWA/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI6icbF8ur9XkhvG03iaZkHVzD3weylhRhicdy8RGXVQ6OwKuMK0bC8LJibWA/640?wx_fmt=png&amp;from=appmsg"><img data-imgfileid="100028791" data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI6xibD19olribFzJQGQ4cnIibKqrIzv2iayAzjqsUkk4rfzaj745JriaFLBNA/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI6xibD19olribFzJQGQ4cnIibKqrIzv2iayAzjqsUkk4rfzaj745JriaFLBNA/640?wx_fmt=png&amp;from=appmsg"><img data-imgfileid="100028794" data-ratio="0.48148148148148145" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI6cSwA27PScgBpPHMRJMruK12TCyKrmqA7hGibblEaVBaRXmYBhtCetXg/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI6cSwA27PScgBpPHMRJMruK12TCyKrmqA7hGibblEaVBaRXmYBhtCetXg/640?wx_fmt=png&amp;from=appmsg"><img data-imgfileid="100028795" data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI65TS6XROLB3XjF9mUJuSmGALreMcqmY2Xa7IVvCqG0RfL2gBicOWtxFw/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI65TS6XROLB3XjF9mUJuSmGALreMcqmY2Xa7IVvCqG0RfL2gBicOWtxFw/640?wx_fmt=png&amp;from=appmsg"><img data-imgfileid="100028796" data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI6dYAqfvAowJMXlLH0BMPguFJOpJH3V3MdctHqQpUpvpg4NRBL4vmYrg/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI6dYAqfvAowJMXlLH0BMPguFJOpJH3V3MdctHqQpUpvpg4NRBL4vmYrg/640?wx_fmt=png&amp;from=appmsg"><img data-imgfileid="100028799" data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI6oMcTRYib4o6XYscQwm9cPzHEpQS62maCSiby2MmftNn8l6meAW6wtKXg/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI6oMcTRYib4o6XYscQwm9cPzHEpQS62maCSiby2MmftNn8l6meAW6wtKXg/640?wx_fmt=png&amp;from=appmsg"><img data-imgfileid="100028798" data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI658OSxvGPXAIJvDjU2MAml285eJO34iaWfG0snvGjWDCdR8icMwaPMo8Q/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI658OSxvGPXAIJvDjU2MAml285eJO34iaWfG0snvGjWDCdR8icMwaPMo8Q/640?wx_fmt=png&amp;from=appmsg"><img data-imgfileid="100028797" data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI6xNEXfH4Iuj80NpDsvGaGRPNg6EOMSgMUxS0QibLYAJ36v1gl4iaTkPicw/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI6xNEXfH4Iuj80NpDsvGaGRPNg6EOMSgMUxS0QibLYAJ36v1gl4iaTkPicw/640?wx_fmt=png&amp;from=appmsg"><img data-imgfileid="100028801" data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI6axHpOm2M0UGofSuniceKBpXW32C9QMd1zM2XRibIv50AvsJ9SZLmqS3g/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI6axHpOm2M0UGofSuniceKBpXW32C9QMd1zM2XRibIv50AvsJ9SZLmqS3g/640?wx_fmt=png&amp;from=appmsg"><img data-imgfileid="100028804" data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI6RJQxa0CjW4Vo0JKqmhn4bbgpgC68iamhG3pK2EJIxktvBuj7DE7MrSw/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI6RJQxa0CjW4Vo0JKqmhn4bbgpgC68iamhG3pK2EJIxktvBuj7DE7MrSw/640?wx_fmt=png&amp;from=appmsg"><img data-imgfileid="100028802" data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI6VibVoYSMjoGp7Uclia9XdcNwdvZK4iaoQPuTB88UygRibwQ3ANrrkyxS6g/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI6VibVoYSMjoGp7Uclia9XdcNwdvZK4iaoQPuTB88UygRibwQ3ANrrkyxS6g/640?wx_fmt=png&amp;from=appmsg"><img data-imgfileid="100028803" data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI6iaMFtnDTLlcZvx0xzRw7GPic6icujOlfW5kp0mQKgfibJS9hknialItx59w/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI6iaMFtnDTLlcZvx0xzRw7GPic6icujOlfW5kp0mQKgfibJS9hknialItx59w/640?wx_fmt=png&amp;from=appmsg"><img data-imgfileid="100028800" data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI6icrJEibZw05bQCje6brSErEflbiaqibMOkUG35LgsnyHf19bYRyzxEuDnw/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI6icrJEibZw05bQCje6brSErEflbiaqibMOkUG35LgsnyHf19bYRyzxEuDnw/640?wx_fmt=png&amp;from=appmsg"><img data-imgfileid="100028809" data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI6vvSUydVCjPgL9SYibHBpuDwibMnoU1fQYhygomebyF9NZIIoYK0kAVEw/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI6vvSUydVCjPgL9SYibHBpuDwibMnoU1fQYhygomebyF9NZIIoYK0kAVEw/640?wx_fmt=png&amp;from=appmsg"></p><h3 data-tool="mdnice编辑器"><span></span><span><span></span>2023年案例图展示</span><span></span></h3><p data-tool="mdnice编辑器"><img data-imgfileid="100028810" data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI6Gugk0bQeDrIkVSrlsGlH49vJVqXtJDAjVmueEb7xiaiaPClMoiaqb69sw/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI6Gugk0bQeDrIkVSrlsGlH49vJVqXtJDAjVmueEb7xiaiaPClMoiaqb69sw/640?wx_fmt=png&amp;from=appmsg"><img data-imgfileid="100028806" data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI6bFs3Q6B3ibKPYJrs7O7SreCIQyHaWaX913SnvSKR7zTE76WhJ3hLGww/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI6bFs3Q6B3ibKPYJrs7O7SreCIQyHaWaX913SnvSKR7zTE76WhJ3hLGww/640?wx_fmt=png&amp;from=appmsg"><img data-imgfileid="100028808" data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI6tGqHmkGFg5UfmmjM354dHUxcbY0mfrS0z7srAp5HlPaQBJVhStiaYSQ/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI6tGqHmkGFg5UfmmjM354dHUxcbY0mfrS0z7srAp5HlPaQBJVhStiaYSQ/640?wx_fmt=png&amp;from=appmsg"><img data-imgfileid="100028807" data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI6xwD8W7vrEibDVkDibqxwLnBJWN9f6Gevmxe91VHdoXm1MwoCYcsL4qAA/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI6xwD8W7vrEibDVkDibqxwLnBJWN9f6Gevmxe91VHdoXm1MwoCYcsL4qAA/640?wx_fmt=png&amp;from=appmsg"><img data-imgfileid="100028814" data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI6jpYgASibgfHKxLRd2NHCw9408KfiamgCNwPyPmKZ6NCvQSNVicCGbHVtA/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI6jpYgASibgfHKxLRd2NHCw9408KfiamgCNwPyPmKZ6NCvQSNVicCGbHVtA/640?wx_fmt=png&amp;from=appmsg"><img data-imgfileid="100028811" data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI6LjpTiaGibVlpqzl46DsmdsPLIF2AKXYhspdBib9BiajVq7oQyo7XbEW4OA/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI6LjpTiaGibVlpqzl46DsmdsPLIF2AKXYhspdBib9BiajVq7oQyo7XbEW4OA/640?wx_fmt=png&amp;from=appmsg"><img data-imgfileid="100028815" data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI6IIR5rbQ8d83BKkZHs8R5xssrqssdYSHlUJiatqVJVaPp2ycAMH0DpOw/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI6IIR5rbQ8d83BKkZHs8R5xssrqssdYSHlUJiatqVJVaPp2ycAMH0DpOw/640?wx_fmt=png&amp;from=appmsg"><img data-imgfileid="100028813" data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI6cyia2wE5uQ6N1fl8f2R16bUcZCia1wzytiaXGicETCZVOxKz7TEUjlNXSQ/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI6cyia2wE5uQ6N1fl8f2R16bUcZCia1wzytiaXGicETCZVOxKz7TEUjlNXSQ/640?wx_fmt=png&amp;from=appmsg"><img data-imgfileid="100028812" data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI6wnZFNqRTVkKvuSngopXN4cb6IPjwuqrAPjIe9qrMkMYVU3u9xYjBAg/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI6wnZFNqRTVkKvuSngopXN4cb6IPjwuqrAPjIe9qrMkMYVU3u9xYjBAg/640?wx_fmt=png&amp;from=appmsg"><img data-imgfileid="100028820" data-ratio="0.6175925925925926" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI6rkIPcTIHr8kEPZw3PaJbdNUR1U2iaRHbCA9VHmmZ7nr9kqDMibX9mBMA/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAacqib6FRSViaX9sBibDDOGGI6rkIPcTIHr8kEPZw3PaJbdNUR1U2iaRHbCA9VHmmZ7nr9kqDMibX9mBMA/640?wx_fmt=png&amp;from=appmsg"></p></section><p><br></p><p><mp-style-type data-value="3"></mp-style-type></p></div>  
<hr>
<a href="https://mp.weixin.qq.com/s/w9sPUgfSvO9XeN9rNqO0xQ",target="_blank" rel="noopener noreferrer">原文链接</a>
