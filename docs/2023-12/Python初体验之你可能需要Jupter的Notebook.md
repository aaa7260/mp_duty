---
title: "Python初体验之你可能需要Jupter的Notebook"
date: 2023-12-29T00:19:13Z
draft: ["false"]
tags: [
  "fetched",
  "生信技能树"
]
categories: ["Acdemic"]
---
Python初体验之你可能需要Jupter的Notebook by 生信技能树
------
<div><section data-tool="mdnice编辑器" data-website="https://www.mdnice.com"><blockquote data-tool="mdnice编辑器"><p>我们前些天的推文：<a href="https://mp.weixin.qq.com/s?__biz=MzAxMDkxODM1Ng==&amp;mid=2247527159&amp;idx=1&amp;sn=a1e2a8e1da20ed04be4ee63737a078c2&amp;scene=21#wechat_redirect" data-linktype="2">简单绘制一个3D效果的饼图吧</a>，对比了R语言和Python的可视化效果，成功的吸引了不少小伙伴入坑Python编程语言，而且它确实是在单细胞数据处理领域占比有超越R的趋势，所以有必要开辟一个Python专辑啦。然后呢，开始学习一个编程语言，我们肯定是首先得安装好它，比如前面我们讲解了Python的安装，它多个版本的差异以及管理，详见：<a href="https://mp.weixin.qq.com/s?__biz=MzAxMDkxODM1Ng==&amp;mid=2247527250&amp;idx=2&amp;sn=e6a0c3cf1e07786eaff7069ec21bf573&amp;scene=21#wechat_redirect" data-linktype="2">Python初体验之弄清楚版本差异和如何安装管理</a>。</p></blockquote><p data-tool="mdnice编辑器">如果是在R编程语言，我们会推荐大家<strong>写rmarkdown</strong>，交互式动态呈现每次代码以及它的运行结果，一步到位输出HTML或者PDF格式的数据分析报表，非常方便。在Python编程语言里面，能实现类似的功能的就是Jupter的Notebook。</p><h3 data-tool="mdnice编辑器"><span></span>如何安装Jupter的Notebook<span></span></h3><p data-tool="mdnice编辑器">无论是Windows还是MacOS都可以通过专业Python IDE（PyCharm） 里面的终端窗口可以使用pip的install命令来安装任意成熟的Python模块，而Jupter的Notebook就是一个模块哦，只需要你电脑已经是配置好了Python的编程语言环境即可，然后就如下所示设置合理的镜像来加快你的模块安装速度！</p><pre data-tool="mdnice编辑器"><span></span><code> pip install jupyter -i https://pypi.tuna.tsinghua.edu.cn/simple <br></code></pre><p data-tool="mdnice编辑器">上面的代码基本上不会出错，而且你多次运行也不会重复安装。安装成功了之后这个jupyter 就是在我们的终端的一个命令行工具软件啦，如下所示：</p><pre data-tool="mdnice编辑器"><span></span><code>jupyter --<span>help</span> <br>usage: jupyter [-h]  <br><br>Jupyter: Interactive Computing<br><br>positional arguments:<br>  subcommand     the subcommand to launch<br><br>options:<br>  -h, --<span>help</span>     show this <span>help</span> message and <span>exit</span><br>  --version      show the versions of core jupyter packages and <span>exit</span><br>  --config-dir   show Jupyter config dir<br>  --data-dir     show Jupyter data dir<br>  --runtime-dir  show Jupyter runtime dir<br>  --paths        show all Jupyter paths. Add --json <span>for</span> machine-readable format.<br>  --json         output paths as machine-readable json<br>  --debug        output debug information about paths<br><br>Available subcommands: console dejavu events execute kernel kernelspec lab labextension labhub<br>migrate nbconvert notebook qtconsole run server troubleshoot trust<br></code></pre><p data-tool="mdnice编辑器">可以看到这个jupyter软件有一系列大家的subcommands，我们最常用的就是输入jupyter notebook即可在浏览器中自动打开notebook啦，就是跳转到我们的电脑的浏览器里面然后自动打开了：</p><pre data-tool="mdnice编辑器"><span></span><code>http://localhost:8888<br></code></pre><p data-tool="mdnice编辑器">接下来就是大量的熟悉这个界面啦，可以自己慢慢研读Jupyter官方网址：</p><ul data-tool="mdnice编辑器"><li><section>https://jupyter.org/</section></li></ul><p data-tool="mdnice编辑器">以及配套的IPython官方网址：</p><ul data-tool="mdnice编辑器"><li><section>https://ipython.readthedocs.io/en/stable/index.html</section></li></ul><p data-tool="mdnice编辑器">这些都是小技巧，很难图文并茂给大家一个个演示，比如Jupyter Notebook快捷键大全都是靠实战来慢慢记忆的。</p><h3 data-tool="mdnice编辑器"><span></span>jupyter的一系列魔法命令<span></span></h3><p data-tool="mdnice编辑器">首先呢，前面我们输入jupyter notebook即可在浏览器中自动打开notebook啦，然后这个notebook就可以新建，这样的话浏览器里面的网页链接就变成了：notebooks/Untitled.ipynb</p><p data-tool="mdnice编辑器">这个notebook就是交互式的可以练习你的Python编程哦，而且它里面的输入代码如果前面加上了感叹号而且是一个合法的系统命令（一般来说是Linux系统的各种命令啦），也是可以有运行结果，如下所示：</p><p><img data-galleryid="" data-imgfileid="100043616" data-ratio="0.575" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/cZNhZQ6j4wxiaqIEibydFDWELicchXJS15uNjqFeC11juTBM3b4I5IhYCLo9HHNPelXfGhkBj7lfH3fZriahIXeXAg/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/mmbiz_png/cZNhZQ6j4wxiaqIEibydFDWELicchXJS15uNjqFeC11juTBM3b4I5IhYCLo9HHNPelXfGhkBj7lfH3fZriahIXeXAg/640?wx_fmt=png&amp;from=appmsg"></p><figure data-tool="mdnice编辑器"><figcaption>合法的系统命令 </figcaption></figure><p data-tool="mdnice编辑器">如果我们是Windows电脑通常是可以安装git软件它提供一系列系统命令，如果是MacOS它本身就类似于Linux所以也自带很多系统命令。但是这些仍然是不够的，还有一些魔法命令，官方文档：</p><ul data-tool="mdnice编辑器"><li><section>https://ipython.readthedocs.io/en/stable/interactive/magics.html</section></li></ul><p data-tool="mdnice编辑器">其实它来源于IPython，但是我们默认安装Jupyter的时候IPython模块也是会被安装。这个时候主要是靠百分号的前缀来运行，可以使用%lsmagic：查看所有魔法命令。然后呢使用%time?的语法结构查看具体的魔法命令的帮助文档：查看time魔法命令帮助文档。</p><h3 data-tool="mdnice编辑器"><span></span>关于 .ipynb后缀的文件<span></span></h3><p data-tool="mdnice编辑器">现在越来越多文章采用Python编程语言完成全部的数据分析，尤其是单细胞领域，比如文章《<strong>Deconstruction of rheumatoid arthritis synovium defines inflammatory subtypes</strong>》：Nature 2023. doi: 10.1038/s41586-023-06708-y，就是如此，它代码公开在github里面，链接是：</p><ul data-tool="mdnice编辑器"><li><section>https://github.com/Immunogenomics/RA_Atlas_CITEseq/</section></li></ul><p data-tool="mdnice编辑器">可以看到里面有大量的 .ipynb后缀的文件，如下所示：</p><pre data-tool="mdnice编辑器"><span></span><code>03-13-23_R4RA_CTAPclassificatin_Code.ipynb<br>2021-10-29_mapping_analysis.ipynb<br>CTAPs_predict_flow.ipynb<br>all_celltype_reference.html<br>all_celltype_reference.ipynb<br>define_CTAP_name.ipynb<br>fan_fibro_CNA.ipynb<br>histology_fragment_densities_analysis.ipynb<br>myeloid_visualization_pseudobulk.ipynb<br>tcell_visualization_pseudobulk.ipynb<br>test_theta_LISI.ipynb<br>visualize_CNA_res.ipynb<br></code></pre><p data-tool="mdnice编辑器"><code>.ipynb</code> 文件是 Jupyter Notebook 的文件格式，它包含了代码、文本、图表等元素，以及交互性的代码块。</p><ul data-tool="mdnice编辑器"><li><section>如果你已经安装了 Jupyter Notebook，你可以在终端或命令提示符中导航到包含 <code>.ipynb</code> 文件的目录，然后运行命令 <code>jupyter notebook</code>。</section></li><li><section>在 Jupyter Notebook 界面中，你可以看到文件浏览器，通过点击文件名来打开 <code>.ipynb</code> 文件。</section></li></ul><p data-tool="mdnice编辑器"><code>.ipynb</code> 文件是一种方便的协作格式，多人可以编辑和注释同一个文件，共同进行项目工作。它主要是包含下面的四个单元：</p><ol data-tool="mdnice编辑器"><li><section><strong>代码单元（Code Cells）：</strong></section></li></ol><ul><li><section>在代码单元中，你可以输入和运行代码。点击代码单元，然后按 <code>Shift + Enter</code> 运行代码。你还可以使用工具栏中的按钮运行、停止、插入、删除代码单元等。</section></li></ul><li><section><strong>文本单元（Markdown Cells）：</strong></section></li><ul><li><section>在文本单元中，你可以使用 Markdown 语法编写文本、标题、列表等。点击文本单元，然后按 <code>Shift + Enter</code> 渲染 Markdown 格式。</section></li></ul><li><section><strong>图表和输出：</strong></section></li><ul><li><section>执行代码单元后，输出结果（如图表、文本输出）将会显示在代码单元下方。</section></li></ul><li><section><strong>保存和导出：</strong></section></li><ul><li><section>使用 Jupyter Notebook 界面中的保存按钮或快捷键保存修改。你还可以导出 <code>.ipynb</code> 文件为其他格式，如 HTML、PDF 等。</section></li></ul><h3 data-tool="mdnice编辑器"><span></span>进阶到JupyterLab<span></span></h3><p data-tool="mdnice编辑器">如果是在R编程语言，大家<strong>写rmarkdown</strong>通常是在自己的电脑即可，如果是有服务器提供给多个用户就需要rstudio的server来管理大家。同样的，在Python编程语言里面的，大部分人写Jupter的Notebook也是在个人电脑，但是也可以使用JupyterLab，它是 Jupyter的Notebook的升级版，可以更灵活地管理和编辑 <code>.ipynb</code> 文件。</p><ul data-tool="mdnice编辑器"><li><section>JupyterLab的官网</section></li><ul><li><section>https://github.com/jupyterlab/jupyterlab-desktop</section></li><li><section>https://hub.fastgit.org/jupyterlab/jupyterlab-desktop</section></li></ul><li><section>在官网可以看到它提供了多种操作系统的对应的软件下载链接哦：</section></li><ul><li><section>Debian, Ubuntu Linux Installer</section></li><li><section>Red Hat, Fedora, SUSE Linux Installer</section></li><li><section>macOS Intel Installer, macOS Apple silicon Installer</section></li><li><section>Windows Installer</section></li></ul><li><section>安装：必须要先装Node.js, 然后再安装Jupyter Desktop</section></li><ul><li><section>先安装NodeJs：https://nodejs.org/en/download/，根据不同操作系统来下载Node的长期稳定版LTS选择最新版即可，下载后安装Node环境。</section></li><li><section>下载Jupyhter Desktop，是可安装文件，直接点击安装可以</section></li></ul></ul><p data-tool="mdnice编辑器"><strong>值得一提的是如果你安装了Jupyter Desktop而且习惯了它，其实大概率就没必要使用JetBrains公司开发的专业Python IDE（PyCharm）。</strong></p></section><p><br></p><section data-tool="mdnice编辑器" data-website="https://www.mdnice.com"><p data-tool="mdnice编辑器">如果大家已经安装配置好了自己的Python环境，就可以把前些天的推文：<a href="https://mp.weixin.qq.com/s?__biz=MzAxMDkxODM1Ng==&amp;mid=2247527159&amp;idx=1&amp;sn=a1e2a8e1da20ed04be4ee63737a078c2&amp;scene=21#wechat_redirect" data-linktype="2">简单绘制一个3D效果的饼图吧</a>里面的Python可视化代码敲一下，如果是Python编程经验充足，也可以直接看看我们在《单细胞天地》的Python实战笔记哈：</p><h3 data-tool="mdnice编辑器">Python图文复现2022</h3><ul data-tool="mdnice编辑器"><li><section><a href="http://mp.weixin.qq.com/s?__biz=MzI1Njk4ODE0MQ==&amp;mid=2247508185&amp;idx=1&amp;sn=8f390f47fb7142beced128754e8cc40e&amp;chksm=ea1ca65bdd6b2f4d130ffc7a50e878750d6a01bd5a62f9a578182927990e04876d41fe329f52&amp;scene=21#wechat_redirect" data-linktype="2">Python图文复现2022|06-单细胞功能富集分析</a></section></li><li><section><a href="http://mp.weixin.qq.com/s?__biz=MzI1Njk4ODE0MQ==&amp;mid=2247508161&amp;idx=1&amp;sn=a9d2de49e4b489f849e6c088a5f061f4&amp;chksm=ea1ca643dd6b2f5581c197b35e700083b3a7ce3593bfaca797759c428c4f24b3cda0cb098dcf&amp;scene=21#wechat_redirect" data-linktype="2">Python图文复现2022|05-绘制单细胞差异分析热图</a></section></li><li><section><a href="http://mp.weixin.qq.com/s?__biz=MzI1Njk4ODE0MQ==&amp;mid=2247508108&amp;idx=1&amp;sn=3131f1fdb24e893e622c2eb0588d1520&amp;chksm=ea1ca60edd6b2f18a59f4591d59682a4a3918976bebf3e40e45f432cee4accd389fe3f632551&amp;scene=21#wechat_redirect" data-linktype="2">Python图文复现2022|04-绘制单细胞文献Figure 1</a></section></li><li><section><a href="http://mp.weixin.qq.com/s?__biz=MzI1Njk4ODE0MQ==&amp;mid=2247508067&amp;idx=1&amp;sn=32b6eb2f8b053b4046fc3a83ce15b7b8&amp;chksm=ea1ca6e1dd6b2ff76eccc364f604f71a49e1bb2a7f08799b3c4743d80b9c5189dae814b92c42&amp;scene=21#wechat_redirect" data-linktype="2">Python图文复现2022|03-多样本整合分析</a></section></li><li><section><a href="http://mp.weixin.qq.com/s?__biz=MzI1Njk4ODE0MQ==&amp;mid=2247507998&amp;idx=1&amp;sn=ac7aee0b9b5f42aaf77bc79b0496477f&amp;chksm=ea1ca69cdd6b2f8a1bbfa4e15c37ba536d7d21b38d860499a33a02e7815ace43f5fadf469ca5&amp;scene=21#wechat_redirect" data-linktype="2">Python图文复现2022|02-数据介绍与下载</a></section></li><li><section><a href="http://mp.weixin.qq.com/s?__biz=MzI1Njk4ODE0MQ==&amp;mid=2247507955&amp;idx=1&amp;sn=6268e0602b2678db25a2d9587c7b204e&amp;chksm=ea1cd971dd6b5067604198239b9b285f3a015003f41db4ddec1a3e6f98e316c59d89c182f53f&amp;scene=21#wechat_redirect" data-linktype="2">Python图文复现2022|01-文献阅读：致命COVID-19分子单细胞肺图谱</a></section></li></ul><h3 data-tool="mdnice编辑器">scanpy官方教程2022</h3><ul data-tool="mdnice编辑器"><li><section><a href="http://mp.weixin.qq.com/s?__biz=MzI1Njk4ODE0MQ==&amp;mid=2247508251&amp;idx=1&amp;sn=41999924d6c02d93699128f1b42205b0&amp;chksm=ea1ca799dd6b2e8fab3a8038fbb13c3ba6d4e208c073f71a00b76f67c8d33c3ba085020e079d&amp;scene=21#wechat_redirect" data-linktype="2">scanpy官方教程2022|08-AnnLoader：使用anndata构建pytorch模型</a></section></li></ul><ul data-tool="mdnice编辑器"><li><section><a href="http://mp.weixin.qq.com/s?__biz=MzI1Njk4ODE0MQ==&amp;mid=2247507789&amp;idx=1&amp;sn=4646cf3f642c59246f6f0107d6a704df&amp;chksm=ea1cd9cfdd6b50d952eeefc95eb0da069a35be3d81d7e3164cb50b97ba39c891effcc0a33aa6&amp;scene=21#wechat_redirect" data-linktype="2">scanpy官方教程2022|07-anndata对象解析</a></section></li><li><section><a href="http://mp.weixin.qq.com/s?__biz=MzI1Njk4ODE0MQ==&amp;mid=2247507626&amp;idx=1&amp;sn=31b30ad7dd90bae59eda083ee0ac7877&amp;chksm=ea1cd828dd6b513e6881b16f575a5254f977fbf88f8acab291c080e3d09e258beea113744927&amp;scene=21#wechat_redirect" data-linktype="2">scanpy官方教程2022|06-scRNA-Seq与空间转录组整合分析：scanorama</a></section></li><li><section><a href="http://mp.weixin.qq.com/s?__biz=MzI1Njk4ODE0MQ==&amp;mid=2247507414&amp;idx=1&amp;sn=a2dc5adb69c217b5484f3626355f5cac&amp;chksm=ea1cdb54dd6b52424fc816917edc00a3b35a7eb4edf4c54df4c118884810ed2df94dde40cd9b&amp;scene=21#wechat_redirect" data-linktype="2">scanpy官方教程2022|05-空间转录组数据分析</a></section></li><li><section><a href="http://mp.weixin.qq.com/s?__biz=MzI1Njk4ODE0MQ==&amp;mid=2247507279&amp;idx=1&amp;sn=311f6afa8e1a61d9124544bcd7c866f1&amp;chksm=ea1cdbcddd6b52db6b21b430fe9d41e5ca4962ab0a78a4623dd8fb7671fa61b400b115eb55bb&amp;scene=21#wechat_redirect" data-linktype="2">scanpy官方教程2022|04-数据整合：ingest and BBKNN</a></section></li><li><section><a href="http://mp.weixin.qq.com/s?__biz=MzI1Njk4ODE0MQ==&amp;mid=2247506818&amp;idx=1&amp;sn=ef2d182c455bd0741a131df42e82bec6&amp;chksm=ea1cdd00dd6b541675fff007b746b533500958f0dcb7c812ed236a720037938a5d0c23ecc970&amp;scene=21#wechat_redirect" data-linktype="2">scanpy官方教程2022|03-scanpy包核心绘图功能</a></section></li><li><section><a href="http://mp.weixin.qq.com/s?__biz=MzI1Njk4ODE0MQ==&amp;mid=2247506483&amp;idx=1&amp;sn=d64c2cc54656f8347b0d3aabb4f30edd&amp;chksm=ea1cdcb1dd6b55a732ff8b8bab30c2eb483e22395544522d5f7e4b21e4af8b571cfd77d28d74&amp;scene=21#wechat_redirect" data-linktype="2">scanpy官方教程2022|02-细胞发育/分化轨迹推断</a></section></li><li><section><a href="http://mp.weixin.qq.com/s?__biz=MzI1Njk4ODE0MQ==&amp;mid=2247506131&amp;idx=1&amp;sn=e0bf71a1c3d6cb2be736cec9fff85805&amp;chksm=ea1cde51dd6b57474e332d23af0bf69b755a139a8b3ce6da05228ba8c8601012c73f15f42200&amp;scene=21#wechat_redirect" data-linktype="2">scanpy官方教程2022|01-Preprocessing and clustering 3k PBMCs</a></section></li></ul><h3 data-tool="mdnice编辑器">如果你需要Python编程书籍</h3><p data-tool="mdnice编辑器">看了看主流的平台差不多是图灵社区整理的最齐全了，详见：<a href="https://mp.weixin.qq.com/s?__biz=MjM5Njc0MjIwMA==&amp;mid=2649807043&amp;idx=1&amp;sn=0a92435c08201e4913a23173b5ba67b0&amp;scene=21#wechat_redirect" data-linktype="2">年度书单盘点 | 豆瓣高分，值得反复刷的Python好书</a>：</p><p><img data-galleryid="" data-imgfileid="100043631" data-ratio="1.1194444444444445" data-s="300,640" data-type="png" data-w="1080" data-src="https://mmbiz.qpic.cn/mmbiz_png/cZNhZQ6j4wzRGe0fyHIhD2a8vARyicm0QE8zr3XaumMOs3EEJ1l3OsEibDd6Mbfia1aiaZpKliaASNEmrAbmtibrICpA/640?wx_fmt=png&amp;from=appmsg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" src="https://mmbiz.qpic.cn/mmbiz_png/cZNhZQ6j4wzRGe0fyHIhD2a8vARyicm0QE8zr3XaumMOs3EEJ1l3OsEibDd6Mbfia1aiaZpKliaASNEmrAbmtibrICpA/640?wx_fmt=png&amp;from=appmsg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1"></p><figure data-tool="mdnice编辑器"><figcaption>Python编程书籍</figcaption></figure></section><p><br></p><h4 data-tool="mdnice编辑器">文末友情宣传</h4><p data-tool="mdnice编辑器">强烈建议你推荐给身边的<strong>博士后以及年轻生物学PI</strong>，多一点数据认知，让他们的科研上一个台阶：</p><ul data-tool="mdnice编辑器"><li><section><a target="_blank" href="http://mp.weixin.qq.com/s?__biz=MzAxMDkxODM1Ng==&amp;mid=2247527207&amp;idx=1&amp;sn=fb9ca814003fc24e9ec8b1bcecbd1d56&amp;chksm=9b4b2b9cac3ca28afc5b68047e5f0587b6636d52879051decd573009e38313c5f7d6b0d1927d&amp;scene=21#wechat_redirect" textvalue="生物信息学马拉松授课（买一得‍五）" linktype="text" imgurl="" imgdata="null" data-itemshowtype="0" tab="innerlink" data-linktype="2">生物信息学马拉松授课（买一得五）</a> ，你的生物信息学入门课，春节前最后一次</section></li><li><section><a target="_blank" href="http://mp.weixin.qq.com/s?__biz=MzAxMDkxODM1Ng==&amp;mid=2247524148&amp;idx=1&amp;sn=7806da6feb41a36493c519c1cfc1d3ac&amp;chksm=9b4bdf8fac3c569960369602f1ef26639cb366b250f233b2297d1f059471c0458335bfc0b829&amp;scene=21#wechat_redirect" textvalue="时隔5年，我们的生信技能树VIP学徒继续招生啦" linktype="text" imgurl="" imgdata="null" data-itemshowtype="0" tab="innerlink" data-linktype="2" hasload="1">时隔5年，我们的生信技能树VIP学徒继续招生啦</a><br></section></li><li><section><a target="_blank" href="http://mp.weixin.qq.com/s?__biz=MzAxMDkxODM1Ng==&amp;mid=2247522831&amp;idx=2&amp;sn=1744efdf428465425a145ff3a982198b&amp;chksm=9b4bdab4ac3c53a28fbecbbff4f254f470b54a7a20468bb753b295b930315e1ec45bcbabc10b&amp;scene=21#wechat_redirect" textvalue="144线程640Gb内存服务器共享一年‍仍然是仅需800" linktype="text" imgurl="" imgdata="null" data-itemshowtype="0" tab="innerlink" data-linktype="2" hasload="1">144线程640Gb内存服务器共享一年仍然是仅需800</a></section></li></ul><p><span>生信Python初体验</span><span><span>1</span></span></p><p><span><br></span></p><p><br></p><p><mp-style-type data-value="3"></mp-style-type></p></div>  
<hr>
<a href="https://mp.weixin.qq.com/s/w_pqhUKD4ly8SNKtqJSCQA",target="_blank" rel="noopener noreferrer">原文链接</a>
