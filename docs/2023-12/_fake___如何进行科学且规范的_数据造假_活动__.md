---
title: "{fake}: 如何进行科学且规范的“数据造假”活动？！"
date: 2023-12-29T05:34:23Z
draft: ["false"]
tags: [
  "fetched",
  "R语言和统计"
]
categories: ["Acdemic"]
---
{fake}: 如何进行科学且规范的“数据造假”活动？！ by R语言和统计
------
<div><section data-mpa-powered-by="yiban.io"><span>这篇文章介绍一个R包，可以制造出虚拟的数据，帮助进一步理解多种常见统计方法的内在原理。<br></span><br></section><section><span>首先安装R包，并且载入： </span></section><section><span><br mpa-from-tpl="t"></span></section><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" mpa-preserve="t" mpa-from-tpl="t"><pre><section><span>install.packages(<span>"fake"</span>)<br mpa-from-tpl="t">library(fake)</span></section></pre></section><section><span>R包get！<br></span></section><section><span><br></span></section><section><span>以线性回归模型为例，制作所需数据，代码如下： </span></section><section><span><br mpa-from-tpl="t"></span></section><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" mpa-preserve="t" mpa-from-tpl="t"><pre><section><span>set.seed(<span>1</span>)<br mpa-from-tpl="t">data1 &lt;- SimulateRegression(n = <span>500</span>, pk = <span>10</span>) </span><span># n为样本量，pk为自变量个数</span><span><br mpa-from-tpl="t">summary(data1)<br mpa-from-tpl="t">head(data1$xdata)<br mpa-from-tpl="t">head(data1$ydata)</span></section></pre></section><section><img data-galleryid="" data-imgfileid="100024926" data-ratio="0.1437007874015748" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/pCu8RzQCByT9KYSVEd2VTaC5406BfPmWllO8BgPyHwGIVBAK2WHEBZicwGo9BlOgwfibJuibqmpG5LEpx5x2BLGTw/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="1016" src="https://mmbiz.qpic.cn/mmbiz_png/pCu8RzQCByT9KYSVEd2VTaC5406BfPmWllO8BgPyHwGIVBAK2WHEBZicwGo9BlOgwfibJuibqmpG5LEpx5x2BLGTw/640?wx_fmt=png&amp;from=appmsg"></section><section><br></section><section><img data-galleryid="" data-imgfileid="100024928" data-ratio="0.37407407407407406" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/pCu8RzQCByT9KYSVEd2VTaC5406BfPmWAVc66WHRvPCfQlqMHXf4FS1pyHfibCuQibEdEkm5XIsdJSicXy6XqfJJg/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/mmbiz_png/pCu8RzQCByT9KYSVEd2VTaC5406BfPmWAVc66WHRvPCfQlqMHXf4FS1pyHfibCuQibEdEkm5XIsdJSicXy6XqfJJg/640?wx_fmt=png&amp;from=appmsg"></section><section><br></section><section><img data-galleryid="" data-imgfileid="100024929" data-ratio="1.0564516129032258" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/pCu8RzQCByT9KYSVEd2VTaC5406BfPmWicGyMxopzBNa8jMpTopjeSu5qVMzHek4EoGyV3nBUib7ksXcxGhxZuew/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="248" src="https://mmbiz.qpic.cn/mmbiz_png/pCu8RzQCByT9KYSVEd2VTaC5406BfPmWicGyMxopzBNa8jMpTopjeSu5qVMzHek4EoGyV3nBUib7ksXcxGhxZuew/640?wx_fmt=png&amp;from=appmsg"></section><section><br></section><section><span>数据创建完毕，各位可以拿去把玩了！</span></section><section><span><br></span></section><section><span>下一步，创建logistic回归模型的数据，代码如下： </span></section><section><span><br mpa-from-tpl="t"></span></section><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" mpa-preserve="t" mpa-from-tpl="t"><pre><section><span>set.seed(<span>1</span>)<br mpa-from-tpl="t">data2 &lt;- SimulateRegression(n = <span>500</span>, pk = <span>10</span>,<br mpa-from-tpl="t">                            family = <span>"binomial"</span>)<br mpa-from-tpl="t">summary(data2)<br mpa-from-tpl="t">head(data2$xdata)<br mpa-from-tpl="t">head(data2$ydata)</span></section></pre></section><section><img data-galleryid="" data-imgfileid="100024930" data-ratio="0.14453125" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/pCu8RzQCByT9KYSVEd2VTaC5406BfPmWQ6UBickkawdXSjWC2IA111KuGfoibt25D1PMJd59RdNibwqicsATEjyW9A/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="1024" src="https://mmbiz.qpic.cn/mmbiz_png/pCu8RzQCByT9KYSVEd2VTaC5406BfPmWQ6UBickkawdXSjWC2IA111KuGfoibt25D1PMJd59RdNibwqicsATEjyW9A/640?wx_fmt=png&amp;from=appmsg"></section><section><br></section><section><img data-galleryid="" data-imgfileid="100024931" data-ratio="0.37222222222222223" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/pCu8RzQCByT9KYSVEd2VTaC5406BfPmWVGCqC8GeMVn8JxZIT8CIoDc0URaFoVnJ9FfFib06iaicPEVLOSQYaIbcA/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/mmbiz_png/pCu8RzQCByT9KYSVEd2VTaC5406BfPmWVGCqC8GeMVn8JxZIT8CIoDc0URaFoVnJ9FfFib06iaicPEVLOSQYaIbcA/640?wx_fmt=png&amp;from=appmsg"></section><section><br></section><section><img data-galleryid="" data-imgfileid="100024932" data-ratio="1.131578947368421" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/pCu8RzQCByT9KYSVEd2VTaC5406BfPmWbdu7c2G7iaSG9Sq0sVeoic6IFibibWVEN9IORuFk7KWRNdo6g9iavUoWyBQ/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="228" src="https://mmbiz.qpic.cn/mmbiz_png/pCu8RzQCByT9KYSVEd2VTaC5406BfPmWbdu7c2G7iaSG9Sq0sVeoic6IFibibWVEN9IORuFk7KWRNdo6g9iavUoWyBQ/640?wx_fmt=png&amp;from=appmsg"></section><section><br></section><section><span>下一步，创建ROC曲线的数据，并且使用刚创建的该数据画出ROC曲线，代码如下： </span></section><section><br></section><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" mpa-preserve="t" mpa-from-tpl="t"><pre><section><span>set.seed(<span>1</span>) <br mpa-from-tpl="t">data3 &lt;- SimulateRegression(n = <span>300</span>, pk = <span>20</span>, <br mpa-from-tpl="t">                            family = <span>"binomial"</span>,<br mpa-from-tpl="t">                            ev_xy = <span>0.8</span>) <span># auc</span><br mpa-from-tpl="t"><span># 创建logistic回归模型</span><br mpa-from-tpl="t">fitted &lt;- glm(data3$ydata ~ data3$xdata,family = <span>"binomial"</span>)$fitted.values <br mpa-from-tpl="t"><br mpa-from-tpl="t"><span># ROC曲线</span><br mpa-from-tpl="t">roc &lt;- ROC(predicted = fitted, observed = data3$ydata) <br mpa-from-tpl="t">plot(roc)</span></section></pre></section><section><img data-galleryid="" data-imgfileid="100024933" data-ratio="0.7916666666666666" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/pCu8RzQCByT9KYSVEd2VTaC5406BfPmWUUMPDMbQ38Mibtmzic1o1EHJIGsyDsBm5PrQJE1LZBX1PnWo2EiaM6EGw/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/mmbiz_png/pCu8RzQCByT9KYSVEd2VTaC5406BfPmWUUMPDMbQ38Mibtmzic1o1EHJIGsyDsBm5PrQJE1LZBX1PnWo2EiaM6EGw/640?wx_fmt=png&amp;from=appmsg"></section><section><br></section><section><span>下一步，创建相关矩阵数据，代码如下： </span></section><section><span><br mpa-from-tpl="t"></span></section><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" mpa-preserve="t" mpa-from-tpl="t"><pre><section><span>set.seed(<span>1</span>) <br mpa-from-tpl="t">data4 &lt;-SimulateCorrelation(pk = <span>15</span>) <br mpa-from-tpl="t"><br mpa-from-tpl="t">Heatmap(data4$sigma, <br mpa-from-tpl="t">        col = c(<span>"darkblue"</span>,<span>"white"</span>,<span>"darkred"</span>), <br mpa-from-tpl="t">        text = TRUE,<br mpa-from-tpl="t">        format = <span>"f"</span>,<br mpa-from-tpl="t">        digits = <span>1</span>, <br mpa-from-tpl="t">        legend_range = c(<span>-1</span>, <span>1</span>))</span></section></pre></section><section><img data-galleryid="" data-imgfileid="100024934" data-ratio="0.7398148148148148" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/pCu8RzQCByT9KYSVEd2VTaC5406BfPmW1JExI0LCpDsqsSgfoW9wo2K0oh4YNMzaPMzzYDnicxYYgicUAicLFKong/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/mmbiz_png/pCu8RzQCByT9KYSVEd2VTaC5406BfPmW1JExI0LCpDsqsSgfoW9wo2K0oh4YNMzaPMzzYDnicxYYgicUAicLFKong/640?wx_fmt=png&amp;from=appmsg"></section><section><br></section><section><span>最后一个例子为高斯图模型数据，代码如下：<br></span></section><section><br></section><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" mpa-preserve="t" mpa-from-tpl="t"><pre><section><span>set.seed(<span>1</span>) <br mpa-from-tpl="t">data5 &lt;- SimulateGraphical(n = <span>500</span>, pk = <span>50</span>, <br mpa-from-tpl="t">                           topology = <span>"random"</span>, <br mpa-from-tpl="t">                           nu_within = <span>0.05</span>) <br mpa-from-tpl="t">head(data5$data)<br mpa-from-tpl="t">plot(data5)</span></section></pre></section><section><img data-galleryid="" data-imgfileid="100024935" data-ratio="0.6981481481481482" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/pCu8RzQCByT9KYSVEd2VTaC5406BfPmWicof7JG7tg0nSVJ7CILfNU3x6smt3RdTk1wzl6d4ibhyhE0cVopqBibIQ/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/mmbiz_png/pCu8RzQCByT9KYSVEd2VTaC5406BfPmWicof7JG7tg0nSVJ7CILfNU3x6smt3RdTk1wzl6d4ibhyhE0cVopqBibIQ/640?wx_fmt=png&amp;from=appmsg"></section><section><br></section><section><img data-galleryid="" data-imgfileid="100024936" data-ratio="0.9" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/pCu8RzQCByT9KYSVEd2VTaC5406BfPmWjhdqImJd8D91BBMwmyBx9icicYKonINaG0s4XMXnBaHUS7MD0DrdZVxg/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/mmbiz_png/pCu8RzQCByT9KYSVEd2VTaC5406BfPmWjhdqImJd8D91BBMwmyBx9icicYKonINaG0s4XMXnBaHUS7MD0DrdZVxg/640?wx_fmt=png&amp;from=appmsg"></section><section><br></section><section><br></section><section><span>如果希望更加深入了解这个R包，可以查看下方的参考文献 </span><span>[1]</span><span>。</span><br></section><section><br></section><section><span>好啦，今天的内容就到这里。</span><span>如果有帮助，记得分享给需要的人</span><img data-ratio="1" data-src="https://res.wx.qq.com/t/wx_fed/we-emoji/res/v1.3.10/assets/Expression/Expression_67@2x.png" data-w="128" src="https://res.wx.qq.com/t/wx_fed/we-emoji/res/v1.3.10/assets/Expression/Expression_67@2x.png"><span>！</span></section><section><br></section><section><span>参考文献</span></section><section><br></section><section data-mpa-preserve-tpl-color="t" data-mpa-template="t" mpa-preserve="t" mpa-from-tpl="t"><pre><section><span>[1] https://cran.r-project.org/web/packages/fake/index.html</span></section></pre></section><section><br></section><section><span><strong><span>公众号的线上课程</span></strong></span></section><section><span>1. <a target="_blank" href="http://mp.weixin.qq.com/s?__biz=Mzk0MzE5OTAxMg==&amp;mid=2247506555&amp;idx=2&amp;sn=386b4d66c19578e0d318c6bc1ac5e21f&amp;chksm=c3351c30f4429526ca948ba1d78311b1f16f017a5bc17623de1276dc38e89df5bc9bc029f0de&amp;scene=21#wechat_redirect" textvalue="《R语言和统计新手课程》" linktype="text" imgurl="" imgdata="null" data-itemshowtype="0" tab="innerlink" data-linktype="2">《R语言和统计新手课程》</a></span></section><section><span>2. <a target="_blank" href="http://mp.weixin.qq.com/s?__biz=Mzk0MzE5OTAxMg==&amp;mid=2247506977&amp;idx=1&amp;sn=b7f96f32505ac8b88fb68357c8d43d69&amp;chksm=c3351a6af442937cc8777dd9241f23c3ab8e049677738b222d8dabe7aeb1e3074c80ce749dcd&amp;scene=21#wechat_redirect" textvalue="《回归：从入门到进阶》" linktype="text" imgurl="" imgdata="null" data-itemshowtype="0" tab="innerlink" data-linktype="2">《回归：从入门到进阶》</a></span></section><section><span><br></span></section><section><strong><span>统计咨询</span></strong></section><section><a target="_blank" href="http://mp.weixin.qq.com/s?__biz=Mzk0MzE5OTAxMg==&amp;mid=2247508283&amp;idx=1&amp;sn=4ed28c3711a18a34b1b4346612cbfe81&amp;chksm=c3356770f442ee66f6abc20a6115ae619663d5f417f9823705ade284fc62593188c4de7903ce&amp;scene=21#wechat_redirect" textvalue="《服务介绍和经典合作案例》" linktype="text" imgurl="" imgdata="null" data-itemshowtype="0" tab="innerlink" data-linktype="2"><span>《服务介绍和经典合作案例》</span></a></section><section><span><br></span></section><section><span><strong><span>公众号核心成员的成果发表</span></strong></span></section><section><span><a target="_blank" href="http://mp.weixin.qq.com/s?__biz=Mzk0MzE5OTAxMg==&amp;mid=2247506555&amp;idx=1&amp;sn=0ca95fddcc184506e02c5b7ea70c0567&amp;chksm=c3351c30f4429526acad9c6c20dc0c3b76dc849d57a1755155f234f6eb31a24a904962f7aa5d&amp;scene=21#wechat_redirect" textvalue="《SCI医学1区论文》" linktype="text" imgurl="" imgdata="null" data-itemshowtype="0" tab="innerlink" data-linktype="2">《SCI医学1区影响因子9分论文》</a></span></section><section><br></section><section><span><strong><span>公众号核心成员担任SCI杂志Associate Editor!</span></strong></span></section><section><a target="_blank" href="http://mp.weixin.qq.com/s?__biz=Mzk0MzE5OTAxMg==&amp;mid=2247508003&amp;idx=1&amp;sn=4d6c2bf2e1723e751743ff6eeda407cc&amp;chksm=c3356668f442ef7ee530363ababa01f074c2bc1765f551a3d90cb2ce0a9faa62cdefa6380803&amp;scene=21#wechat_redirect" textvalue="《Journal of Alzheimer's disease杂志Associate editor》" linktype="text" imgurl="" imgdata="null" data-itemshowtype="0" tab="innerlink" data-linktype="2"><span>《JAD杂志Associate editor》</span></a></section><section><a target="_blank" href="http://mp.weixin.qq.com/s?__biz=Mzk0MzE5OTAxMg==&amp;mid=2247508499&amp;idx=1&amp;sn=2adb08a49ac005b837970118de24e749&amp;chksm=c3356458f442ed4ecd899198d92e2a5584f146a4a0a82a75cd065bc1719fd76b226886be758f&amp;scene=21#wechat_redirect" textvalue="《Frontiers in Neuroscience, Frontiers in Neurology and Frontiers in Psychiatry杂志的神经退行性病变板块》" linktype="text" imgurl="" imgdata="null" data-itemshowtype="0" tab="innerlink" data-linktype="2"><span>《Frontiers in Neuroscience, Frontiers in Neurology and Frontiers in Psychiatry杂志的神经退行性病变板块》</span></a></section><section><br></section><section><br></section><section data-mpa-template="t" mpa-from-tpl="t"><section><span>▌本文由</span><span><strong mpa-from-tpl="t"><span>R语言和统计</span></strong></span><span>首发</span></section><section><span>▌课程相关咨询可添加R师妹微信: kefu_rstats</span></section><section><span>▌编辑：June</span></section><section><span>▌邮箱：contact@rstats.cn</span></section><section><span>▌网站：www.rstats.cn</span></section><section><span>▌<strong>我们致力于</strong><strong>让R语言和统计变得简单！</strong><br></span></section><section><br></section><section mpa-from-tpl="t"><section label="Powered by 135editor.com" data-role="outer" mpa-from-tpl="t"><section data-role="paragraph" mpa-from-tpl="t"><section data-mpa-template="t" mpa-from-tpl="t"><section mpa-from-tpl="t"><section label="Powered by 135editor.com" data-role="outer" mpa-from-tpl="t"><section data-role="paragraph" mpa-from-tpl="t"><section mpa-from-tpl="t"><section mpa-from-tpl="t"><section label="Powered by 135editor.com" data-role="outer" mpa-from-tpl="t"><section data-role="paragraph" mpa-from-tpl="t"><hr><section><br></section></section></section></section></section></section></section></section></section></section></section></section></section><p><mp-style-type data-value="3"></mp-style-type></p></div>  
<hr>
<a href="https://mp.weixin.qq.com/s/136s2wOjS1zXn1x2Gq2vpQ",target="_blank" rel="noopener noreferrer">原文链接</a>
