---
title: "ggforce优雅的绘制多组椭圆图"
date: 2023-07-05T15:48:58Z
draft: ["false"]
tags: [
  "fetched",
  "R语言数据分析指南"
]
categories: ["Acdemic"]
---
ggforce优雅的绘制多组椭圆图 by R语言数据分析指南
------
<div><section data-tool="mdnice编辑器" data-website="https://www.mdnice.com"><h3 data-tool="mdnice编辑器"><span></span><span><span></span>欢迎关注R语言数据分析指南</span><span></span></h3><blockquote data-tool="mdnice编辑器"><span>❝</span><p>本节来介绍如何使用<strong>「ggforce」</strong>包来自定义绘制多组椭圆图可以看作与韦恩图类似但是在布局上也有些许不同，下面小编就通过一个案例来进行展示数据为随意构建无实际意义仅作图形展示用，希望各位观众老爷能够喜欢。<strong>「数据+代码已经上传2023VIP群，加群的观众老爷请自行下载」</strong></p><span>❞</span></blockquote><h3 data-tool="mdnice编辑器"><span></span><span><span></span>关注下方公众号下回更新不迷路</span><span></span></h3><section><mp-common-profile data-pluginname="mpprofile" data-id="Mzg3MzQzNTYzMw==" data-headimg="http://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAZF0rpeZII9Ltl26VbVagriczTria1fib3XgjwwHEHFjPzkmGpqWDVVHBSzhENictUM2iavAKiaM5lc9USw/0?wx_fmt=png" data-nickname="R语言数据分析指南" data-alias="YanJANtwo" data-signature="R语言重症爱好者，喜欢绘制各种精美的图表，喜欢的小伙伴可以关注我，跟我一起学习" data-from="0" data-is_biz_ban="0"></mp-common-profile></section><h3 data-tool="mdnice编辑器"><span></span><span><span></span>加载R包</span><span></span></h3><pre data-tool="mdnice编辑器"><span></span><code><span>library</span>(tidyverse) <br><span>library</span>(ggforce) <br><span>library</span>(PrettyCols)  <br></code></pre><h3 data-tool="mdnice编辑器"><span></span><span><span></span>自定义颜色</span><span></span></h3><pre data-tool="mdnice编辑器"><span></span><code>bg &lt;- <span>"white"</span>  <span># 设置背景颜色为白色</span><br>pal &lt;- prettycols(<span>"Dark"</span>)  <span># 创建一个名为"Dark"的漂亮颜色调色板</span><br></code></pre><h3 data-tool="mdnice编辑器"><span></span><span><span></span>导入数据</span><span></span></h3><pre data-tool="mdnice编辑器"><span></span><code>df &lt;- read_tsv(<span>"data.xls"</span>)<br></code></pre><h3 data-tool="mdnice编辑器"><span></span><span><span></span>绘制多组椭圆图</span><span></span></h3><pre data-tool="mdnice编辑器"><span></span><code>ggplot() +  <span># 创建一个ggplot对象</span><br>  geom_ellipse(aes(x0 = <span>0</span>, y0 = <span>0</span>, a = <span>5</span>, b = <span>3</span>, angle = <span>225</span>),  <span># 添加椭圆</span><br>               fill = pal[<span>1</span>], colour = pal[<span>1</span>],  alpha = <span>0.5</span>) +  <span># 设置填充色、边框颜色和透明度</span><br>  geom_ellipse(aes(x0 = <span>6</span>, y0 = <span>0</span>, a = <span>5</span>, b = <span>3</span>, angle = <span>45</span>),  <span># 添加椭圆</span><br>               fill = pal[<span>2</span>], colour = pal[<span>2</span>], alpha = <span>0.5</span>) +  <span># 设置填充色、边框颜色和透明度</span><br>  geom_ellipse(aes(x0 = <span>3</span>, y0 = <span>5.5</span>, a = <span>5</span>, b = <span>3</span>, angle = <span>0</span>),  <span># 添加椭圆</span><br>               fill = pal[<span>3</span>], colour = pal[<span>3</span>], alpha = <span>0.5</span>) +  <span># 设置填充色、边框颜色和透明度</span><br>  geom_circle(aes(x0 = <span>7.5</span>, y0 = -<span>3.5</span>, r = <span>1.2</span>),  <span># 添加圆</span><br>              fill = pal[<span>4</span>], colour = pal[<span>4</span>], alpha = <span>0.5</span>) +  <span># 设置填充色、边框颜色和透明度</span><br>  geom_text(data = filter(df, size == <span>1</span>),  <span># 添加文本标签，只选择大小为1的数据</span><br>            aes(x = x, y = y, label = label_en, angle = angle),  <span># 设置位置、标签和角度</span><br>            colour =<span>"white"</span>, size = <span>10</span>) + <span># 设置文本颜色为白色，大小为10</span><br>  geom_text(data = filter(df, size &gt; <span>1</span>), <span># 添加文本标签，只选择大小大于1的数据</span><br>            aes(x = x, y = y, label = label_en, angle = angle), <span># 设置位置、标签和角度</span><br>            colour = <span>"white"</span>, size = <span>4</span>) + <span># 设置文本颜色为白色，大小为4</span><br>  guides(size = <span>"none"</span>) + <span># 隐藏size的图例</span><br>  coord_equal() + <span># 设置坐标系相等</span><br>  theme_void() <span># 使用空白主题</span><br></code></pre><figure data-tool="mdnice编辑器"><img data-ratio="0.716743119266055" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAbKy4pJyibwuPljmdFBCO8Gs8FzTWqfzzXdmMmeSzrqkYjCY4jv5JeIjfBiajU5tT1J0y1r9iaE9OpWg/640?wx_fmt=png" data-type="png" data-w="872" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAbKy4pJyibwuPljmdFBCO8Gs8FzTWqfzzXdmMmeSzrqkYjCY4jv5JeIjfBiajU5tT1J0y1r9iaE9OpWg/640?wx_fmt=png"></figure><blockquote data-tool="mdnice编辑器"><span>❝</span><p>本节介绍到此结束，有需要学习个性化数据可视化的朋友，欢迎到小编的<strong>「淘宝店铺」</strong> <strong>「R语言数据分析指南」</strong>购买<strong>「2023年度会员文档」</strong>同步更新中<strong>「售价149元」</strong>，内容主要包括各种<strong>「高分论文的图表分析复现以及一些个性化图表的绘制」</strong>均包含数据+代码；按照往年数据小编年产出约在150+以上</p><span>❞</span></blockquote><p data-tool="mdnice编辑器">购买后微信发小编订单截图即邀请进新的会员交流群，小编的文档为按年售卖，只包含当年度的<strong>「除系列课程外」</strong>的文档，有需要往年文档的朋友也可下单购买，需要了解更多信息的朋友欢迎交流咨询。</p><h3 data-tool="mdnice编辑器"><span></span><span><span></span>2023会员群案例展示</span><span></span></h3><p data-tool="mdnice编辑器"><img data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAbKy4pJyibwuPljmdFBCO8Gs8veCnPStiakN7icGCvAAdwPaaYcsQI3tT4Nss0a4Rvqa8bCzyoPY9oKw/640?wx_fmt=png" data-type="png" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAbKy4pJyibwuPljmdFBCO8Gs8veCnPStiakN7icGCvAAdwPaaYcsQI3tT4Nss0a4Rvqa8bCzyoPY9oKw/640?wx_fmt=png"><img data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAbKy4pJyibwuPljmdFBCO8GseaJ7bY52BrrWh8uIxnvj7EJQUsrwuelEPssYYQw6BRdRWl9Q9gek2A/640?wx_fmt=png" data-type="png" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAbKy4pJyibwuPljmdFBCO8GseaJ7bY52BrrWh8uIxnvj7EJQUsrwuelEPssYYQw6BRdRWl9Q9gek2A/640?wx_fmt=png"><img data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAbKy4pJyibwuPljmdFBCO8GsSuQW52Ra53OJsCb1jdAFTrVgR3cP8zlO69MKiaqXEicUOSHHM2ECq4Ig/640?wx_fmt=png" data-type="png" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAbKy4pJyibwuPljmdFBCO8GsSuQW52Ra53OJsCb1jdAFTrVgR3cP8zlO69MKiaqXEicUOSHHM2ECq4Ig/640?wx_fmt=png"><img data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAbKy4pJyibwuPljmdFBCO8GsOpfliaZnqyfhJ269IwltAo0qC266Vla8BNnmUB0HhJxfXQJSCjJCPjg/640?wx_fmt=png" data-type="png" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAbKy4pJyibwuPljmdFBCO8GsOpfliaZnqyfhJ269IwltAo0qC266Vla8BNnmUB0HhJxfXQJSCjJCPjg/640?wx_fmt=png"><img data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAbKy4pJyibwuPljmdFBCO8GsfOPHtxSf1FVWUn1RWuDpNuNrkKUGChYwKlDnlHEf81YAPjibwtwVFNw/640?wx_fmt=png" data-type="png" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAbKy4pJyibwuPljmdFBCO8GsfOPHtxSf1FVWUn1RWuDpNuNrkKUGChYwKlDnlHEf81YAPjibwtwVFNw/640?wx_fmt=png"><img data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAbKy4pJyibwuPljmdFBCO8Gs01t5t0QzQLoOhh9DDbA8kaYAjDYY7vfKp2efDHzQxq2YlWnakOJzmw/640?wx_fmt=png" data-type="png" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAbKy4pJyibwuPljmdFBCO8Gs01t5t0QzQLoOhh9DDbA8kaYAjDYY7vfKp2efDHzQxq2YlWnakOJzmw/640?wx_fmt=png"><img data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAbKy4pJyibwuPljmdFBCO8GslxhxicUibJyqUbBwALdjLYf49uw6wC7DsboIw5UoKEY5awWhHiadqnlwQ/640?wx_fmt=png" data-type="png" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAbKy4pJyibwuPljmdFBCO8GslxhxicUibJyqUbBwALdjLYf49uw6wC7DsboIw5UoKEY5awWhHiadqnlwQ/640?wx_fmt=png"><img data-ratio="0.4255555555555556" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAbKy4pJyibwuPljmdFBCO8GsC4xcyQyw0ibjtTzIapONXxwQQNvsEh6fdOIe8fQweM8zo9Ribr778Yhw/640?wx_fmt=png" data-type="png" data-w="900" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAbKy4pJyibwuPljmdFBCO8GsC4xcyQyw0ibjtTzIapONXxwQQNvsEh6fdOIe8fQweM8zo9Ribr778Yhw/640?wx_fmt=png"></p><h3 data-tool="mdnice编辑器"><span></span><span><span></span>文档内容展示</span><span></span></h3><p data-tool="mdnice编辑器"><img data-ratio="0.475" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAbKy4pJyibwuPljmdFBCO8Gszdy4ibG6LBCFyK4Ziac5t3Jm39PzOH8XibsXp0Op6W1uYOtAPt0Ucv6Eg/640?wx_fmt=png" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAbKy4pJyibwuPljmdFBCO8Gszdy4ibG6LBCFyK4Ziac5t3Jm39PzOH8XibsXp0Op6W1uYOtAPt0Ucv6Eg/640?wx_fmt=png"><img data-ratio="0.44722222222222224" data-src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAbKy4pJyibwuPljmdFBCO8GsXS46UscAn2JicTEV1UphmbMS4u8oibz1fQicudKwLQNdRPOdX4rcsGfXQ/640?wx_fmt=png" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/mmbiz_png/EibnicgwScTAbKy4pJyibwuPljmdFBCO8GsXS46UscAn2JicTEV1UphmbMS4u8oibz1fQicudKwLQNdRPOdX4rcsGfXQ/640?wx_fmt=png"></p></section><p><br></p><p><mp-style-type data-value="3"></mp-style-type></p></div>  
<hr>
<a href="https://mp.weixin.qq.com/s/X6UMfe4MdPsKH1a7CK7jvQ",target="_blank" rel="noopener noreferrer">原文链接</a>
