---
title: "老板喊你调研文献？推荐你用R包软件②pubmed.mineR"
date: 2023-07-31T14:13:16Z
draft: ["false"]
tags: [
  "fetched",
  "生信菜鸟团"
]
categories: ["Acdemic"]
---
老板喊你调研文献？推荐你用R包软件②pubmed.mineR by 生信菜鸟团
------
<div><section data-tool="mdnice编辑器" data-website="https://www.mdnice.com"><h1 data-tool="mdnice编辑器"><span></span><span>1-背景&amp;背景资料</span><span></span></h1><p data-tool="mdnice编辑器"><img data-ratio="0.4722222222222222" data-src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9GmA8C46dR1ggZzqWxCNsqvrA1ibxOsk0VFkkibgRGDfW1ladaS39vqFPw/640?wx_fmt=png" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9GmA8C46dR1ggZzqWxCNsqvrA1ibxOsk0VFkkibgRGDfW1ladaS39vqFPw/640?wx_fmt=png">R包安利 ② pubmed.mineR—又一个PubMed利器https://mp.weixin.qq.com/s/bndecTSABox2dcr7aoheig</p><h1 data-tool="mdnice编辑器"><span></span><span>2-更新的意义？</span><span></span></h1><p data-tool="mdnice编辑器">1- pubmed在上述推文发表之后更新了检索界面</p><p data-tool="mdnice编辑器">2- 检索式更丰富</p><p data-tool="mdnice编辑器">3- 小结R包的用途，方便读者选择</p><h1 data-tool="mdnice编辑器"><span></span><span>3- pubmed.mineR学习</span><span></span></h1><p data-tool="mdnice编辑器">这个包相较于esayPubMed更倾向于生物学科</p><figure data-tool="mdnice编辑器"><img data-ratio="0.5834990059642147" data-src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9GA2ibwr4TJpDUIuzb8BRricQY6F8MUxqFysqMDRb1Gc3NNLCzUJEia9A7w/640?wx_fmt=png" data-type="png" data-w="1006" src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9GA2ibwr4TJpDUIuzb8BRricQY6F8MUxqFysqMDRb1Gc3NNLCzUJEia9A7w/640?wx_fmt=png"></figure><h2 data-tool="mdnice编辑器"><span></span><span>3.1-获取Asbtract文件（新版）</span><span></span></h2><p data-tool="mdnice编辑器">以下是旧版的导出教程：</p><p data-tool="mdnice编辑器">https://cloud.tencent.com/developer/article/1423450 </p><p data-tool="mdnice编辑器">在这个基础上探索 </p><p data-tool="mdnice编辑器">1-先按照关键词检索，选择send to 粘贴板<img data-ratio="0.6587677725118484" data-src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9GZSy6SRrbM7WnvxpUQFFQvytdE8vstDLxZJKUiceErgEXSahNPnhegpw/640?wx_fmt=png" data-type="png" data-w="1055" src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9GZSy6SRrbM7WnvxpUQFFQvytdE8vstDLxZJKUiceErgEXSahNPnhegpw/640?wx_fmt=png">2-选择要粘贴到粘贴板的内容，send<img data-ratio="0.39239332096474955" data-src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9GV6vvttzaul7Fh5IrWsnpo2ve0iaeicib1ZUS6pH8447IDDr1wReX7OzvA/640?wx_fmt=png" data-type="png" data-w="1078" src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9GV6vvttzaul7Fh5IrWsnpo2ve0iaeicib1ZUS6pH8447IDDr1wReX7OzvA/640?wx_fmt=png"><img data-ratio="0.3818525519848771" data-src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9G4ia5P4wAKhiasnGj84libjt6JhxaZlLc9XfbkJkEvib5oRIHtWs1H7fCiag/640?wx_fmt=png" data-type="png" data-w="1058" src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9G4ia5P4wAKhiasnGj84libjt6JhxaZlLc9XfbkJkEvib5oRIHtWs1H7fCiag/640?wx_fmt=png">3-到这粘贴板界面还可以精选<img data-ratio="0.825925925925926" data-src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9G0Ad5TwttU6aj8GVaIiaYUvhqH4AruuVULncFJy7p4b610Tsnuc5BVmQ/640?wx_fmt=png" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9G0Ad5TwttU6aj8GVaIiaYUvhqH4AruuVULncFJy7p4b610Tsnuc5BVmQ/640?wx_fmt=png">4-创建文件<img data-ratio="0.4544419134396355" data-src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9G8jkCvbcFwfGtod2MXH5khZ51uwYXoSQhOKvMxlViasPZfFNjEzIIVUg/640?wx_fmt=png" data-type="png" data-w="878" src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9G8jkCvbcFwfGtod2MXH5khZ51uwYXoSQhOKvMxlViasPZfFNjEzIIVUg/640?wx_fmt=png">文件如下：<img data-ratio="0.4388888888888889" data-src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9GwR67unSRZniaF0o53BDKDjAGNicHb8pAmLJsYiaoibTrkxBibFibS4wk72oA/640?wx_fmt=png" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9GwR67unSRZniaF0o53BDKDjAGNicHb8pAmLJsYiaoibTrkxBibFibS4wk72oA/640?wx_fmt=png"></p><h2 data-tool="mdnice编辑器"><span></span><span>3.2 Text Mining 技能点亮</span><span></span></h2><h3 data-tool="mdnice编辑器"><span></span><span>3.2.1 读取从 PubMed 下载的 Abstract 文件</span><span></span></h3><pre data-tool="mdnice编辑器"><code><span>#pubmed.mineR</span><br>rm(list=ls())<br><span># install.packages("pubmed.mineR")</span><br>library(pubmed.mineR)<br>pubmed_abstracts &lt;- readabs(<span>"pubmed_abstract.txt"</span>)<br>class(pubmed_abstracts)<br>printabs(pubmed_abstracts)  <span>## 显示开头和结尾部分</span><br></code></pre><p data-tool="mdnice编辑器">结果：<img data-ratio="0.5175925925925926" data-src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9GM03ft4iaQcUxBCVcHiaNRviaCwygKOSMvlT1DJek46oOdVEB7LiciavgJibg/640?wx_fmt=png" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9GM03ft4iaQcUxBCVcHiaNRviaCwygKOSMvlT1DJek46oOdVEB7LiciavgJibg/640?wx_fmt=png">获取的对象长这样<img data-ratio="0.17037037037037037" data-src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9G6gezxMWVd830gN1t1VAeXEJWAdVCDwahiaL8S0k0TSROxBic9lSqqbxg/640?wx_fmt=png" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9G6gezxMWVd830gN1t1VAeXEJWAdVCDwahiaL8S0k0TSROxBic9lSqqbxg/640?wx_fmt=png"></p><h3 data-tool="mdnice编辑器"><span></span><span>3.3.2 从 <code>pubmed_abstracts</code> 提取 PMID</span><span></span></h3><pre data-tool="mdnice编辑器"><code><span>#获取PMID</span><br>pmid &lt;- pubmed_abstracts@PMID<br>pmid<br>class(pmid)<br><span># -----结果</span><br>&gt; pmid &lt;- pubmed_abstracts@PMID<br>&gt; pmid<br> [1] 37304267 35509519 35609877 35576168 35875359 36861033 34675792 36860552 33641171<br>[10] 33909398 33488462 33073437 33012687 32902122 32712060 32589076 32147856 31430115<br>[19] 31074953 30481087 30944451 33500908 28693812 28595091 28355064 28353419 28027842<br>[28] 27738953 28925894 27623625 27081746 28355839 24909775 24814524 23814868 23663408<br>[37] 23734133 22586414 22374898 21653522 21133799 21133797 19324333 19026670 18801719<br>[46] 18199908 17671349 17613705 16843701 16136557 15811229 15288343<br>&gt; class(pmid)<br>[1] <span>"numeric"</span><br></code></pre><h3 data-tool="mdnice编辑器"><span></span><span>3.3.3获取生物信息pubtator_function()</span><span></span></h3><p data-tool="mdnice编辑器">函数 pubtator_function() 只需输入 PMID（数字或上一步得到的 pmid）, 就可以给出相应的信息，如 'Gene’, ’Chemical’, ’Disease’ 等。</p><p data-tool="mdnice编辑器">新版的pubmed可以直接导出pmid</p><pre data-tool="mdnice编辑器"><code>pubtator_output &lt;- pubtator_function(pmid)<br></code></pre><p data-tool="mdnice编辑器"><img data-ratio="0.22314814814814815" data-src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9GYPDvj0DWA31vB2jUxrfsH7OE7CPk7IFpGRtrjSusHZzfxVjgEWh3Eg/640?wx_fmt=png" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9GYPDvj0DWA31vB2jUxrfsH7OE7CPk7IFpGRtrjSusHZzfxVjgEWh3Eg/640?wx_fmt=png">也可以直接输入PMID</p><pre data-tool="mdnice编辑器"><code>pubtator_ot6 &lt;- pubtator_function(36861033)<br></code></pre><p data-tool="mdnice编辑器"><img data-ratio="0.18425925925925926" data-src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9GUSkcyeibsEDE8vncXw49IfDynUcUPJSw5xVib1xrdbL8p9ug0YsDhc3Q/640?wx_fmt=png" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9GUSkcyeibsEDE8vncXw49IfDynUcUPJSw5xVib1xrdbL8p9ug0YsDhc3Q/640?wx_fmt=png">可以看到有基因这一项，但<span>是没有基因相关数据，按照PMID查看原文</span></p><p data-tool="mdnice编辑器"><img data-ratio="0.2722222222222222" data-src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9GT5HELGoib6hHnibn9TBUzhG2HyOFVRlice7Tw9XrKVPjWkynuWhIv6kKA/640?wx_fmt=png" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9GT5HELGoib6hHnibn9TBUzhG2HyOFVRlice7Tw9XrKVPjWkynuWhIv6kKA/640?wx_fmt=png">看标题和基因没有什么太大的关系，所以没有是正常的。</p><p data-tool="mdnice编辑器">推文上还描述了一个报错<img data-ratio="0.38" data-src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9GJxrMP3XSvqlFdZUnpgTmCf95eINg8sKE0MRNgZjUsQrvibx7V6YxQSg/640?wx_fmt=png" data-type="png" data-w="1000" src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9GJxrMP3XSvqlFdZUnpgTmCf95eINg8sKE0MRNgZjUsQrvibx7V6YxQSg/640?wx_fmt=png"></p><pre data-tool="mdnice编辑器"><code>pubtator_ot1 &lt;- pubtator_function(31158748)<br></code></pre><p data-tool="mdnice编辑器">但我这边正常<img data-ratio="0.1925925925925926" data-src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9GfMTnsjficKKqOMR9ec3tqo2qUxmicicbI23NIvPibtaCkUEBeXJwaDjOuw/640?wx_fmt=png" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9GfMTnsjficKKqOMR9ec3tqo2qUxmicicbI23NIvPibtaCkUEBeXJwaDjOuw/640?wx_fmt=png"></p><pre data-tool="mdnice编辑器"><code>pubtator_output<span>$Genes</span><br>pubtator_output<span>$Genes</span>[1]<br></code></pre><p data-tool="mdnice编辑器">通过代码可以选出其中某几项 </p><p data-tool="mdnice编辑器">但我这个没有基因选出来，输出的内容有点奇怪，可能和我基因数为0有关</p><p data-tool="mdnice编辑器"><br><img data-ratio="0.35356200527704484" data-src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9G2oaDbumyC92EibToph0dbHtVVg85icspia73icNTP4X7ctkN9UJFwXOkKA/640?wx_fmt=png" data-type="png" data-w="379" src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9G2oaDbumyC92EibToph0dbHtVVg85icspia73icNTP4X7ctkN9UJFwXOkKA/640?wx_fmt=png"><strong><span>没有成功复现的小伙伴没有关系，后面有更好的办法~</span></strong></p><h3 data-tool="mdnice编辑器"><span></span></h3><h3 data-tool="mdnice编辑器"><span>3.3.4 函数<code>SentenceToken()</code> 获取文献信息</span><span></span></h3><p data-tool="mdnice编辑器">提取Abstract文件中的信息</p><pre data-tool="mdnice编辑器"><code><span># 查看第一篇文献的摘要</span><br>abstractstc &lt;- pubmed_abstracts@Abstract<br>SentenceToken(abstractstc[1])<br><br><span>#查看第一篇文献的出版信息</span><br>Journalstc &lt;- pubmed_abstracts@Journal<br>SentenceToken(Journalstc[1]) <br></code></pre><p data-tool="mdnice编辑器">pubmed_abstracts 3.1.1里面有啥就能看啥<img data-ratio="0.16106604866743918" data-src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9GjyE7iaC7YHo2ygj3lVI0PEibib3vIjBTKNHgE9ZiaIFIfsiaHnh8pZibaERQ/640?wx_fmt=png" data-type="png" data-w="863" src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9GjyE7iaC7YHo2ygj3lVI0PEibib3vIjBTKNHgE9ZiaIFIfsiaHnh8pZibaERQ/640?wx_fmt=png"></p><p data-tool="mdnice编辑器">出版信息展示，能看到有些字符被异常提取了<br><img data-ratio="0.2851851851851852" data-src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9GW3mOs6Jz4XU7yAibLjoEypicOoZTJZ0LaZxniaib0PBx5PmDJYa6hQibibyg/640?wx_fmt=png" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9GW3mOs6Jz4XU7yAibLjoEypicOoZTJZ0LaZxniaib0PBx5PmDJYa6hQibibyg/640?wx_fmt=png"></p><h3 data-tool="mdnice编辑器"><span></span><span>3.3.5 函数sendabs()整理pubmed文档</span><span></span></h3><p data-tool="mdnice编辑器">使用该函数可以直接输出3.3.1的文件</p><pre data-tool="mdnice编辑器"><code>sendabs(pubmed_abstracts,<span>"mypba.txt"</span>)<br></code></pre><p data-tool="mdnice编辑器">输出的文件长这样：<img data-ratio="0.5386875612144956" data-src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9GN0Co4lqrR6lAZbamSoJnicl8icXk9kzF0YicqAE8ORTibcicSS0GSOp3dJQ/640?wx_fmt=png" data-type="png" data-w="1021" src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9GN0Co4lqrR6lAZbamSoJnicl8icXk9kzF0YicqAE8ORTibcicSS0GSOp3dJQ/640?wx_fmt=png">原本pubmed上下载下来的数据长这样：<img data-ratio="0.6596596596596597" data-src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9GwibE97EJ1mgmehscWctuSFOpoNeOepVwxKtAjzo5qTQ54tamuwcGw3Q/640?wx_fmt=png" data-type="png" data-w="999" src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9GwibE97EJ1mgmehscWctuSFOpoNeOepVwxKtAjzo5qTQ54tamuwcGw3Q/640?wx_fmt=png">原本的文件就只是数据的陈列，但在sendabs()处理之后出现了列名，形成了表格。</p><h3 data-tool="mdnice编辑器"><span></span><span>3.3.6 小结-对比easyPubMed获取的txt文件</span><span></span></h3><p data-tool="mdnice编辑器">该easyPubMed获取的代码如下：</p><pre data-tool="mdnice编辑器"><code><span>#pubmed.mineR</span><br>rm(list=ls())<br>library(easyPubMed)<br>my_query &lt;- <span>"Andy Clark[AU]"</span><br>entrez_id &lt;- get_pubmed_ids(my_query)<br>abstracts_txt &lt;- fetch_pubmed_data(entrez_id, format = <span>"xml"</span>)<br><span>print</span>(abstracts_txt[1:16])<br>new_PM_df &lt;- table_articles_byAuth(pubmed_data = abstracts_txt, included_authors = <span>"last"</span>, max_chars = 500)<br>write.table(new_PM_df,file = <span>"pubmed_result.txt"</span>)<br></code></pre><p data-tool="mdnice编辑器"><img data-ratio="0.5844027640671273" data-src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9GXBg5X99ic4EAkyJibVCGWhUu1yzJ0EOfyURCx7fhPHns8RN9HYbK9Jpw/640?wx_fmt=png" data-type="png" data-w="1013" src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9GXBg5X99ic4EAkyJibVCGWhUu1yzJ0EOfyURCx7fhPHns8RN9HYbK9Jpw/640?wx_fmt=png">怎么说呢，从列名来看easyPubMed获取的文献信息比sendabs()默认输出更多。</p><p data-tool="mdnice编辑器"><span><strong>但<span>pubmed.mineR可以抓文本中的基因哦，写在后方</span></strong></span></p><h2 data-tool="mdnice编辑器"><span></span><span>3.3 一些高频词汇的可视化-抓重点</span><span></span></h2><h3 data-tool="mdnice编辑器"><span></span><span>3.3.1 统计词频word_atomizations()</span><span></span></h3><p data-tool="mdnice编辑器">函数 word_atomizations 可以将整个文本拆分成单词，除去空格、标点符号、常用单词，统计剩下的单词出现的频率。</p><pre data-tool="mdnice编辑器"><code>p53_words &lt;- word_atomizations(pubmed_abstracts)  <br>p53_words[1:10,]<br></code></pre><p data-tool="mdnice编辑器">这个函数要求提供一个S4对象的pubmed文档<img data-ratio="0.4050632911392405" data-src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9Grp8ichIFSA3WM6KkhSILJFyGtib1KXugNKkibZfc86XO3ibJIbd4dnBU5w/640?wx_fmt=png" data-type="png" data-w="790" src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9Grp8ichIFSA3WM6KkhSILJFyGtib1KXugNKkibZfc86XO3ibJIbd4dnBU5w/640?wx_fmt=png">但偶尔感觉识别还是有点问题，<img data-ratio="0.40663390663390664" data-src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9GWAibHwGtPnnqX8YK6ziaq58seJUkl2nkg9sfHnjMUGjdIjMyI8hVvVyA/640?wx_fmt=png" data-type="png" data-w="814" src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9GWAibHwGtPnnqX8YK6ziaq58seJUkl2nkg9sfHnjMUGjdIjMyI8hVvVyA/640?wx_fmt=png">单个字母的重复也被识别出来了，当然我可以跳过不看，直接看后面单词的部分。</p><h3 data-tool="mdnice编辑器"><span></span><span>3.3.2 统计"基因频"gene_atomization()</span><span></span></h3><p><span><em><strong><span>各位注意（敲黑板），抓基因了</span></strong></em></span><span><br></span></p><p data-tool="mdnice编辑器">函数 <code>gene_atomization()</code> 基于包内自带的 <code>HGNC</code> 数据库，可以从文本提取 Gene Symbol 和其出现的频率。</p><pre data-tool="mdnice编辑器"><code>p53_gene &lt;- gene_atomization(pubmed_abstracts)<br>p53_gene<br></code></pre><p data-tool="mdnice编辑器">结果展示：<img data-ratio="0.20153061224489796" data-src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9GNnCzvsIVbVPB735czPGpS4dYXwKib9qDZicLvUsO1c9rVicX8uyxymdYA/640?wx_fmt=png" data-type="png" data-w="784" src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9GNnCzvsIVbVPB735czPGpS4dYXwKib9qDZicLvUsO1c9rVicX8uyxymdYA/640?wx_fmt=png"></p><h3 data-tool="mdnice编辑器"><span><strong>基因被统计出来了</strong></span></h3><h3 data-tool="mdnice编辑器"><span></span><span>3.3.3 老司机进阶 pubmed数据挖掘， RISmed包</span><span></span></h3><p data-tool="mdnice编辑器">以 ”关键词“ 和 "年份" 两个参数，得到 PubMed 中相关文章的数量，并可视化。代码是从公众号上粘贴修改的限定关键词lung cancer和quercetin</p><pre data-tool="mdnice编辑器"><code>rm(list=ls())<br>library(RISmed)<br>library(dplyr)<br>library(ggplot2)<br>library(tidytext)<br>library(wordcloud)<br><span># 修改检索关键词</span><br>query &lt;- <span>"(lung cancer[Title/Abstract]) AND (quercetin[Title/Abstract])"</span><br>result &lt;- EUtilsSummary(query, <br>                        <span>type</span> = <span>"esearch"</span>, <br>                        db = <span>"pubmed"</span>,<br>                        datetype = <span>"pdat"</span>,<br>                        retmax = 10000,<br>                        mindate = 2020, <br>                        maxdate = 2023)<br><br>fetch &lt;- EUtilsGet(result, <span>type</span> = <span>"efetch"</span>, db = <span>"pubmed"</span>) <br>abstracts &lt;- data.frame(title = fetch@ArticleTitle,<br>                        abstract = fetch@AbstractText, <br>                        journal = fetch@Title,<br>                        DOI = fetch@PMID, <br>                        year = fetch@YearPubmed) <br>abstracts &lt;- abstracts %&gt;% mutate(abstract = as.character(abstract))<br><span># 注意修改年份</span><br>abstracts %&gt;%<br>  group_by(year) %&gt;%<br>  count() %&gt;%<br>  filter(year &gt;= 2020) %&gt;% <br>  ggplot(aes(year, n)) +<br>  geom_point() +<br>  geom_line() +<br>  labs(title = <span>"Pubmed articles with search terms lung cancer AND quercetin \n2020-2023"</span>, hjust = 0.5,<br>       y = <span>"Articles"</span>)<br></code></pre><figure data-tool="mdnice编辑器"><img data-ratio="0.7620370370370371" data-src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9GfYwgliaKwhXxJDCk0x8icjU3VXRVYVJvCDg9ibiaA5mpeJKRYaczE9GORQ/640?wx_fmt=png" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9GfYwgliaKwhXxJDCk0x8icjU3VXRVYVJvCDg9ibiaA5mpeJKRYaczE9GORQ/640?wx_fmt=png"></figure><p data-tool="mdnice编辑器">绘制词云图：</p><pre data-tool="mdnice编辑器"><code>cloud &lt;- abstracts %&gt;%<br>  unnest_tokens(word, abstract) %&gt;%<br>  anti_join(stop_words) %&gt;%<br>  count(word, sort = TRUE)<br>cloud %&gt;%<br>  with(wordcloud(word, n, min.freq = 15, max.words = 500, colors = brewer.pal(8, <span>"Dark2"</span>)), scale = c(8,.3), per.rot = 0.4)<br></code></pre><figure data-tool="mdnice编辑器"><img data-ratio="0.8533123028391167" data-src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9GScGtmTtEu2I393oXdSribEvbx9xx3JdE02piaPOucHicSy4VgaF3eD2BQ/640?wx_fmt=png" data-type="png" data-w="634" src="https://mmbiz.qpic.cn/mmbiz_png/iaRJcrq2LosibEn7tX9CrPkzeO6bibwzia9GScGtmTtEu2I393oXdSribEvbx9xx3JdE02piaPOucHicSy4VgaF3eD2BQ/640?wx_fmt=png"></figure><h1 data-tool="mdnice编辑器"><span></span><span>4- 思考小结 R包的用途与特点</span></h1><p data-tool="mdnice编辑器">1-pubmed.mineR包所需要的格式是从pubmed官网导出的格式，因为不直接通过网络，这样的优势在于可以正常使用pubmed官方所提供的用于搜索的API网页，检索式DIY范围大。</p><p data-tool="mdnice编辑器">2-下载之后的数据被readabs()函数读取成为在R里面可以被识别的对象，可以直接@提取信息，通过SentenceToken()函数比@符号更细致地选择我们所需要的信息。通过sendabs()函数可以将readabs()函数的读取结果，直接输出整理成为<strong>新的格式txt格式并且保存</strong>，也就是帮助<strong>整理了一下文件格式</strong>。</p><p data-tool="mdnice编辑器">3-在readabs()函数中我们可以批量获得PMID，然后pubtator_function()可以通过PMID获取如 'Gene’, ’Chemical’, ’Disease’ 等生物医学研究中常常用到的信息，按照网页浏览的习惯，原本是需要我们一个网页一个网页看的，但通过这个R包可以直接获取到目标信息，并且对目标信息有一个大致的了解。</p><p data-tool="mdnice编辑器">4-可能是更倾向于字符处理和提取的缘故，相比于easypubmed，该包获取的pubmed txt文件稍显粗略。如果有想要按照文章名称批量详细阅读数据的需求的话，个人感觉easypubmed其实更好用一些。</p><p data-tool="mdnice编辑器">5-RISmed包还要再看看，感觉其特长在可视化。</p><h1 data-tool="mdnice编辑器"><span></span><span>5-致谢</span><span></span></h1><p data-tool="mdnice编辑器">感谢生信技能树团队，感谢曾老师提供的公众号文章和练习的素材。<span></span></p></section><p><mp-style-type data-value="10000"></mp-style-type></p></div>  
<hr>
<a href="https://mp.weixin.qq.com/s/a6XfKFXzVWHd52TKeCDrIQ",target="_blank" rel="noopener noreferrer">原文链接</a>
