---
title: "数据挖掘 | 识别数据中的离群值"
date: 2023-04-10T14:28:45Z
draft: ["false"]
tags: [
  "fetched",
  "生信控"
]
categories: ["Acdemic"]
---
数据挖掘 | 识别数据中的离群值 by 生信控
------
<div><p><img data-ratio="0.15625" data-src="https://mmbiz.qpic.cn/mmbiz_gif/GXnBwOcM857kicu3mN7sf73m53xRalJjvkd6jjlWBRqHTic97up9smWS7lZjB6py0O5l0hus3g6lyiaCBdc6fCkcQ/640?wx_fmt=gif&amp;wxfrom=5&amp;wx_lazy=1" data-w="640" src="https://mmbiz.qpic.cn/mmbiz_gif/GXnBwOcM857kicu3mN7sf73m53xRalJjvkd6jjlWBRqHTic97up9smWS7lZjB6py0O5l0hus3g6lyiaCBdc6fCkcQ/640?wx_fmt=gif&amp;wxfrom=5&amp;wx_lazy=1"></p><p>离群值是与其他观测值具有显著差异的值：</p><blockquote><p>In statistics, an <strong>outlier</strong> is a data point that <strong>differs significantly</strong> from other observations. —— wikipedia.</p></blockquote><p>对于离群值的识别，当前比较常用的一种方法是基于四分位距（<span>interquartile range</span>, <span>IQR</span>）。</p><p>IQR 是四分位中第一个和第三个分位数之间的距离。如果数据点比第一个四分位数(下图Q1)低 1.5 倍 IQR，或比第三个四分位数(下图Q3)高 1.5 倍 IQR，就属于离群值（Outliers）。在经典箱式图中：</p><figure><img data-ratio="0.4583333333333333" data-src="https://mmbiz.qpic.cn/mmbiz_png/GXnBwOcM855sMwDib2v5U9nEY0ENKCjGUFeXE2u1icu06sgabZ1WicbyYqsjGZj4WR0GgMqSPGtwOic1Vr14KrAesQ/640?wx_fmt=png" data-type="png" data-w="1080" title="null" src="https://mmbiz.qpic.cn/mmbiz_png/GXnBwOcM855sMwDib2v5U9nEY0ENKCjGUFeXE2u1icu06sgabZ1WicbyYqsjGZj4WR0GgMqSPGtwOic1Vr14KrAesQ/640?wx_fmt=png"></figure><p>可得：</p><p>IQR = Q3-Q1</p><p>Lower fence = Q1-1.5*IQR</p><p>Upper fence = Q3+1.5*IQR</p><p>在R中，只要用 <code>IQR()</code> 函数即可实现IQR的计算，对于离群值的识别、过滤过程可参考：</p><pre><span></span><code><span># 给定一个数值向量nums</span><br>Q &lt;- quantile(nums, probs=<span>c</span>(<span>.25</span>, <span>.75</span>), na.rm = <span>FALSE</span>) <span># 上下四分位</span><br>iqr &lt;- IQR(nums) <span># 计算IQR</span><br>lower &lt;- Q[<span>1</span>]-<span>1.5</span>*iqr<br>upper &lt;- Q[<span>2</span>]+<span>1.5</span>*iqr<br>nums = nums[which(nums &gt; lower &amp; nums &lt; upper)]</code></pre><p>当然，在不同的应用场景下，对于离群值的产生和定义也不同，可以灵活调整上示脚本中的iqr倍数。</p><p>我们可以用箱体图展示数据中的离群值:</p><p><a target="_blank" href="http://mp.weixin.qq.com/s?__biz=MzIyNzk1NjUxOA==&amp;mid=2247484605&amp;idx=1&amp;sn=2b20f4ebcd4048fffd1f60dcb4cf9f91&amp;chksm=e85806f4df2f8fe2e3bdfac385aeea12d2951bdd7766f6dd6bb05184cbfc360be6086c6d080b&amp;scene=21#wechat_redirect" textvalue="数据挖掘专题 | 使用ggpubr绘制箱式图（基础篇）" linktype="text" imgurl="" imgdata="null" data-itemshowtype="0" tab="innerlink" data-linktype="2"><strong>使用ggpubr绘制箱式图（基础篇）</strong></a><br></p><p><a target="_blank" href="http://mp.weixin.qq.com/s?__biz=MzIyNzk1NjUxOA==&amp;mid=2247484615&amp;idx=1&amp;sn=feef92fb721f3e17de40ab1ea6cdbd71&amp;chksm=e858068edf2f8f9803b73d8063be784431d68f3f9650255852b8aa92c5dc07eb7a019c35cd3d&amp;scene=21#wechat_redirect" textvalue="绘图专题 | 使用ggpubr绘制箱式图（进阶篇一）" linktype="text" imgurl="" imgdata="null" data-itemshowtype="0" tab="innerlink" data-linktype="2"><strong>使用ggpubr绘制箱式图（进阶篇）</strong></a><br></p><p>需要注意的是在绘制过程中可能存在的问题，特别是离群值：<br></p><p><a target="_blank" href="http://mp.weixin.qq.com/s?__biz=MzIyNzk1NjUxOA==&amp;mid=2247484920&amp;idx=1&amp;sn=d93b00b7d37c4d71991d459c43b65155&amp;chksm=e85807b1df2f8ea7739cd195d6d489fc8b05c32c43f31191af09a153fc257906c5701423c2a0&amp;scene=21#wechat_redirect" textvalue="R绘图 | 差点又错过一个隐蔽且致命的错误" linktype="text" imgurl="" imgdata="null" data-itemshowtype="0" tab="innerlink" data-linktype="2"><strong>R绘图 | 差点又错过一个隐蔽且致命的错误</strong></a></p><section data-darkmode-bgcolor="rgb(36, 36, 36)"><section data-darkmode-bgcolor="rgb(36, 36, 36)"><img data-ratio="0.3208955223880597" data-src="https://mmbiz.qpic.cn/mmbiz_gif/GXnBwOcM854H437mZXWZCJTqTQZhyDcYEQ1bk43JRXIlfjwwevW2rqZ8vibL9sSVlToSrLNtSjpJqxkHic4E8UAg/640?wx_fmt=gif&amp;wxfrom=5&amp;wx_lazy=1" data-type="gif" data-w="134" width="4em" src="https://mmbiz.qpic.cn/mmbiz_gif/GXnBwOcM854H437mZXWZCJTqTQZhyDcYEQ1bk43JRXIlfjwwevW2rqZ8vibL9sSVlToSrLNtSjpJqxkHic4E8UAg/640?wx_fmt=gif&amp;wxfrom=5&amp;wx_lazy=1"></section><section data-darkmode-bgcolor="rgb(36, 36, 36)"><br data-darkmode-bgcolor="rgb(36, 36, 36)"></section></section><section data-darkmode-bgcolor="rgb(36, 36, 36)"><br></section><section data-tools="135编辑器" data-id="93199" data-darkmode-bgcolor="rgb(36, 36, 36)" data-style='white-space: normal; max-width: 100%; box-sizing: border-box; background-color: rgb(255, 255, 255); color: rgba(255, 255, 255, 0.8); font-family: -apple-system-font, system-ui, "Helvetica Neue", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei UI", "Microsoft YaHei", Arial, sans-serif; letter-spacing: 0.544px; border-width: 0px; border-style: none; border-color: initial; overflow-wrap: break-word !important;'><section><section data-darkmode-bgcolor="rgb(36, 36, 36)"><section data-darkmode-bgcolor="rgb(36, 36, 36)"><section data-darkmode-bgcolor="rgb(36, 36, 36)" data-style="margin-left: 5px; padding-right: 15px; padding-left: 15px; max-width: 100%; box-sizing: border-box; border-color: rgb(0, 0, 0); border-width: 1px; border-style: solid; background: rgb(255, 181, 2); display: inline-block; font-size: 12px; overflow-wrap: break-word !important;"><p data-darkmode-bgcolor="rgb(36, 36, 36)"><span data-darkmode-bgcolor="rgb(36, 36, 36)">绘图系列·往期精彩</span></p></section></section></section></section><section data-darkmode-bgcolor="rgb(36, 36, 36)" data-darkmode-color="rgb(167, 167, 167)" data-style="margin-top: -5.5px; padding: 1em 0.8em; max-width: 100%; box-sizing: border-box; border-color: rgb(0, 0, 0); font-size: 14px; letter-spacing: 1.5px; line-height: 1.75em; border-width: 1px; border-style: solid; overflow-wrap: break-word !important;"><section><a target="_blank" href="http://mp.weixin.qq.com/s?__biz=MzIyNzk1NjUxOA==&amp;mid=2247485373&amp;idx=1&amp;sn=948d955dc84bbe4904947bb7e25da784&amp;chksm=e85805f4df2f8ce2c22145603aed2064ecd06fea8d9ff0526ad4c3259b74f4de0b9cfbee0ed8&amp;scene=21#wechat_redirect" textvalue="数据挖掘 | 往后相关性分析就跟着Cell做了！" linktype="text" imgurl="" imgdata="null" data-itemshowtype="0" tab="innerlink" data-linktype="2"><span>数据挖掘 | 往后相关性分析就跟着Cell做了！</span></a><br></section><section><a target="_blank" href="http://mp.weixin.qq.com/s?__biz=MzIyNzk1NjUxOA==&amp;mid=2247485295&amp;idx=3&amp;sn=494bfa9bb88ee2e6fe9f76a5d27e94af&amp;chksm=e8580526df2f8c306cbcf3531eed0bd2d38be93a610e6682a68ca3669b7e7ea05e5169f33709&amp;scene=21#wechat_redirect" textvalue="数据挖掘 | 往后相关性分析就跟着PNAS做了！" linktype="text" imgurl="" imgdata="null" data-itemshowtype="0" tab="innerlink" data-linktype="2"><span>数据挖掘 | 往后相关性分析就跟着PNAS做了！</span></a><br></section></section></section><section><br></section><section><img data-ratio="0.593939393939394" data-src="https://mmbiz.qpic.cn/mmbiz_png/GXnBwOcM854H437mZXWZCJTqTQZhyDcYqmIeAAMEcFe5NZQ9YmGwbRQibdWzd6P26ibllZtaVzicc5IzBj9ibW2xqA/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" data-type="jpeg" data-w="825" src="https://mmbiz.qpic.cn/mmbiz_png/GXnBwOcM854H437mZXWZCJTqTQZhyDcYqmIeAAMEcFe5NZQ9YmGwbRQibdWzd6P26ibllZtaVzicc5IzBj9ibW2xqA/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1"></section><p><mp-style-type data-value="3"></mp-style-type></p></div>  
<hr>
<a href="https://mp.weixin.qq.com/s/DEZ722E1rbhxKX8LMbSVtw",target="_blank" rel="noopener noreferrer">原文链接</a>
