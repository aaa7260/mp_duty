---
title: "最近KEGG分析不了不能怪Y叔啊"
date: 2023-04-02T02:53:29Z
draft: ["false"]
tags: [
  "fetched",
  "生信媛"
]
categories: ["Acdemic"]
---
最近KEGG分析不了不能怪Y叔啊 by 生信媛
------
<div><p><span>今天有朋友反应使用Y叔的clusterProfiler的enrichKEGG遇到了如下报错<br></span></p><p><img data-galleryid="" data-ratio="0.3215811965811966" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/I101ibe9h7rNOVxZ3se2fKQEUuyf3Cz7ooAIystaqxTxojaNicDwkqia2FiaVaOJfU4uYsib9wocZF71wLjdXRiaswibA/640?wx_fmt=png" data-type="png" data-w="1872" src="https://mmbiz.qpic.cn/mmbiz_png/I101ibe9h7rNOVxZ3se2fKQEUuyf3Cz7ooAIystaqxTxojaNicDwkqia2FiaVaOJfU4uYsib9wocZF71wLjdXRiaswibA/640?wx_fmt=png"></p><p><span>之前KEGG出现了问题，Y叔连夜修代码，让clusterProfiler能够正常。</span></p><p><span>但是这次问题，真的不算是Y叔的锅了，这次是KEGG网站的证书过期了，导致R语言无法正常下载了。</span></p><p><img data-galleryid="" data-ratio="0.23668639053254437" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/I101ibe9h7rNOVxZ3se2fKQEUuyf3Cz7oPTrzRia3pwmsUtDwHUphxA0MqUMsVsyGicpBxq8tPkVktLIFrUFwdDZQ/640?wx_fmt=png" data-type="png" data-w="1352" src="https://mmbiz.qpic.cn/mmbiz_png/I101ibe9h7rNOVxZ3se2fKQEUuyf3Cz7oPTrzRia3pwmsUtDwHUphxA0MqUMsVsyGicpBxq8tPkVktLIFrUFwdDZQ/640?wx_fmt=png"></p><p><span>那么咋办呢？<br></span></p><p><span>第一个方法，等！估计过几天就有人反馈了，然后就恢复正常了。</span></p><p><span>第二个方法，强制上！通过阅读clusterProfiler的文章，可以知道Y叔是通过参数clusterProfiler.download.method 来获取下载方式，默认是libcurl。 只要我们换成curl，并加上一个额外参数，就能强行下载了。</span></p><p><img data-galleryid="" data-ratio="0.41915227629513346" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/I101ibe9h7rNOVxZ3se2fKQEUuyf3Cz7oh6H5mVCPSib7B7aXa2VdicRmL2nLicXOricucg86pKVicsw8exzicSTjxvnw/640?wx_fmt=png" data-type="png" data-w="1274" src="https://mmbiz.qpic.cn/mmbiz_png/I101ibe9h7rNOVxZ3se2fKQEUuyf3Cz7oh6H5mVCPSib7B7aXa2VdicRmL2nLicXOricucg86pKVicsw8exzicSTjxvnw/640?wx_fmt=png"></p><p>但是这一方法，我只在mac上测试过，Linux和windows不确定能不能行。<span></span></p><p>方法3，本地制备KEGG.db。默认情况下enrichKEGG会在线获取数据，但是如果设置<span>use_internal_data</span><span>=TRUE，就可以使用本地的数据进行分析。</span></p><p>不过问题来了，这个本地数据怎么制备呢？我们公众号之前写过文章介绍过。<br></p><p><a target="_blank" href="http://mp.weixin.qq.com/s?__biz=MzI1MjU5MjMzNA==&amp;mid=2247487763&amp;idx=1&amp;sn=add2b8f98f6e954ff78554d4ccb1f602&amp;chksm=e9e038b2de97b1a4df9db4864bbde20eb6e2ab5db38f0fc85396a917a45ba3f1537319e74ea9&amp;scene=21#wechat_redirect" textvalue="多物种批量下载KEGG数据并做成KEGG.db包" linktype="text" imgurl="" imgdata="null" data-itemshowtype="11" tab="innerlink" data-linktype="2">多物种批量下载KEGG数据并做成KEGG.db包</a></p><p><a target="_blank" href="http://mp.weixin.qq.com/s?__biz=MzI1MjU5MjMzNA==&amp;mid=2247487705&amp;idx=1&amp;sn=8657bbaba95355f051aa69401ae9c35c&amp;chksm=e9e03978de97b06e07329760251da0cfb368a33cb15529fca0d810350ad2e600fa7addf72323&amp;scene=21#wechat_redirect" textvalue="KEGG数据本地化，再也不用担心网络问题了" linktype="text" imgurl="" imgdata="null" data-itemshowtype="11" tab="innerlink" data-linktype="2">KEGG数据本地化，再也不用担心网络问题了</a><br></p><p>PS，最近Y叔的新书首刷已经没了，出版社赶紧又印刷了一版。但是我想的是，啥时候，Y叔出clusterProfiler的书呢。<br></p><p><img data-ratio="1.3245283018867924" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/I101ibe9h7rNZq4TYaiaEJOe40Xtr1aNEyooacIMvsUw35lm0te6YuylVVFFMYia8qDQno513EWYEk2o7ib0Fj3ibhg/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" data-w="795" src="https://mmbiz.qpic.cn/mmbiz_jpg/I101ibe9h7rNZq4TYaiaEJOe40Xtr1aNEyooacIMvsUw35lm0te6YuylVVFFMYia8qDQno513EWYEk2o7ib0Fj3ibhg/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1"></p><p><br></p><p><mp-style-type data-value="3"></mp-style-type></p></div>  
<hr>
<a href="https://mp.weixin.qq.com/s/5MoXngFHz_6ZxJ1D4THqjQ",target="_blank" rel="noopener noreferrer">原文链接</a>
